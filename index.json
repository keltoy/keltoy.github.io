[{"categories":["Code"],"content":" è¿˜æ˜¯è¦æœ‰éƒ¨åˆ†æŠ€æœ¯çš„å†…å®¹ ","date":"2023-10-26","objectID":"/coding-life/:0:0","tags":["ç›®å½•"],"title":"Coding Life","uri":"/coding-life/"},{"categories":["Code"],"content":"Calcite Calcite ç®€ä»‹ ","date":"2023-10-26","objectID":"/coding-life/:1:0","tags":["ç›®å½•"],"title":"Coding Life","uri":"/coding-life/"},{"categories":["Code"],"content":"Flink FlinkSQL - å¼€å§‹ FlinkSQL - SQLè§£æè¿‡ç¨‹ FlinkSQL - SQLè¯­å¥åˆ°SqlNode FlinkSQL - éªŒè¯è¿‡ç¨‹ FlinkSQL - ç±»å‹éªŒè¯ FlinkSQL - Operation FlinkSQL - AggHandlerCodeGenerator ","date":"2023-10-26","objectID":"/coding-life/:2:0","tags":["ç›®å½•"],"title":"Coding Life","uri":"/coding-life/"},{"categories":["Code"],"content":"Paimon Paimon ","date":"2023-10-26","objectID":"/coding-life/:3:0","tags":["ç›®å½•"],"title":"Coding Life","uri":"/coding-life/"},{"categories":["Code"],"content":"Ros UART, I2C, SPI ros2 cheat sheet ","date":"2023-10-26","objectID":"/coding-life/:4:0","tags":["ç›®å½•"],"title":"Coding Life","uri":"/coding-life/"},{"categories":["Code"],"content":"å…¶ä»– LSMæ ‘ ","date":"2023-10-26","objectID":"/coding-life/:5:0","tags":["ç›®å½•"],"title":"Coding Life","uri":"/coding-life/"},{"categories":["ç”Ÿæ´»"],"content":" å¥½å¥½äº«å—å‰©ä½™äººç”Ÿï¼Œå»æ¢ç´¢åŒ—äº¬è¿™åº§åŸå¸‚ï¼Œèº«ä½“å¥åº·ï¼Œç”Ÿæ´»å¹¸ç¦æ¯”ä»€ä¹ˆéƒ½é‡è¦ ","date":"2023-10-07","objectID":"/life-in-beijing/:0:0","tags":["ç›®å½•"],"title":"åƒå–ç©ä¹åœ¨åŒ—äº¬","uri":"/life-in-beijing/"},{"categories":["ç”Ÿæ´»"],"content":"åƒå–ç¯‡ åç§° èœç³»é£æ ¼ è¿é” å°æ¥¼é¥­åº— åŒ—äº¬èœ å¦ æ›²å›­é…’æ¥¼ æ¹˜èœ å¦ ä¸€æ¥¼ä¸€é¥­åº— ç²¤èœ æ˜¯ é¸¡å¤èŒ¶å®¤ ä¸œå—äºšèœ æ˜¯ å…«æ¡ä¸€å· äº‘å—èœ å¦ ä¸œå››æ°‘èŠ³ åŒ—äº¬èœ æ˜¯ è´¹å¤§å¨ æ¹˜èœ æ˜¯ ç«çƒ§äº‘ äº‘å—èœ æ˜¯ æ¾é¹¤æ¥¼ è‹æµ™èœ å¦ é©¬å‡¯é¤å… æ¹˜èœ æ˜¯ å‚…è®°é…±è‚‰ å°åƒ å¦ æ™‹é˜³é¥­åº„ å±±è¥¿èœ æ˜¯ æ¸…æ°´äº­ æ¹–åŒ—èœ æ˜¯ ç‰åå° æ·®æ‰¬èœ æ˜¯ èƒåæ¥¼ çƒ¤é¸­ æ˜¯ å¯‚å· å·èœ å¦ æ–°æ–°æ¹˜èœé¦† æ¹˜èœ å¦ ä¸°æ³½å›­ é²èœ æ˜¯ æ·®æ‰¬æ˜¥ æ·®æ‰¬èœ æ˜¯ äº¬å…«å¤§æ¥¼é²èŠ±è½© åŒ—äº¬èœ æ˜¯ äº¬å…«å¤§æ¥¼äº¬èŠ±è½© åŒ—äº¬èœ æ˜¯ äº¬å…«å¤§æ¥¼æ¥šèŠ±è½© åŒ—äº¬èœ æ˜¯ ä¸€åä¸€å¿˜ äº‘å—èœ æ˜¯ æŸ³æ³‰å±… é²èœ å¦ ä¸‰ä¹‰å’Œé…’æ¥¼ é²èœ æ˜¯ èŸ¹è€å®‹ å°åƒ æ˜¯ æ»‡å¤§æ±  äº‘å—èœ æ˜¯ æƒ ä¸°å ‚ é²èœ æ˜¯ æ£®éš†é¥­åº„ è‹æµ™èœ å¦ å¥¥åé¤å… å¤©æ´¥èœ å¦ ä¸‰æ ·èœ å·èœ æ˜¯ ä¸‰æ ·èœçºå·åºœ å·èœ æ˜¯ ç‡•éƒŠçƒ§é¸½å­ ä¸œåŒ—èœ æ˜¯ è€æ ¹å±±åº„ ä¸œåŒ—èœ æ˜¯ é¼æ³°ä¸° å°åƒ æ˜¯ èšå¾·æ¥¼ åŒ—äº¬èœ å¦ åŠŸå¾·æ— ç´ èœ å¦ ä¸‰è‰²è²èŠ±å°åº¦é¤å… å°åº¦èœ æ˜¯ ä¸‰è‰²è²èŠ±ä¸œå—äºšé¤å… ä¸œå—äºšèœ æ˜¯ å››å­£æ°‘ç¦ çƒ¤é¸­ æ˜¯ é¸¿å®¾æ¥¼ åŒ—äº¬èœ æ˜¯ æ·®æ‰¬åºœ æ·®æ‰¬èœ æ˜¯ æ·®æ‰¬åºœæ¸¸å›­æƒŠæ¢¦ æ·®æ‰¬èœ æ˜¯ åŒ—äº¬é¥­åº— åŒ—äº¬èœ å¦ åŒå’Œå±… é²èœ æ˜¯ åŒ—å¹³æ¥¼ åŒ—äº¬èœ æ˜¯ åŒ—äº¬å¨æˆ¿ ç²¤èœ æ˜¯ è‹å¸®è¢ æ·®æ‰¬èœ æ˜¯ å–œå››æ–¹ å°åƒ å¦ ç¿ å›­ ç²¤èœ æ˜¯ é“¸é’Ÿè¤¡è£¢ç«çƒ§ å°åƒ æ˜¯ æ™®æ‹‰é‚£ å¾·å›½èœ æ˜¯ äº¬ä¸œä¸€ç» å°åƒ å¦ çƒ¤è‚‰å®› åŒ—äº¬èœ æ˜¯ æ–°å·é¢é¦† å°åƒ æ˜¯ å±€æ°” åŒ—äº¬èœ æ˜¯ æ»¡æ’è®° æ¶®è‚‰ å¦ å»¶å‰å†·é¢ æœé²œèœ æ˜¯ ç ‚é”…å±… åŒ—äº¬èœ æ˜¯ å—é—¨æ¶®è‚‰ æ¶®è‚‰ æ˜¯ é”¦èŠ³å°åƒ å°åƒ æ˜¯ åå¨è‚‰é¥¼ å°åƒ æ˜¯ é—¨é’‰æ å°åƒ å¦ ç‰›æ’å®¶ ç‰›æ’ æ˜¯ å°å¤§è‘£ çƒ¤é¸­ æ˜¯ é‡‘ç”Ÿéš† å°åƒ æ˜¯ åŒ—æ–°æ¡¥å¤ç…® å°åƒ æ˜¯ æŸ´æ°é£å‘³æ–‹ å°åƒ å¦ å¤§è‘£ çƒ¤é¸­ æ˜¯ ç‰æµé¦† æœé²œèœ å¦ å®œå®¾æ‹›å¾…æ‰€ å·èœ å¦ è€™è€³æœµ å·èœ å¦ æ³°ä¸°æ¥¼ é²èœ å¦ å·´å·é‡‘ä¸ç‰¹ æ–°ç–†èœ å¦ ç‹¼å¤§çˆ· æ–°ç–†èœ å¦ è´¾å›½é¾™ä¸­å›½å ¡ å°åƒ æ˜¯ æ½‡æ¹˜é˜ æ¹˜èœ æ˜¯ å›ç´èŠ± è´µå·èœ å¦ çº¢å®å®¶å¸¸èœ å°åƒ å¦ æ‚ èˆªå•¤é…’ å°åƒ æ˜¯ ç¥¥äº‘è½© å°åƒ å¦ æ±—è…¾æ ¼é‡Œ æ–°ç–†èœ å¦ è¥¿åŸŸé©¿å“ æ–°ç–†èœ å¦ åŒ—äº¬å…‹æ‹‰ç¾ä¸½é…’åº— æ–°ç–†èœ å¦ æ–°ç–†é¥­åº„ æ–°ç–†èœ æ˜¯ å‡†è‘›å°”æ–°ç–†èœ æ–°ç–†èœ å¦ æ–°ç–†å…µå›¢é£Ÿåºœ æ–°ç–†èœ å¦ æ–°ç–†å–€ä»€é¤å… æ–°ç–†èœ å¦ é•¿å®‰ç™½äº‘å¤§é…’åº— é™•èœ å¦ æ±‰å”æ˜¥ç§‹è¥¿å®‰å°åƒ å°åƒ å¦ é£å¤©é£Ÿåºœ ç”˜è‚ƒèœ å¦ é“¶å³°å…°å·æ‹‰é¢ å°åƒ å¦ æ•¦ç…Œé£Ÿåºœ ç”˜è‚ƒèœ æ˜¯ å¾®å•†æ•…é‡Œ å¾½èœ æ˜¯ æ¹–åŒ—å‘³é“ æ¹–åŒ—èœ å¦ éš†ä¸­å®¾é¦†é¤å… æ¹–åŒ—èœ å¦ ä¹å¤´é¸Ÿé£Ÿåºœ æ¹–åŒ—èœ å¦ æ¹˜éƒ½æ¹˜å‘³ æ¹˜èœ å¦ é™æµ·è½©æ¹˜èœç‹ æ¹˜èœ å¦ æ´åº­å›ä¹¡ æ¹˜èœ å¦ æ¹˜ä¸­ç¼˜æ¹–å—èœ æ¹˜èœ æ˜¯ æ½‡æ¹˜æ°¸å·ä¼šé¦† æ¹˜èœ å¦ ç›Šé˜³é©»äº¬åŠè”ç»œå¤„é¤å… æ¹˜èœ å¦ æ¹–å—å¤§å¦é¦–æ¹˜ç¼˜ä¸­é¤å… æ¹˜èœ å¦ åŒ—äº¬é‡åº†é¥­åº—ä¸­é¤å… å·èœ å¦ å¤©åºœé£Ÿèˆ« å·èœ å¦ è´¡é™¢èœ€æ¥¼ å·èœ å¦ æ–°å·åŠé¤å… å·èœ å¦ åŒ—äº¬èœ€éƒ½å®¾é¦†æ•…å®«åº— å·èœ å¦ èœ€é˜³é…’åº— å·èœ å¦ å¯Œä¹å±±é…’åº—å·èœé¦† å·èœ å¦ èœ€ç«¹æƒ…é…’æ¥¼åŒ—è¥æˆ¿åº— å·èœ å¦ æ”€è¥¿åœŸèœé¦† å·èœ å¦ ç ç©†æœ—ç›é¤å… è¥¿è—èœ å¦ èµ£äººä¹‹å®¶ æ±Ÿè¥¿èœ å¦ åˆå‘³åŸé¤å… æ±Ÿè¥¿èœ å¦ å—æ˜Œé¥­åº— æ±Ÿè¥¿èœ å¦ å¤§å¨åŒ  æ±Ÿè¥¿èœ å¦ è´µå·å¤§å¦è´µå·å… è´µå·èœ å¦ ç”²ç§€æ¥¼ç¼˜é¤å… è´µå·èœ å¦ é¦™è€…é¤å… ç²¤èœ å¦ å¤§é»”é—¨é£Ÿåºœ è´µå·èœ å¦ å¸ƒä¾äººå®¶é…¸æ±¤é±¼ è´µå·èœ å¦ é†‰ç¾éµä¹‰ è´µå·èœ å¦ å—é•¿åŸé£Ÿåºœ è´µå·èœ å¦ äº‘è…¾é£Ÿåºœ äº‘å—èœ å¦ å•†éƒ½é…’åº— è±«èœ å¦ å—é˜³é£Ÿåºœ è±«èœ å¦ ä¿¡é˜³å‘³é“ è±«èœ å¦ æ™‹ç››é£Ÿåºœ å±±è¥¿èœ å¦ æ™‹åºœå¤§é…’åº— å±±è¥¿èœ å¦ é»„æ²³äº¬éƒ½å¤§é…’åº— å±±è¥¿èœ å¦ é½é²è‹‘ é²èœ å¦ æµ·æ³°é£Ÿåºœ é²èœ æ˜¯ ç™¾çº³çƒŸå°å±±å•†åŠ¡é…’åº—é¤å… é²èœ å¦ æ½åŠèœé¦† é²èœ å¦ è‹ç•…å›­ æ±Ÿè‹å¤§å¦åº— æ·®æ‰¬èœ å¦ è‹ç•…å›­ æ±Ÿè‹é¥­åº— æ·®æ‰¬èœ å¦ å—äº¬å¤§é¥­åº—(è‡ªåŠ©) æ·®æ‰¬èœ å¦ æ±‰å ‚è‹åŒ—èœ æ·®æ‰¬èœ å¦ å¸¸å·å®¾é¦†é¤å… æ·®æ‰¬èœ å¦ æ·®æ‰¬èœå“é‰´å ‚ æ·®æ‰¬èœ å¦ æ±Ÿå—æ˜¥ æ·®æ‰¬èœ å¦ å®‰å¾½å¤§å¦ å¾½èœ å¦ åŒåº†æ¥¼ å¾½èœ æ˜¯ å…°å·å®¾é¦†é¤å…é™¢é‡‘æ™–å˜‰å›­åº— ç”˜è‚ƒèœ å¦ ç™¾è‰æ»©ç¾Š å®å¤èœ å¦ é“¶éƒ½é¤å… å®å¤èœ å¦ å…°é¦™è‹‘é’æµ·å¤§å¦é¤å… é’æµ·èœ å¦ å†…è’™é©»äº¬åŠé¤å… å†…è’™èœ å¦ é‡‘ç»¿æºç«é”… å†…è’™èœ å¦ å…ƒå¤§éƒ½å¥¶èŒ¶é¤å§ å†…è’™èœ å¦ å†…è’™å¤å®¾é¦†ä¸­é¤å… å†…è’™èœ å¦ é„‚å°”å¤šæ–¯è‰¾åŠ›é…’åº—é¤å… å†…è’™èœ å¦ å¤©èµ‹æ²³å¥—é¤å…(è’™ä¹‹æ—…è’™èœé¦†) å†…è’™èœ å¦ é¾™æ¸¯é…’æ¥¼ ä¸œåŒ—èœ å¦ äº¬æ»¨é¥­åº— ä¸œåŒ—èœ å¦ é›ªæ¾å®¾é¦†å‰äººç¼˜é¤å… ä¸œåŒ—èœ å¦ é•¿ç™½å±±å›½é™…å¤§é…’åº— ä¸œåŒ—èœ å¦ åŒ—å›½æ±ŸåŸé¤å… ä¸œåŒ—èœ å¦ è¾½å®é¥­åº—è¾½é£Ÿåºœé¤å… ä¸œåŒ—èœ å¦ é”¦å·é¥­åº— ä¸œåŒ—èœ å¦ è±«é¦™è‹‘é¤å… è±«èœ å¦ æ–°äº‘å—çš‡å† é…’åº—å½©äº‘å¤© äº‘å—èœ å¦ è´è¶æ³‰å®¾é¦† äº‘å—èœ å¦ ä¸€å“æ»‡ äº‘å—èœ å¦ æ˜†æ˜å¤§å¦é¤å… äº‘å—èœ å¦ é‚£å…°é…’æ¥¼ å¹¿è¥¿èœ å¦ æµ·å—é£Ÿåºœ æµ·å—èœ å¦ å±±æ³‰ç²¤å®´äº‘å±±èŒ¶é¤å… ç²¤èœ å¦ å…«é—½é£Ÿåºœ é—½èœ å¦ ç¦å·å®¾é¦† é—½èœ å¦ å¦é—¨å¤§å¦é¢è±ªé…’åº—é¢å›­é¤å… é—½èœ å¦ å…°æ°´å¿ƒæ¡¥ç»å…¸è†ç”°èœ é—½èœ å¦ ä¸€å“èŠ—æƒ… é—½èœ å¦ æµ™æ±Ÿé£Ÿåºœ è‹æµ™èœ å¦ å®æ³¢å®¾é¦†ä¸­é¤å… è‹æµ™èœ å¦ åƒå²›æ¹–é±¼å‘³é¦† æµ™èœ å¦ è†ç”°é¤å… é—½èœ æ˜¯ æå›­é¤å… å°åƒ å¦ èƒ¡å¤§é¥­é¦† å°é¾™è™¾ æ˜¯ èœ€é£æƒ… å·èœ å¦ æ‚¦å®¾é¥­é¦† åŒ—äº¬èœ å¦ ç‰åå®«å®¾é¦† é™•èœ å¦ å¸®è›‹å„¿æ–°ç–†ä¸¸å­æ±¤ æ–°ç–†èœ å¦ ç¾Šå¤§çˆ·æ¶®è‚‰ æ¶®è‚‰ æ˜¯ é¸¡è®°é¤å®¤ ç²¤èœ å¦ BOTTEGAæ„åº“ æ„å¤§åˆ©èœ æ˜¯ æ½®å ‚ ç²¤èœ æ˜¯ ç»æ‹¾å è‹æµ™èœ å¦ å¤©ä¸‹ç› å·èœ å¦ è€å‰å ‚ æœ¬å¸®èœ æ˜¯ ç²¤å°é¦† ç²¤èœ æ˜¯ è¾¾è¾¾å°¼å°”åœŸè€³å…¶é¤å… åœŸè€³å…¶èœ å¦ å¤©ç›®æ¹–ä¹‹å®¶ è‹æµ™èœ å¦ å¡å…°å¤æ–°ç–†ç¾é£Ÿ æ–°ç–†èœ å¦ è’™å…ƒæ¶®è‚‰ å†…è’™èœ å¦ å†¶æ˜¥ æ·®æ‰¬èœ å¦ ä¸‰æ™‹å®¾é¦†é¤å… å±±è¥¿èœ å¦ å‡¤å‡°æºé¤å… æ²³åŒ—èœ å¦ æ·¡æ³Šå±… 18891387567 é²èœ å¦ äº‘åé˜ å±±è¥¿èœ å¦ è©ææ ‘èŒ¶é¤å… è±«èœ å¦ æ³¸å·å¹ºå¦¹ç§æˆ¿èœ å°åƒ å¦ è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ å°åƒ æ˜¯ è‡´ä¹…ç²¾çƒ§æ»©ç¾Šé…’é¦† å°åƒ å¦ ","date":"2023-10-07","objectID":"/life-in-beijing/:1:0","tags":["ç›®å½•"],"title":"åƒå–ç©ä¹åœ¨åŒ—äº¬","uri":"/life-in-beijing/"},{"categories":["ç”Ÿæ´»"],"content":"åšç‰©é¦†ç¯‡ åç§° é—¨ç¥¨ æ•…å®«åšç‰©é¦† ä¸­å›½å›½å®¶åšç‰©é¦† åŒ—äº¬è‡ªç„¶åšç‰©é¦† å­”åº™å’Œå›½å­ç›‘åšç‰©é¦† é›å’Œå®«è—ä¼ ä½›æ•™è‰ºæœ¯åšç‰©é¦† ä¸­å›½é“é“åšç‰©é¦†(æ­£é˜³é—¨é¦†) åŒ—äº¬é€šä¿¡ç”µä¿¡åšç‰©é¦† åŒ—äº¬æ–‡åšäº¤æµé¦† ä¸­å›½ç¾æœ¯é¦† æ¯›ä¸»å¸­çºªå¿µå ‚ åŒ—äº¬å¤è§‚è±¡å° åŒ—äº¬å¸‚ä¸œå—åŸè§’è§’æ¥¼æ–‡ç‰©ä¿ç®¡æ‰€ æ–‡å¤©ç¥¥ç¥  èŒ…ç›¾æ•…å±… ä¸­å›½åŒ»å²åšç‰©é¦† è€èˆçºªå¿µé¦† ä¿åˆ©è‰ºæœ¯åšç‰©é¦† åŒ—äº¬å·¥è‰ºç¾æœ¯åšç‰©é¦† åŒ—äº¬è­¦å¯Ÿåšç‰©é¦† åŒ—äº¬è‡ªæ¥æ°´åšç‰©é¦† ç‹åºœäº•å¤äººç±»æ–‡åŒ–é—å€åšç‰©é¦† åŒ—äº¬æ¾å ‚æ–‹æ°‘é—´é›•åˆ»åšç‰©é¦† åŒ—äº¬äººæ°‘è‰ºæœ¯å‰§é™¢æˆå‰§åšç‰©é¦† åŒ—äº¬ç™¾å·¥åšç‰©é¦† ä¸­å›½é‚®æ”¿é‚®ç¥¨åšç‰©é¦† ä¸­å›½æ³•é™¢åšç‰©é¦† åŒ—äº¬æ–°æ–‡åŒ–è¿åŠ¨çºªå¿µé¦† åŒ—äº¬é€šè®¯ç”µä¿¡åšç‰©é¦† ä¸­å›½æ³•é™¢åšç‰©é¦† ä¸­å›½å°åˆ·åšç‰©é¦† åŒ—äº¬å—æµ·å­éº‹é¹¿è‹‘åšç‰©é¦† åŒ—äº¬è¥¿ç“œåšç‰©é¦† åŒ—äº¬å´”æ°¸å¹³çš®å½±è‰ºæœ¯åšç‰©é¦† ä¸­å›½æ°‘å…µæ­¦å™¨è£…å¤‡é™ˆåˆ—é¦† åŒ—äº¬éŸ©ç¾æ—è‰ºæœ¯é¦† æ³•æµ·å¯º ä¸­å›½èˆªç©ºåšç‰©é¦† æ˜åä¸‰é™µåšç‰©é¦† åŒ—äº¬å¸‚æ˜Œå¹³åŒºåšç‰©é¦† åä¸‰é™µæ°´åº“å±•è§ˆé¦† è€ç”²è‰ºæœ¯é¦† å¦å…‹åšç‰©é¦† åŒ—äº¬å¾¡ç”Ÿå ‚ä¸­åŒ»è¯åšç‰©é¦† å±…åº¸å…³é•¿åŸåšç‰©é¦† é—¨å¤´æ²ŸåŒºåšç‰©é¦† ä¸­å›½äººæ°‘é©å‘½å†›äº‹åšç‰©é¦† æ¸…åå¤§å­¦è‰ºæœ¯åšç‰©é¦† å¤§é’Ÿå¯ºå¤é’Ÿåšç‰©é¦† åŒ—äº¬çŸ³åˆ»è‰ºæœ¯åšç‰©é¦† ä¸­åä¸–çºªå›è‰ºæœ¯é¦† åŒ—äº¬èˆªç©ºé¦† åŒ—äº¬è‰ºæœ¯åšç‰©é¦† åŒ—äº¬å¤§å­¦èµ›å…‹å‹’è€ƒå¤ä¸è‰ºæœ¯åšç‰©é¦† æå¤§é’Šçƒˆå£«é™µå›­ ä¸­å¤®æ°‘æ—å¤§å­¦æ°‘æ—åšç‰©é¦† å›¢åŸæ¼”æ­¦å… ä¸­å›½å›½å®¶ç”»é™¢ç¾æœ¯é¦† åœ†æ˜å›­å±•è§ˆé¦† å¤§è§‰å¯º ä¸­å›½èœœèœ‚åšç‰©é¦† æ›¹é›ªèŠ¹çºªå¿µé¦† é¦™å±±åŒæ¸…åˆ«å¢… ä¸­å›½ç”µä¿¡åšç‰©é¦† åŒ—äº¬ä¸Šåº„çº³å…°æ€§å¾·å²è¿¹é™ˆåˆ—é¦† åŒ—äº¬å¸‚æµ·æ·€åŒºåšç‰©é¦† ä¸­å›½äººæ°‘å¤§å­¦åšç‰©é¦† ä¸­å›½åŒ–å·¥åšç‰©é¦† åŒ—äº¬çŸ³åˆ»è‰ºæœ¯åšç‰©é¦† ä¸­å›½äººæ°‘æŠ—æ—¥æˆ˜äº‰çºªå¿µé¦† åŒ—äº¬æ±½è½¦åšç‰©é¦† åŒ—äº¬è¾½é‡‘åŸå£åšç‰©é¦† ä¸­åèˆªå¤©åšç‰©é¦† å¢æ²Ÿæ¡¥å†å²åšç‰©é¦† èƒ¡åŒå¼ è€åŒ—äº¬æ°‘é—´è‰ºæœ¯é¦† ä¸­å›½å†œä¸šåšç‰©é¦† åŒ—äº¬å¥¥è¿åšç‰©é¦† åŒ—äº¬æ°‘ä¿—åšç‰©é¦† ä¸­å›½ä½“è‚²åšç‰©é¦† ä¸­å›½ä¼ åª’å¤§å­¦ä¼ åª’åšç‰©é¦† ç‚é»„è‰ºæœ¯é¦† åŒ—äº¬ä¸­åæ°‘æ—åšç‰©é™¢ è§‚å¤åšç‰©é¦† ä¸­å›½ç°ä»£æ–‡å­¦é¦† åŒ—äº¬ä¸­åŒ»è¯å¤§å­¦ä¸­åŒ»è¯åšç‰©é¦† åŒ—äº¬ä¸­å›½ç´«æª€åšç‰©é¦† åŒ—äº¬æœè£…å­¦é™¢æœé¥°åšç‰©é¦† åŒ—äº¬é‡‘å°è‰ºæœ¯é¦† åŒ—äº¬æ™‹å•†åšç‰©é¦† åŒ—äº¬åŠ±å¿—å ‚ç§‘ä¸¾æ‰é¢åšç‰©é¦† åŒ—äº¬ä¸œéŸµæ°‘æ—è‰ºæœ¯åšç‰©é¦† ä¸­å›½ç§‘å­¦é™¢åŠ¨ç‰©ç ”ç©¶æ‰€æ ‡æœ¬å±•ç¤ºé¦† åŒ—äº¬ä¹ ä¸‰é¼»çƒŸå£¶ç´«ç ‚å£¶åšç‰©é¦† è¥¿è—æ–‡åŒ–åšç‰©é¦† åŒ—äº¬é²è¿…åšç‰©é¦† æ–‡åŒ–å’Œæ—…æ¸¸éƒ¨æ­ç‹åºœåšç‰©é¦† ä¸­å›½åœ°è´¨åšç‰©é¦† ä¸­å›½ç§‘å­¦æŠ€æœ¯é¦† åŒ—äº¬å¤©æ–‡é¦† é¦–éƒ½åšç‰©é¦† åŒ—äº¬å¤ä»£å»ºç­‘åšç‰©é¦† ä¸­å›½å¤åŠ¨ç‰©é¦† å®‹åº†é¾„æ•…å±… æ°‘æ—æ–‡åŒ–å®«åšç‰©é¦† å¾æ‚²é¸¿çºªå¿µé¦† éƒ­æ²«è‹¥çºªå¿µé¦† æ¢…å…°èŠ³çºªå¿µé¦† ä¸­å›½ä½›æ•™å›¾ä¹¦æ–‡ç‰©é¦† åŒ—äº¬å¤ä»£é’±å¸åšç‰©é¦† åŒ—äº¬å¸‚ç™½å¡”å¯ºç®¡ç†å¤„ éƒ­å®ˆæ•¬çºªå¿µé¦†(é—­é¦†æ”¹é™ˆ) åŒ—äº¬çº¢æ¥¼æ–‡åŒ–è‰ºæœ¯åšç‰©é¦† å¤é™¶æ–‡æ˜åšç‰©é¦† ä¸­å›½é’±å¸åšç‰©é¦† æ­ç‹åºœåŠèŠ±å›­ æ…ˆæ‚²åºµ åŒ—äº¬æˆæ›²åšç‰©é¦† ä¸­å›½å°é’é€ å¸åšç‰©é¦† åŒ—äº¬å®£å—æ–‡åŒ–åšç‰©é¦† åŒ—äº¬æå¤§é’Šæ•…å±… å†ä»£å¸ç‹åº™ åŒ—äº¬ç©ºç«¹åšç‰©é¦† ä¸­å›½æ¶ˆé˜²åšç‰©é¦† å’Œè‹‘åšç‰©é¦† æµ·æ·€åšç‰©é¦† æ˜Œå¹³åŒºåšç‰©é¦† ä¸­å›½è€ƒå¤åšç‰©é¦† å›½å®¶å…¸ç±åšç‰©é¦† å¤©æ¡¥å°è±¡åšç‰©é¦† çŸ³æ™¯å±±åŒºåšç‰©é¦† é¦™å±±é©å‘½çºªå¿µé¦† åŒ—äº¬å¸‚å’Œå…‰ä¹¦é™¢åšç‰©é¦† åŒ—äº¬çš‡åŸå¾¡çª‘é‡‘ç –åšç‰©é¦† åŒ—äº¬ç‡•äº¬å…«ç»æ–‡åŒ–åšç‰©é¦† è¾½é‡‘åŸå£åšç‰©é¦† ç´«æª€åšç‰©é¦† æœ¨æœ¨ç¾æœ¯é¦† ä¸­å›½å·¥è‰ºç¾æœ¯é¦† åŒ—äº¬çš‡åŸè‰ºæœ¯é¦† çº¢æ¥¼æ–‡åŒ–è‰ºæœ¯åšç‰©é¦† åŒ—äº¬é‡‘å°è‰ºæœ¯åšç‰©é¦† åŒ—äº¬è£å”è¿ç¯ç”»åšç‰©é¦† åŒ—äº¬è‹±æ°ç¡¬çŸ³è‰ºæœ¯åšç‰©é¦† åŒ—äº¬å¤©ä½‘å…°äº­ä¹¦æ³•æ–‡åŒ–åšç‰©é¦† éƒ­å®ˆæ•¬çºªå¿µé¦† é½ç™½çŸ³æ—§å±…çºªå¿µé¦† ä¸­åæ°‘æ—åšç‰©é™¢ ä¸œå››èƒ¡åŒåšç‰©é¦† å²å®¶èƒ¡åŒåšç‰©é¦† å›½å®¶åŠ¨ç‰©åšç‰©é¦† ä¸­å›½ç¬¬å››çºªå†°å·é—è¿¹é™ˆåˆ—é¦† ä¸­å›½å¦‡å¥³å„¿ç«¥åšç‰©é¦† ä¸­å›½åä¾¨å†å²åšç‰©é¦† åŒ—äº¬æ–‡æ—ºé˜æœ¨ä½œåšç‰©é¦† ä¸­å›½æ™¯æ³°è“è‰ºæœ¯åšç‰©é¦† åŒ—äº¬ä¸­è¯ç‚®åˆ¶æŠ€æœ¯åšç‰©é¦† åŒ—äº¬å›½éŸµç™¾å¹´é‚®ç¥¨é’±å¸åšç‰©é¦† åŒ—äº¬å¸‚å§œæ°é’¢ç´æ‰‹é£ç´åšç‰©é¦† ä¸­å›½æµ·å…³åšç‰©é¦† åŒ—äº¬ç¨åŠ¡åšç‰©é¦† é¦–éƒ½ç²®é£Ÿåšç‰©é¦† çº¢ç –ç¾æœ¯é¦† å›½ç¤¼åšç‰©é¦† æå››å…‰çºªå¿µé¦† ä¸–ç•ŒèŠ±å‰å¤§è§‚å›­ åŒ—äº¬èŒ¶å¶åšç‰©é¦† åŒ—äº¬æ—¶é—´åšç‰©é¦† åŒ—äº¬äºŒé”…å¤´é…’åšç‰©é¦† ä¸­å›½éç‰©è´¨æ–‡åŒ–é—äº§é¦† ä¸­å›½çš‡å®¶å†å²ç¬¬ä¸€æ¡£æ¡ˆé¦† åŒ—äº¬å¾¡ä»™éƒ½çš‡å®¶èœåšç‰©é¦† åŒ—äº¬èœç™¾é»„é‡‘ç å®åšç‰©é¦† åŒ—äº¬èˆªç©ºèˆªå¤©åšç‰©é¦† ä¸­å›½äººæ°‘å¤§å­¦å®¶ä¹¦åšç‰©é¦† åŒ—äº¬å¤§å­¦èµ›å…‹å‹’è‰ºæœ¯åšç‰©é¦† åŒ—äº¬æœè£…å­¦é™¢æ°‘æ—æœé¥°åšç‰©é¦† åŒ—äº¬å¤–å›½è¯­å¤§å­¦ä¸–ç•Œè¯­è¨€åšç‰©é¦† æ›¹é›ªèŠ¹æ•…å±… ","date":"2023-10-07","objectID":"/life-in-beijing/:2:0","tags":["ç›®å½•"],"title":"åƒå–ç©ä¹åœ¨åŒ—äº¬","uri":"/life-in-beijing/"},{"categories":["ç”Ÿæ´»"],"content":"å…¬å›­ç¯‡ åç§° é—¨ç¥¨ å¥¥æ—åŒ¹å…‹æ£®æ—å…¬å›­ é¢å’Œå›­ å¤©å›å…¬å›­ åŒ—æµ·å…¬å›­ ç‰æ¸Šæ½­å…¬å›­ å…«è¾¾å²­å›½å®¶æ£®æ—å…¬å›­ æœé˜³å…¬å›­ è¥¿å±±å›½å®¶æ£®æ—å…¬å›­ åæµ·å…¬å›­ ç™¾æœ›å±±å…¬å›­ é’é¾™æ¹–å…¬å›­ ","date":"2023-10-07","objectID":"/life-in-beijing/:3:0","tags":["ç›®å½•"],"title":"åƒå–ç©ä¹åœ¨åŒ—äº¬","uri":"/life-in-beijing/"},{"categories":["ç”Ÿæ´»"],"content":" å‘ç°ç¾å¥³ä¸€æš~ ","date":"2023-10-22","objectID":"/longgangjiulou/:0:0","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":"è®°å½• æ—¶é—´ åœ°å€ äººæ•° æ’é˜Ÿç­‰å¾… èŠ±é”€ 2023å¹´10æœˆ22æ—¥17:50:00 åŒ—äº¬å¸‚è¥¿åŸåŒºå¤å…´é—¨å¤–åŒ—å¤§è¡—5å· 2 æ— éœ€æ’é˜Ÿ 235 ","date":"2023-10-22","objectID":"/longgangjiulou/:1:0","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸€å¥è¯ è™½ç„¶ä¸åœ¨ä¸œåŒ—ï¼Œè¿˜æ˜¯ä½ä¼°äº†ä¸œåŒ—èœçš„åˆ†é‡ ","date":"2023-10-22","objectID":"/longgangjiulou/:2:0","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":"ç‚¹é¤ ","date":"2023-10-22","objectID":"/longgangjiulou/:3:0","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":"å‡‰èœ ä¸œåŒ—å¤§æ‹‰çš®ï¼šäº”å½©æ–‘æ–“ï¼Œæ‹‰çš®æ™¶è¹å‰”é€ï¼ŒæŸ”è½¯å¯Œæœ‰å¼¹æ€§ï¼›é‡å¤§ç®¡é¥±ï¼Œé…¸ç”œå¯å£ï¼Œé…èœé»„ç“œèƒ¡èåœç´«ç”˜è“éƒ½å¾ˆè„†ï¼Œçˆ½å£ ","date":"2023-10-22","objectID":"/longgangjiulou/:3:1","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":"çƒ­èœ ä¼ ç»Ÿé”…åŒ…è‚‰ï¼šå¤–é…¥é‡Œå«©ï¼Œé…¸ç”œå£çš„é”…åŒ…è‚‰åƒèµ·æ¥ä¸€ç‚¹ä¹Ÿä¸è…»ï¼Œå¥½åƒï¼Œè¿™ä¸€ç›˜å­2ä¸ªäººå…¨éƒ½åƒå¹²å‡€äº† BBè±†ï¼šå¿˜äº†å«å•¥åå­—äº†ï¼Œå°±è®°ä½æœ€åçš„BBè±† ğŸ˜‚ï¼Œä¸Šæ¥äº†ä¸€é”…åœŸè±†ä¹Ÿæ˜¯æƒŠå‘†äº†æˆ‘ä»¬ï¼›å£å‘³ç»ˆäºä¸æ˜¯é…¸ç”œå£çš„ï¼Œå±äºå’¸é¦™å£çš„åœŸè±†ï¼Œå¤ªå¤šäº†ï¼Œåƒåˆ°ä¸€åŠæœ‰ç‚¹æ’‘äº† å¤§æ£’éª¨ï¼š å¤§æ£’éª¨ï¼šå¤§æ£’éª¨å‘³é“è¿˜å¯ä»¥ï¼Œå’Œå¤è‚‰åº—ä¹°çš„é…±é¦™æ£’éª¨è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«ï¼Œæ²¡æœ‰å¤è‚‰åº—é‚£ä¹ˆå’¸ ","date":"2023-10-22","objectID":"/longgangjiulou/:3:2","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸»é£Ÿ éŸ­èœç›’å­ï¼šéŸ­èœç›’çœŸçš„å¯ä»¥ï¼Œå°±å–œæ¬¢è¿™å£ï¼Œæœ¬æ¥å·²ç»åƒé¥±äº†ï¼Œç»“æœä¸Šæ¥ä¹‹åè¿˜æ˜¯æƒ³åƒï¼Œåƒä¸å¤Ÿåˆç‚¹äº†ä¸€ä¸ª ","date":"2023-10-22","objectID":"/longgangjiulou/:3:3","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":"æ€»ç»“ ä¸œåŒ—èœè¿˜æ˜¯å®æƒ ä¸€äº›ï¼Œé”…åŒ…è‚‰é…¸ç”œä¸è…»ï¼ŒéŸ­èœç›’å­éå¸¸æ¨è~ ","date":"2023-10-22","objectID":"/longgangjiulou/:4:0","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":"é™„å½• åŒ—äº¬åƒå–ç¯‡ ","date":"2023-10-22","objectID":"/longgangjiulou/:5:0","tags":["ä¸œåŒ—èœ","é©»äº¬åŠ"],"title":"é¾™æ¸¯é…’æ¥¼","uri":"/longgangjiulou/"},{"categories":["ç”Ÿæ´»"],"content":" å®é™…ä¸Šæ˜¯åœ¨å®¾é¦†çš„äºŒå±‚ï¼Œåº”è¯¥æ—¢å¯ä»¥å½“åšå®¾é¦†çš„é¤å…ï¼Œåˆå¯¹å¤–è¥ä¸šï¼Œè€Œä¸”è¿˜å¯ä»¥å½“åšä¼šå…ä½¿ç”¨ ","date":"2023-10-14","objectID":"/fuzhoubinguan/:0:0","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"è®°å½• æ—¶é—´ åœ°å€ äººæ•° æ’é˜Ÿç­‰å¾… èŠ±é”€ 2023å¹´10æœˆ14æ—¥18:10:00 åŒ—äº¬å¸‚è¥¿åŸåŒºå‰åŠå£è¡—30å· 2 ä¸ç”¨æ’é˜Ÿ 451 ","date":"2023-10-14","objectID":"/fuzhoubinguan/:1:0","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸€å¥è¯ ç»ˆäºåƒåˆ°äº†æ¢¦å¯ä»¥æ±‚çš„ä½›è·³å¢™å•¦~ ","date":"2023-10-14","objectID":"/fuzhoubinguan/:2:0","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"ç‚¹é¤ ","date":"2023-10-14","objectID":"/fuzhoubinguan/:3:0","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"çƒ­èœ æ¸…ç‚’å¹¿èŠ¥ï¼šæ ¹èŒéƒ¨éå¸¸å«©è„†çˆ½å£ï¼Œâ€œèŠ¥è“å¦‚èŒè•ˆï¼Œè„†ç¾ç‰™é¢Šå“â€ï¼Œæˆ‘æƒ³æˆ‘ç°åœ¨æ‰èƒ½ä½“ä¼šå¾—åˆ° æ­£å®—è”æè‚‰ï¼šè”æè‚‰å†…éƒ¨åŒ…è£¹ç€ä¸€å—è¸è ï¼Œå’¬ä¸‹å»ä¸€å£ä¼šæ•£å‘å‡ºæ¸…é¦™ï¼Œæ•´ä½“å‘³é“é…¸ç”œå¯å£ï¼Œå¿ä¸ä½æƒ³åƒç¬¬äºŒå£ ","date":"2023-10-14","objectID":"/fuzhoubinguan/:3:1","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸»é£Ÿ ä¸‰é²œé¦…é¥¼ï¼šéŸ­èœï¼ŒçŒªè‚‰ï¼Œ è™¾ä»ï¼Œä¼ ç»Ÿçš„ä¸‰é²œé¦…é¥¼ï¼Œå†…éƒ¨æ±¤æ±å¾ˆæµ“æµŠï¼Œå’¬ä¸‹ä¸€å£ä¸ç•™ç¥å°±ä¼šæº…å‡ºæ¥ ç³Ÿè‚‰å…‰é¥¼ï¼šç³Ÿè‚‰çº¢æ¶¦é€äº®ï¼Œè‚¥è€Œä¸è…»ï¼Œæœ‰æ·¡æ·¡çš„é…’é¦™ï¼Œé¦™ç”œå¯å£ï¼Œä¸ªäººæ„Ÿè§‰å…‰é¥¼çš„é€ å‹å¾ˆåƒæ±‰å ¡ æµ·è›é¥¼ï¼šå¤–éƒ¨é…¥è„†ï¼Œå†…éƒ¨å«©æ»‘é²œè‡­ é¦™ç³Ÿç‚¸æµ·é³—ï¼šé³—é±¼çš„æ„Ÿè§‰å’Œç³Ÿè‚‰ç±»ä¼¼ï¼Œå¤šäº†ä¸€ç‚¹é²œè‡­å‘³é“ï¼Œåƒçš„æ—¶å€™è¦æ³¨æ„ï¼Œå¯èƒ½ä¼šæœ‰é±¼åˆº ","date":"2023-10-14","objectID":"/fuzhoubinguan/:3:2","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"ä¾‹æ±¤ é±¼ä¸¸è‚‰ç‡•æ±¤ï¼šé±¼ä¸¸å¾ˆå¤§ï¼Œæœ‰é±¼çš„å‘³é“ï¼Œç»†ç»†å“å°å¯ä»¥æ„Ÿè§‰åˆ°å¾®å°çš„é±¼åˆºçš„æ„Ÿè§‰ï¼Œä¸è¿‡ä¸ä¼šè¢«æ‰åˆ°ï¼›è‚‰ç‡•çš„çš®æ¯”é¦„é¥¨è–„å¾ˆå¤šï¼Œåƒèµ·æ¥åå’¸ï¼›æ±¤å¾ˆé²œï¼Œé‚£ç§å¹³å¸¸åœ¨å®¶èƒ½åƒåˆ°çš„é²œ ç²¾å“ä½›è·³å¢™ï¼šä½›è·³å¢™æ±¤æ˜¯ä¸€ç§å’¸é²œçš„å£æ„Ÿï¼Œä¸€é—»ä¸€å°å°±å¯ä»¥æ„Ÿè§‰åˆ°å¤§æµ·çš„é‚£ç§å‘³é“ï¼Œæµ·å‚åƒèµ·æ¥è½¯ç³¯ï¼Œæœ‰ä¸€ç§åƒéª¨é«“çš„æ„Ÿè§‰ï¼›é²é±¼å«©å«©çš„ï¼Œä¸è¿‡åƒèµ·æ¥æœ‰ç‚¹åƒè˜‘è‡ ","date":"2023-10-14","objectID":"/fuzhoubinguan/:3:3","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"ç”œç‚¹ èŠéº»èŠ‹æ³¥ï¼šèŠ‹æ³¥ä¸æ˜¯å¾ˆç”œï¼Œå£æ„Ÿè½¯ç³¯é¡ºæ»‘ï¼Œå’Œå¥¶èŒ¶åº—çš„é¦™æ³¢èŠ‹æ³¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€å£æ¥ç€ä¸€å£ï¼Œå¾ˆå¿«å°±åƒå®Œå•¦ ","date":"2023-10-14","objectID":"/fuzhoubinguan/:3:4","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"æ€»ç»“ è¿™å®¶é¤é¦†æ²¡ä¸ªå¯¼èˆªè¿˜çœŸä¸å¤ªå¥½æ‰¾ï¼Œæ•´ä½“èœå“å¾ˆå…·æœ‰å—æ–¹çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬ä½œä¸ºåŒ—æ–¹äººä¼šæ„Ÿè§‰æµ·é²œæœ‰ä¸€ç‚¹æµ·é²œé‚£ç§è‡­å‘³ï¼Œä¸Šèœé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸Šæ¥ä¸€ä¸ªèœæˆ‘ä»¬åƒå®Œåï¼Œä¸‹ä¸€ä¸ªèœæ‰ç«¯ä¸Šæ¥ï¼Œä¸è¿‡è¿™ä¹Ÿå¯ä»¥ç¡®å®šé¥­åº—çš„èœå“æ˜¯å¨å¸ˆåšçš„ï¼›æ•´ä½“æ¥è¯´ï¼Œç»™æˆ‘ä»¬å¾ˆå¤šå‘³é“ä¸Šçš„æƒŠå–œ ","date":"2023-10-14","objectID":"/fuzhoubinguan/:4:0","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":"é™„å½• åŒ—äº¬åƒå–ç¯‡ ","date":"2023-10-14","objectID":"/fuzhoubinguan/:5:0","tags":["é—½èœ","é©»äº¬åŠ"],"title":"ç¦å·å®¾é¦†","uri":"/fuzhoubinguan/"},{"categories":["ç”Ÿæ´»"],"content":" ç¨ä¸æ³¨æ„ï¼Œå°±èµ°è¿‡äº† ","date":"2023-10-05","objectID":"/huluwaniubanjinghutongsifangcai/:0:0","tags":["å°åƒ","ç«é”…"],"title":"è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ","uri":"/huluwaniubanjinghutongsifangcai/"},{"categories":["ç”Ÿæ´»"],"content":"è®°å½• æ—¶é—´ åœ°å€ äººæ•° æ’é˜Ÿç­‰å¾… èŠ±é”€ 2023å¹´10æœˆ05æ—¥13:10:00 åŒ—äº¬å¸‚è¥¿åŸåŒºå¤§çŸ³æ¡¥èƒ¡åŒç”²37å· 2 10åˆ†é’Ÿ 252 ","date":"2023-10-05","objectID":"/huluwaniubanjinghutongsifangcai/:1:0","tags":["å°åƒ","ç«é”…"],"title":"è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ","uri":"/huluwaniubanjinghutongsifangcai/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸€å¥è¯ å“¥ä»¬å‡ ä¸ªæ¥åƒä¸€é¡¿è¿˜æ˜¯æŒºèˆ’æœçš„ï¼Œåƒå¥½åƒé¥± ","date":"2023-10-05","objectID":"/huluwaniubanjinghutongsifangcai/:2:0","tags":["å°åƒ","ç«é”…"],"title":"è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ","uri":"/huluwaniubanjinghutongsifangcai/"},{"categories":["ç”Ÿæ´»"],"content":"ç‚¹é¤ ","date":"2023-10-05","objectID":"/huluwaniubanjinghutongsifangcai/:3:0","tags":["å°åƒ","ç«é”…"],"title":"è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ","uri":"/huluwaniubanjinghutongsifangcai/"},{"categories":["ç”Ÿæ´»"],"content":"ç«é”… çˆ†ç‚¸é”…ï¼šç‰›è‚‰å¾ˆçƒ‚ï¼Œå¾ˆé¦™ï¼Œç‰›è‚šã€ç‰›æ¿ç­‹ç­‰æ²¡æœ‰å¼‚å‘³ï¼Œéƒ½å¾ˆæœ‰åš¼åŠ²ï¼Œè±†è…ä¹Ÿå¾ˆé¦™ï¼Œå›å‘³æ— ç©· ","date":"2023-10-05","objectID":"/huluwaniubanjinghutongsifangcai/:3:1","tags":["å°åƒ","ç«é”…"],"title":"è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ","uri":"/huluwaniubanjinghutongsifangcai/"},{"categories":["ç”Ÿæ´»"],"content":"é…èœ é…èœå°æ–™ï¼šé…±æ–™å¾ˆé¦™ï¼Œé…ä¸Šç‰›è‚‰çœŸæ˜¯ä¸€ç»ï¼›èåœå¾ˆè„†ï¼Œä½†æ˜¯æ²¡æœ‰è¾£å‘³ï¼Œå¾ˆå¥½åƒï¼›è”¬èœæ„Ÿè§‰æœ‰ç‚¹å°‘ï¼Œå¯èƒ½æ˜¯å› ä¸ºè‚‰å¤ªå¤šäº† ","date":"2023-10-05","objectID":"/huluwaniubanjinghutongsifangcai/:3:2","tags":["å°åƒ","ç«é”…"],"title":"è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ","uri":"/huluwaniubanjinghutongsifangcai/"},{"categories":["ç”Ÿæ´»"],"content":"æ€»ç»“ å’Œå“¥ä»¬å‡ ä¸ªä¸€èµ·æ¥æ“ä¸€é¡¿è¿˜æ˜¯ä¸é”™çš„ï¼Œç‰©ç¾ä»·å»‰ï¼Œå¹³æ—¶ä¹Ÿå¯ä»¥å»ï¼Œè¡¥å……ä¸€ä¸‹è›‹ç™½è´¨ã€‚æˆ‘ä»¬åƒçš„å¤ªé¥±äº†ï¼Œä¸­åˆåƒçš„ï¼Œå¯¼è‡´ä¸‹åˆéƒ½ä¸å’‹æƒ³åƒä¸œè¥¿ ","date":"2023-10-05","objectID":"/huluwaniubanjinghutongsifangcai/:4:0","tags":["å°åƒ","ç«é”…"],"title":"è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ","uri":"/huluwaniubanjinghutongsifangcai/"},{"categories":["ç”Ÿæ´»"],"content":"é™„å½• åŒ—äº¬åƒå–ç¯‡ ","date":"2023-10-05","objectID":"/huluwaniubanjinghutongsifangcai/:5:0","tags":["å°åƒ","ç«é”…"],"title":"è‘«èŠ¦å¨ƒç‰›æ¿ç­‹èƒ¡åŒç§æˆ¿èœ","uri":"/huluwaniubanjinghutongsifangcai/"},{"categories":["ç”Ÿæ´»"],"content":" é—¨è„¸ä¸å’‹åœ°ï¼Œä¸è¿‡è¿›å»ä¹‹ååˆ«æœ‰æ´å¤© ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:0:0","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"è®°å½• æ—¶é—´ åœ°å€ äººæ•° æ’é˜Ÿç­‰å¾… èŠ±é”€ 2023å¹´08æœˆ26æ—¥12:51:00 åŒ—äº¬å¸‚è¥¿åŸåŒºè¥¿ä¸­èƒ¡åŒ28å· 2 3ä¸ªå°æ—¶+ï¼Œ æ’é˜Ÿä¸è¿‡å·ï¼Œå¯æ‹¼æ¡Œ 275 ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:1:0","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸€å¥è¯ ç‚¹èœæ²¡åšå¥½æ”»ç•¥ï¼Œå¯¼è‡´åƒèµ·æ¥æ„Ÿè§‰å¤ªè…»ï¼Œä¸è¿‡ç¬¬ä¸€å£è¿˜æ˜¯å¾ˆæƒŠè‰³çš„ ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:2:0","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"ç‚¹é¤ ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:3:0","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"å‡‰èœ æåº„ç™½è‚‰ï¼šè°ƒåˆ¶çš„è¾£é…±å¾ˆå¥½åƒï¼Œè¿˜ç‰¹æ„æ‰“åŒ…å¸¦å›å»äº†ï¼Œè‚‰å› äººè€Œå¼‚ï¼Œæˆ‘è§‰å¾—è…»ï¼Œå¯¹é¢ç¾ä¸½çš„å¥³å£«å¹¶ä¸è§‰å¾— ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:3:1","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"çƒ­èœ å·é¦™è¾£å­é¸¡ï¼šç¬¬ä¸€å£çœŸçš„å¥½é¦™ï¼Œè¿˜æœ‰ç‚¹çƒ«å˜´ï¼ŒèŠ±ç”Ÿç±³æ²¡æœ‰é‚£ä¹ˆè„† é…’éƒ½è‚¥è‚ ï¼šè‚¥è‚ æ˜¯é…¥è„†çš„ï¼Œæ²¡æœ‰è„å™¨å‘³é“ï¼Œä¸è¿‡å’Œè¾£å­é¸¡å®åœ¨å¤ªåŒç±»çš„ï¼Œå¯¼è‡´æ²¡æœ‰æ„Ÿè§‰åˆ°ç‰¹åˆ«æƒŠè‰³ ç²‰è’¸ç‰›è‚‰ï¼šç‰›è‚‰æ˜¯å«©çš„ï¼Œåƒèµ·æ¥å¾ˆè½¯ç³¯ï¼Œå¾ˆä¹…æ²¡æœ‰åƒåˆ°è¿™ä¹ˆå«©çš„ç‰›è‚‰äº†ï¼Œä¹Ÿå› äººè€Œå¼‚ï¼Œå¯¹é¢ç¾ä¸½çš„å¥³å£«å¹¶ä¸å¤ªå–œæ¬¢ ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:3:2","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸»é£Ÿ å®œå®¾ç‡ƒé¢ï¼šçœ‹ä¸åˆ°è¾£æ¤’ï¼Œä¸è¿‡ä¾ç„¶æ„Ÿè§‰å¾ˆè¾£ï¼Œä¸ç³Šå˜´ï¼Œå¾ˆå¥½åƒ ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:3:3","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"ç”œå“ é†‰ä¸‰æ±Ÿï¼šä¸ç”œï¼Œè¦æ˜¯æŒ‰ç…§ç±³é…’çš„æ–¹å¼å»å–ï¼Œå°±æ²¡æœ‰é‚£ç§æ„æ€ ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:3:4","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"æ€»ç»“ è¿™æ¬¡ç‚¹é¤æ¯”è¾ƒå¤±è´¥ï¼Œæ²¡æœ‰è”¬èœï¼Œåƒèµ·æ¥å°±ä¼šæ„Ÿè§‰å¾ˆè…»ï¼Œ2ä¸ªäººå…¶å®æ²¡æœ‰åƒå®Œï¼Œä¸‹æ¬¡å»çš„è¯ï¼Œä¼šå°å°æ¯›è¡€æ—ºï¼Œä¸è¿‡äººæ˜¯çœŸçš„å¤šâ€¦ ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:4:0","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["ç”Ÿæ´»"],"content":"é™„å½• åŒ—äº¬åƒå–ç¯‡ ","date":"2023-08-26","objectID":"/yibinzhaodaisuo/:5:0","tags":["å·èœ","é©»äº¬åŠ"],"title":"å®œå®¾æ‹›å¾…æ‰€","uri":"/yibinzhaodaisuo/"},{"categories":["Code"],"content":"Ros2 å‘½ä»¤è¡Œæ¥å£ æ‰€æœ‰ ROS2 å‘½ä»¤è¡Œ å¼€å§‹éƒ½è¦æ·»åŠ å‰ç¼€ ros2ï¼Œåé¢è·Ÿä¸€æ¡æŒ‡ä»¤ï¼Œä¸€ä¸ªåŠ¨è¯ï¼Œè‹¥å¹²å‚æ•° æ–‡æ¡£å‚æ•° ros2 æŒ‡ä»¤ --help # æˆ–è€… ros2 æŒ‡ä»¤ -h ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:1:0","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"æŒ‡ä»¤ ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:0","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"action å…è®¸æ‰‹åŠ¨å‘é€ç›®æ ‡å¹¶æ˜¾ç¤ºå…³äºactionçš„debugä¿¡æ¯ åŠ¨è¯ info è¾“å‡ºå…³äºactionçš„ä¿¡æ¯ ros2 action info /fibonacci list è¾“å‡º actionçš„åç§°åˆ—è¡¨ ros2 action list send_goal å‘é€actionç›®æ ‡ ros2 action send_goal /fibonacci action_tutotials/action/Fibonacci \"order\" show è¾“å‡ºactionçš„å®šä¹‰ ros2 action show action_tutorials/action/Fibonacci ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:1","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"bag å…è®¸ä»rosbag é‡Œ æ’­æ”¾ topic æˆ–è€… å½•åˆ¶ topic åˆ° rosbag åŠ¨è¯ info è¾“å‡ºbagçš„ä¿¡æ¯ ros2 info \u003cbag-name\u003e play æ’­æ”¾bag ros2 play \u003cbag-name\u003e record å½•åˆ¶bag ros2 record -a ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:2","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"component å„ç§ç»„ä»¶åŠ¨è¯ åŠ¨è¯ list è¾“å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨åˆ—è¡¨å’Œç»„ä»¶ ros2 component list load è½½å…¥ç»„ä»¶åˆ° å®¹å™¨èŠ‚ç‚¹ ros2 component load /ComponentManager composition composition::Talker standalone è¿è¡Œç»„ä»¶åˆ°å®ƒæ‰€å±çš„ç‹¬ç«‹å®¹å™¨èŠ‚ç‚¹ä¸­ types è¾“å‡ºåœ¨amentç´¢å¼•ä¸­æ³¨å†Œç»„ä»¶çš„åˆ—è¡¨ ros2 component types unload ä»å®¹å™¨èŠ‚ç‚¹å¸è½½ç»„ä»¶ ros2 component unload /ComponentManager 1 ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:3","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"daemon å®ˆæŠ¤è¿›ç¨‹çš„åŠ¨è¯ åŠ¨è¯ start å¦‚æœå®ˆæŠ¤è¿›ç¨‹æ²¡æœ‰è¿è¡Œå°±å¼€å¯ status è¾“å‡ºå®ˆæŠ¤è¿›ç¨‹çš„çŠ¶æ€ stop å¦‚æœå®ˆæŠ¤è¿›ç¨‹è¿è¡Œå°±åœæ­¢ ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:4","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"doctor æ£€æŸ¥ROS è®¾ç½®å’Œå…¶ä»–æ½œåœ¨é—®é¢˜(å¦‚ç½‘ç»œï¼ŒåŒ…ç‰ˆæœ¬ï¼Œrmwä¸­é—´ä»¶ç­‰)çš„å·¥å…· ros2 doctor åŒä¹‰è¯ wtf ros2 wtf å‚æ•° â€“report/-r è¾“å‡ºæ‰€æœ‰æ£€æŸ¥çš„æŠ¥å‘Š ros2 doctor --report â€“report-fail/-rf åªè¾“å‡ºå¤±è´¥æ£€æŸ¥çš„æŠ¥å‘Š ros2 doctor --report-fail â€“include-warning/-iw åŒ…å«å¤±è´¥çš„æ£€æŸ¥æŠ¥å‘Š rosw doctor --include-warning ros2 doctor --include-warning --report-fail ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:5","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"extension_points åˆ—å‡º æ‰©å±• points ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:6","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"extensions åˆ—å‡º æ‰©å±• ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:7","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"interface ä¸åŒROSæ¥å£(action/topic/service)ç›¸å…³åŠ¨è¯ã€‚æ¥å£ç±»å‹å¯ä»¥é€šè¿‡ä»¥ä¸‹é€‰é¡¹è¿‡æ»¤æ‰: â€“only-actions, â€“only-msgs, â€“only-srvs åŠ¨è¯ list åˆ—ä¸¾æ‰€æœ‰å¯ç”¨çš„æ¥å£ç±»å‹ ros2 interface list package è¾“å‡ºåŒ…å†…å¯ç”¨æ¥å£ç±»å‹çš„åˆ—è¡¨ ros2 interface package std msgs packages è¾“å‡ºæä¾›æ¥å£çš„åŒ…çš„åˆ—è¡¨ ros2 interface packages --only-msgs proto æ‰“å°æ¥å£çš„åŸå‹(ä¸»ä½“) ros2 interface proto example interfaces/srv/AddTwoInts show è¾“å‡ºæ¥å£å®šä¹‰ ros2 interface show geometry msgs/msg/Pose ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:8","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"launch å…è®¸åœ¨ä»»æ„ä¸€ä¸ªåŒ…é‡Œè¿è¡Œä¸€ä¸ªå¯åŠ¨æ–‡ä»¶ï¼Œä¸ç”¨ cd åˆ°é‚£ä¸ªåŒ…é‡Œ ros2 launch \u003cpackage\u003e \u003claunch.file\u003e ros launch demo.nodes.cpp add_two_ints_launch.py ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:9","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"lifecycle ç”Ÿå‘½å‘¨æœŸç›¸å…³åŠ¨è¯ åŠ¨è¯ get è·å–ä¸€ä¸ªå’Œå¤šä¸ªèŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ list è¾“å‡ºå¯ç”¨çš„è½¬æ¢çš„æå½ª nodes è¾“å‡ºå…·æœ‰ç”Ÿå‘½å‘¨æœŸçš„èŠ‚ç‚¹åˆ—è¡¨ set è§¦å‘ç”Ÿå‘½å‘¨æœŸçŠ¶æ€è½¬æ¢ ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:10","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"msg(å¼ƒç”¨) å±•ç¤ºæœ‰å…³æ¶ˆæ¯çš„è°ƒè¯•ä¿¡æ¯ åŠ¨è¯ list è¾“å‡ºæ¶ˆæ¯ç±»å‹åˆ—è¡¨ ros2 msg list package è¾“å‡ºç»™å®šåŒ…çš„æ¶ˆæ¯åˆ—è¡¨ ros2 msg package std_msgs packages è¾“å‡ºåŒ…å«è¯¥æ¶ˆæ¯çš„åŒ… ros2 msg packages show è¾“å‡ºæ¶ˆæ¯å®šä¹‰ ros2 msg show geometry_msgs/msg/Pose ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:11","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"multicast å¤šæ’­ç›¸å…³çš„åŠ¨è¯ åŠ¨è¯ receive æ¥æ”¶å•ä¸ªUDPå¤šæ’­åŒ… send å‘é€å•ä¸ªUDPå¤šæ’­åŒ… ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:12","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"node åŠ¨è¯ info è¾“å‡ºèŠ‚ç‚¹ä¿¡æ¯ ros2 node info /talker list è¾“å‡ºå¯ç”¨èŠ‚ç‚¹åˆ—è¡¨ ros2 node list ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:13","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"param å…è®¸æ“ä½œå‚æ•° åŠ¨è¯ delete åˆ é™¤å‚æ•° ros2 param delete /talker /user_sim_time describe å±•ç¤ºå·²å£°æ˜å‚æ•°çš„æè¿°æ€§ä¿¡æ¯ dump å°†ç»™å®šèŠ‚ç‚¹çš„å‚æ•°ä»¥yamlæ ¼å¼è½¬å‚¨åˆ°ç»ˆç«¯æˆ–æ–‡ä»¶ä¸­ get è·å–å‚æ•° ros2 param get /talker /user_sim_time list è¾“å‡ºå¯ç”¨å‚æ•°çš„åˆ—è¡¨ ros2 param list set è®¾ç½®å‚æ•° ros2 param set /talker /user_sim_time false ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:14","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"pkg åˆ›å»ºros2åŒ…æˆ–è€…è¾“å‡º åŒ…ç›¸å…³çš„ä¿¡æ¯ åŠ¨è¯ create åˆ›å»ºæ–°çš„ros2åŒ… executables è¾“å‡ºæŒ‡å®šåŒ…çš„å¯æ‰§è¡Œæ–‡ä»¶åˆ—è¡¨ ros2 pkg executables demo_nodes_cpp list è¾“å‡ºå¯ç”¨åŒ…çš„åˆ—è¡¨ ros2 pkg list prefix è¾“å‡ºåŒ…çš„å‰ç¼€è·¯å¾„ ros2 pkg prefix std_msgs xml è¾“å‡ºåŒ…xmlæ¸…å•åˆ—è¡¨é‡Œçš„ä¿¡æ¯ ros2 pkg xml -t version ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:15","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"run åœ¨ä»»æ„åŒ…ä¸­å…è®¸è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œä¸ç”¨cd ros2 run \u003cpackage\u003e \u003cexecutable\u003e ros2 run demo_node_cpp talker ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:16","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"security å®‰å…¨ç›¸å…³åŠ¨è¯ åŠ¨è¯ create_key åˆ›å»ºkey ros2 security create_key demo keys /talker create_permission åˆ›å»ºkeystore ros2 security create_permission demo keys /talker policies/sample policy.xml generate_artifacts åˆ›å»ºæƒé™ ros2 security_generate artifacts list_keys åˆ†é…key create_keystore ä»èº«ä»½å’Œç­–ç•¥æ–‡ä»¶ä¸­ç”Ÿæˆkeyå’Œæƒé™æ–‡ä»¶ ros2 security create keystore demo keys distribute_key ä»ros å›¾æ•°æ®ç”Ÿæˆ XMLç­–ç•¥æ–‡ä»¶ generate_policy åˆ—å‡ºkey ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:17","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"service å…è®¸æ‰‹åŠ¨è°ƒç”¨æœåŠ¡ï¼Œå¹¶æ˜¾ç¤ºæœ‰å…³æœåŠ¡çš„è°ƒè¯•ä¿¡æ¯ åŠ¨è¯ call è°ƒç”¨æœåŠ¡ ros2 service call /add two ints example interfaces/AddTwoInts â€a: 1, b: 2â€ find è¾“å‡º ç»™å®šç±»å‹çš„æœåŠ¡åˆ—è¡¨ ros2 service find rcl interfaces/srv/ListParameters list è¾“å‡º æœåŠ¡åç§°åˆ—è¡¨ ros2 service list type è¾“å‡ºæœåŠ¡ç±»å‹ ros2 service type /talker/describe parameters ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:18","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"srv(å¼ƒç”¨) æœåŠ¡ç›¸å…³åŠ¨è¯ åŠ¨è¯ list è¾“å‡ºå¯ç”¨æœåŠ¡ç±»å‹ package è¾“å‡ºåŒ…ä¸­çš„å¯ç”¨æœåŠ¡ç±»å‹ packages è¾“å‡ºåŒ…å«æœåŠ¡çš„åŒ… show è¾“å‡ºæœåŠ¡å®šä¹‰ ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:19","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"test è¿è¡Œros2å¯åŠ¨æµ‹è¯• ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:20","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["Code"],"content":"topic ç”¨äºæ˜¾ç¤ºæœ‰å…³ROSä¸»é¢˜çš„è°ƒè¯•ä¿¡æ¯çš„å·¥å…·ï¼ŒåŒ…æ‹¬å‘å¸ƒè€…ã€è®¢é˜…è€…ã€å‘å¸ƒé€Ÿç‡å’Œæ¶ˆæ¯ã€‚ åŠ¨è¯ bw å±•ç¤º topicçš„å¸¦å®½ ros2 topic bw /chatter delay ä»headerçš„æ—¶é—´æˆ³å±•ç¤ºtopicçš„å»¶è¿Ÿ echo è¾“å‡ºç»™å®štopicçš„æ¶ˆæ¯åˆ°å±å¹• ros2 topic echo /chatter find æŸ¥æ‰¾ç»™å®šç±»å‹çš„topicç±»å‹ ros2 topic find rcl interfaces/msg/Log hz å±•ç¤ºtopicçš„å‘å¸ƒç‡ ros2 topic hz /chatter info è¾“å‡ºç»™å®štopicçš„ä¿¡æ¯ ros2 topic info /chatter list è¾“å‡º æ´»åŠ¨çš„topicåˆ—è¡¨ ros2 topic list pub å‘å¸ƒæ•°æ®åˆ°topic ros2 topic pub /chatter std msgs/msg/String â€™data: Hello ROS 2 worldâ€™ type è¾“å‡ºtopicçš„ç±»å‹ ros2 topic type /rosout ","date":"2023-08-09","objectID":"/ros2-cheat-sheet/:2:21","tags":["ros"],"title":"ROS2 cli æ¸…å•","uri":"/ros2-cheat-sheet/"},{"categories":["ç”Ÿæ´»"],"content":"è®°å½• æ—¶é—´ åœ°å€ äººæ•° æ’é˜Ÿç­‰å¾… èŠ±é”€ 2023å¹´08æœˆ06æ—¥16:12:00 åŒ—äº¬å¸‚ä¸œåŸåŒºä¸œç›´é—¨å¤–æ–°ä¸­è¡—ç”²1å· 2 ä¸ç”¨æ’é˜Ÿ 280 ","date":"2023-08-06","objectID":"/sanyangcai/:1:0","tags":["å·èœ"],"title":"ä¸‰æ ·èœ","uri":"/sanyangcai/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸€å¥è¯ èŒç”Ÿäº†å»å±±åŸèµ°ä¸€é­çš„æƒ³æ³• ","date":"2023-08-06","objectID":"/sanyangcai/:2:0","tags":["å·èœ"],"title":"ä¸‰æ ·èœ","uri":"/sanyangcai/"},{"categories":["ç”Ÿæ´»"],"content":"ç‚¹é¤ ","date":"2023-08-06","objectID":"/sanyangcai/:3:0","tags":["å·èœ"],"title":"ä¸‰æ ·èœ","uri":"/sanyangcai/"},{"categories":["ç”Ÿæ´»"],"content":"å‡‰èœ ç´ ä¸‰æ ·ï¼šè±‡è±†ï¼Œè—•ï¼Œè‹¦ç“œï¼Ÿå…¶å®è¿˜ä¸é”™ è’œè“‰ç™½è‚‰ï¼šè’œè¿˜æ¯”è¾ƒè¾£ï¼ŒçœŸä¸é”™ï¼Œä¸€ç‚¹æ²¡è§‰å¾—è…» ","date":"2023-08-06","objectID":"/sanyangcai/:3:1","tags":["å·èœ"],"title":"ä¸‰æ ·èœ","uri":"/sanyangcai/"},{"categories":["ç”Ÿæ´»"],"content":"çƒ­èœ è¾£å­é¸¡ï¼šé…¥è„†éº»è¾£ï¼Œè¿˜æœ‰èŠ±ç”Ÿç±³ï¼Œé¸¡è‚‰æœ‰éª¨å¤´ï¼Œæ„Ÿè§‰è‚‰æœ‰ç‚¹å°‘ï¼Ÿ é…¸èœé±¼ï¼šå—¯ï¼Œè¿˜æ˜¯å¥½åƒçš„ ","date":"2023-08-06","objectID":"/sanyangcai/:3:2","tags":["å·èœ"],"title":"ä¸‰æ ·èœ","uri":"/sanyangcai/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸»é£Ÿ è‘±èŠ±é¥¼ï¼šç¬¬ä¸€å£åƒä¸‹å»ï¼ŒçœŸä¸é”™ ","date":"2023-08-06","objectID":"/sanyangcai/:3:3","tags":["å·èœ"],"title":"ä¸‰æ ·èœ","uri":"/sanyangcai/"},{"categories":["ç”Ÿæ´»"],"content":"æ€»ç»“ ä¸ªäººæ„Ÿè§‰åé‡åº†é‚£è¾¹çš„é£æ ¼ï¼Œå¤Ÿéº»å¤Ÿè¾£ï¼Œæœ‰æœºä¼šè¿˜æ˜¯è¦å¤šå‡ºå»çœ‹çœ‹ã€‚åƒå®Œäº†è¿˜æ˜¯æœ‰ä¸ªç–‘é—®ï¼Œä¸‰æ ·èœåˆ°åº•æ˜¯é‚£ä¸‰æ ·ï¼Ÿ ","date":"2023-08-06","objectID":"/sanyangcai/:4:0","tags":["å·èœ"],"title":"ä¸‰æ ·èœ","uri":"/sanyangcai/"},{"categories":["ç”Ÿæ´»"],"content":"é™„å½• åŒ—äº¬åƒå–ç¯‡ ","date":"2023-08-06","objectID":"/sanyangcai/:5:0","tags":["å·èœ"],"title":"ä¸‰æ ·èœ","uri":"/sanyangcai/"},{"categories":["Code"],"content":"ç®€ä»‹ Paimon æ˜¯ä¸€ä¸ªæµæ•°æ®æ¹–å¹³å° ","date":"2023-07-15","objectID":"/paimon1/:1:0","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"æ•°æ®å…¥æ¹– å®æ—¶é›†æˆ æ•°æ®åº“æ•´åº“åŒæ­¥ schemaå˜æ›´åŒæ­¥ï¼ˆè¡¨ç»“æ„å˜æ›´ï¼‰ éƒ¨åˆ†åˆ—æ›´æ–° æ‰¹é‡è¦†ç›– ","date":"2023-07-15","objectID":"/paimon1/:1:1","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"æ”¯æŒ å¢é‡å¿«ç…§ äº§ç”Ÿchangelog lookup join batch/OLAP æŸ¥è¯¢ ","date":"2023-07-15","objectID":"/paimon1/:1:2","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"æ ¸å¿ƒç‰¹æ€§ ç»Ÿä¸€æ‰¹å¤„ç†å’Œæµå¤„ç† æ‰¹é‡å†™å…¥å’Œè¯»å–ï¼Œæµå¼æ›´æ–°ï¼Œå˜æ›´æ—¥å¿—ç”Ÿæˆ æ•°æ®æ¹–èƒ½åŠ› ä½æˆæœ¬ã€é«˜å¯é æ€§ã€å¯æ‰©å±•çš„å…ƒæ•°æ® å„ç§åˆå¹¶å¼•æ“ æŒ‰ç…§è¦æ±‚æ›´æ–°è®°å½• å˜æ›´æ—¥å¿—ç”Ÿæˆ å¤šç§è¡¨ç±»å‹ schema å˜æ›´ é‡å‘½ååˆ— ä¸€è‡´æ€§ä¿è¯ ä½¿ç”¨ä¸¤é˜¶æ®µæäº¤ æ¯æ¬¡æäº¤åœ¨æäº¤æ—¶æœ€å¤šç”Ÿæˆ2ä¸ªå¿«ç…§ æ¡¶æ˜¯è¯»å†™çš„æœ€å°å•å…ƒ ä¸¤ä¸ªwriterå¦‚æœä¿®æ”¹çš„ä¸æ˜¯åŒä¸€ä¸ªæ¡¶ï¼Œåˆ™æäº¤æ˜¯æœ‰åºçš„ å¦‚æœä¸¤ä¸ªwriterä¿®æ”¹åŒä¸€ä¸ªæ¡¶ï¼Œä¿è¯å¿«ç…§éš”ç¦»ï¼Œä¸ä¼šä¸¢å¤±æ›´æ”¹ä¿¡æ¯ï¼Œå¯èƒ½ä¼šåˆå¹¶ä¸¤æ¬¡æäº¤ï¼Œæ··åˆèµ·æ¥ ","date":"2023-07-15","objectID":"/paimon1/:1:3","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"æ–‡ä»¶å¸ƒå±€ å¿«ç…§æ–‡ä»¶(Snapshot Files) å¿«ç…§ç›®å½•å­˜å‚¨äº†æ‰€æœ‰çš„å¿«ç…§æ–‡ä»¶ å¿«ç…§æ–‡ä»¶æ˜¯JSONæ–‡ä»¶ ä¸€ä¸ªå¿«ç…§æ–‡ä»¶åŒ…å« è‹¥å¹²ä½¿ç”¨çš„schemaæ–‡ä»¶ å¿«ç…§æ‰€æœ‰æ›´æ”¹çš„manifest lists æ¸…å•æ–‡ä»¶(Manifest Files) æ¸…å•ç›®å½•å­˜å‚¨äº†æ¸…å•åˆ—è¡¨(manifest lists)å’Œæ¸…å•æ–‡ä»¶(manifest files) æ¸…å•åˆ—è¡¨ä¿å­˜çš„æ˜¯æ¸…å•æ–‡ä»¶çš„æ–‡ä»¶å æ¸…å•æ–‡ä»¶åŒ…å« LSMæ•°æ®æ–‡ä»¶å’Œ changelog æ–‡ä»¶çš„å˜åŒ–(ä¾‹å¦‚å¿«ç…§ä¸­LSMæ•°æ®çš„åˆ›å»ºæˆ–è€…æ˜¯æ–‡ä»¶çš„åˆ é™¤) æ•°æ®æ–‡ä»¶(Data Files) æ•°æ®æ–‡ä»¶ä¼šè¿›è¡Œåˆ†åŒºå’Œåˆ†æ¡¶ ä¸€ä¸ªåˆ†åŒºä¸‹é¢ä¼šæœ‰å¤šä¸ªåˆ†æ¡¶(ç›®å½•) ä¸€ä¸ªåˆ†æ¡¶é‡ŒåŒ…å«LSMæ•°æ® ä»¥åŠ changelog é»˜è®¤ä½¿ç”¨orcæ–‡ä»¶ï¼Œæ”¯æŒparquet,avro LSM Trees paimon çš„æ•°æ®æ˜¯ç”±LSM Tree è¿›è¡Œç»„ç»‡çš„ Sorted Runs LSM Tree å°†æ–‡ä»¶ç»„ç»‡æˆè‹¥å¹²ä¸ª Sorted Runs ä¸€ä¸ª sorted run åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°æ®æ–‡ä»¶åªå±äºä¸€ä¸ªsorted run æ•°æ®æ–‡ä»¶ä¸­çš„è®°å½•æŒ‰ç…§ä¸»é”®æ’åº åŒä¸€ä¸ª sorted run ä¸­ï¼Œæ•°æ®æ–‡ä»¶çš„ä¸»é”®èŒƒå›´ä¸ä¼šé‡å  ä¸åŒçš„ sorted run ä¸­ï¼Œæ•°æ®æ–‡ä»¶çš„ä¸»é”®èŒƒå›´æ˜¯æœ‰å¯èƒ½é‡å çš„ï¼Œå› æ­¤åœ¨æŸ¥è¯¢LSM Tree çš„æ—¶å€™ï¼Œéœ€è¦åˆå¹¶æ‰€æœ‰çš„ sorted runs ä¸­ç›¸åŒä¸»é”®çš„è®°å½•ï¼ŒæŒ‰ç…§ç”¨æˆ·æŒ‡å®šçš„åˆå¹¶å¼•æ“ å’Œæ—¶é—´æˆ³ LSM Tree çš„æ–°çºªå½•ä¼šå…ˆå†™å…¥å†…å­˜ï¼Œå†…å­˜ç¼“å†²åŒºæ»¡äº†ä¹‹åä¼šåˆ·æ–°åˆ°ç£ç›˜ï¼Œåˆ›å»ºæ–°çš„sorted run Compaction è¶Šæ¥è¶Šå¤šçš„è®°å½•å†™å…¥LSM Tree åï¼Œsorted run å°±ä¼šå¢å¤š æŸ¥è¯¢LSM Treeæ—¶éœ€è¦å°†æ‰€æœ‰çš„ sorted run éƒ½åˆå¹¶èµ·æ¥ï¼Œè¿‡å¤šçš„sorted run å°±ä¼šå¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸‹é™ï¼Œæˆ–è€…OOM å°†å¤šä¸ªsorted run åˆå¹¶æˆä¸€ä¸ªå¤§çš„ sorted run çš„è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¹‹ä¸º Compaction è¿‡äºé¢‘ç¹çš„ Compactionä¹Ÿä¼šæ¶ˆè€—ä¸€å®šçš„cpuå’Œç£ç›˜ioï¼Œ paimon ä½¿ç”¨ä¸rocksdbç±»ä¼¼çš„é€šç”¨å‹ç¼© Compactionç­–ç•¥ å¯ä»¥æŒ‡å®š ä¸“ç”¨compactionä½œä¸š(dedicated compaction job) è¿›è¡Œ compaction ","date":"2023-07-15","objectID":"/paimon1/:1:4","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"catalog æ–‡ä»¶ç³»ç»Ÿ paimon catalog å¯ä»¥æŒä¹…åŒ–å…ƒæ•°æ® æ”¯æŒä¸¤ç§metastore æ–‡ä»¶ç³»ç»Ÿï¼Œfile HDFS ç­‰ Hive,ä½¿ç”¨ hive metastore å­˜æ”¾å…ƒæ•°æ® CREATE CATALOG my_hive WITH ( 'type' = 'paimon', 'metastore' = 'hive', 'uri' = 'thrift://\u003chive-metastore-host-name\u003e:\u003cport\u003e', -- 'hive-conf-dir' = '...', this is recommended in the kerberos environment 'warehouse' = 'hdfs:///path/to/table/store/warehouse' ); ","date":"2023-07-15","objectID":"/paimon1/:2:0","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"ä¸Šæ‰‹ ç›®å‰ paimon æä¾›äº†ä¸¤ä¸ªçš„jaråŒ… boudled jar ç”¨äº è¯»å†™æ•°æ®ï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨flinkä»»åŠ¡ï¼Œwith å‚æ•°ç­‰ action jar ç”¨äº å„ç§æ“ä½œï¼Œå¦‚æ‰‹åŠ¨compactionç­‰ï¼Œ è¿™ä¸ªå¯ä»¥åœ¨ä»»åŠ¡ä¹‹å¤–è¿›è¡Œæ“ä½œ -- if you're trying out Paimon in a distributed environment, -- the warehouse path should be set to a shared file system, such as HDFS or OSS CREATE CATALOG my_catalog WITH ( 'type'='paimon', 'warehouse'='file:/tmp/paimon' ); USE CATALOG my_catalog; -- create a word count table CREATE TABLE word_count ( word STRING PRIMARY KEY NOT ENFORCED, cnt BIGINT ); -- create a word data generator table CREATE TEMPORARY TABLE word_table ( word STRING ) WITH ( 'connector' = 'datagen', 'fields.word.length' = '1' ); -- paimon requires checkpoint interval in streaming mode SET 'execution.checkpointing.interval' = '10 s'; -- write streaming data to dynamic table INSERT INTO word_count SELECT word, COUNT(*) FROM word_table GROUP BY word; ä½¿ç”¨paimonåï¼Œè¯¥ç›®å½•å¦‚ä¸‹ ","date":"2023-07-15","objectID":"/paimon1/:3:0","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"default.db default.db ä¸ºé»˜è®¤çš„æ•°æ®åº“ï¼Œå°±æ˜¯catalogä¸‹çš„æ•°æ®åº“ç›®å½• ","date":"2023-07-15","objectID":"/paimon1/:3:1","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"word_count word_cound æ˜¯åœ¨æ•°æ®åº“ä¸‹åˆ›å»ºçš„è¡¨ç›®å½• ","date":"2023-07-15","objectID":"/paimon1/:3:2","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"bucket-0 bucket-x å°±æ˜¯ çœŸæ­£å­˜å‚¨æ•°æ®çš„åœ°æ–¹ï¼Œæ•°æ®å¤šäº†ä¹‹åè¿˜ä¼šæœ‰ bucket-1 bucket-2 ç­‰ æ˜¯ä¸€ç³»åˆ—orc åç¼€çš„æ–‡ä»¶ ","date":"2023-07-15","objectID":"/paimon1/:3:3","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"schema schema ä¹Ÿæ˜¯json æ–‡ä»¶ï¼Œè€Œä¸”ä¼šæœ‰å¤šä¸ª,ä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†ä¿å­˜å˜æ›´çš„schema { \"id\" : 0, \"fields\" : [ { \"id\" : 0, \"name\" : \"word\", \"type\" : \"STRING NOT NULL\" }, { \"id\" : 1, \"name\" : \"cnt\", \"type\" : \"BIGINT\" } ], \"highestFieldId\" : 1, \"partitionKeys\" : [ ], \"primaryKeys\" : [ \"word\" ], \"options\" : { } } ","date":"2023-07-15","objectID":"/paimon1/:3:4","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"snapshot å¿«ç…§ç›®å½•ä¿å­˜äº†å¾ˆå¤šçš„æ–‡ä»¶idï¼Œé€šè¿‡è¿™äº›id å¯ä»¥æ›´å¿«æ‰¾åˆ° æ¸…å•æ–‡ä»¶å’Œschema { \"version\" : 3, \"id\" : 15, \"schemaId\" : 0, \"baseManifestList\" : \"manifest-list-f8c8e502-67ed-4b4f-9d57-bd1ff93943e6-28\", \"deltaManifestList\" : \"manifest-list-f8c8e502-67ed-4b4f-9d57-bd1ff93943e6-29\", \"changelogManifestList\" : null, \"commitUser\" : \"a196f82d-68d9-416b-a941-3b478cb0ff9b\", \"commitIdentifier\" : 13, \"commitKind\" : \"APPEND\", \"timeMillis\" : 1692273479392, \"logOffsets\" : { }, \"totalRecordCount\" : 400, \"deltaRecordCount\" : 16, \"changelogRecordCount\" : 0, \"watermark\" : -9223372036854775808 } ","date":"2023-07-15","objectID":"/paimon1/:3:5","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"manifest æ¸…å•ç›®å½•é‡Œæœ‰å¾ˆå¤šæ¸…å•æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸èƒ½å®Œå…¨æ‰“å¼€ï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°å†…éƒ¨æ˜¯æœ‰æ•°æ®æ–‡ä»¶çš„idç­‰ä¿¡æ¯ï¼Œåº”è¯¥æ˜¯æ•°æ®å˜æ›´çš„ä¿¡æ¯å†…å®¹ ","date":"2023-07-15","objectID":"/paimon1/:3:6","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"æ•°æ®ç±»å‹ æ”¯æŒäº†åŸºæœ¬ä¸Šæ‰€æœ‰çš„Flink çš„æ•°æ®ç±»å‹ï¼Œé™¤äº† multiset mapç±»å‹ä¸æ”¯æŒä¸»é”® ","date":"2023-07-15","objectID":"/paimon1/:4:0","tags":["flink","paimon"],"title":"Paimon","uri":"/paimon1/"},{"categories":["Code"],"content":"å½“ SqlValidatorè§£æå®Œä½œç”¨åŸŸä¿¡æ¯ä¹‹åï¼Œç´§æ¥ç€å°±å¼€å§‹å¯¹ç±»å‹è¿›è¡ŒéªŒè¯ @Override public SqlNode validate(SqlNode topNode) { SqlValidatorScope scope = new EmptyScope(this); scope = new CatalogScope(scope, ImmutableList.of(\"CATALOG\")); final SqlNode topNode2 = validateScopedExpression(topNode, scope); final RelDataType type = getValidatedNodeType(topNode2); Util.discard(type); return topNode2; } ","date":"2023-06-15","objectID":"/flink-validate-type/:0:0","tags":["flink","calcite","sql"],"title":"FlinkSQL - ç±»å‹éªŒè¯","uri":"/flink-validate-type/"},{"categories":["Code"],"content":"getValidatedNodeType æ¯ä¸ªSqlNode éƒ½ä¼šè®¾å®šä¸€ä¸ªç±»å‹æ¯”å¦‚ï¼Œ SELECT * FROM table WHERE column1 + column2 = 10 åœ¨è§£æå®Œæˆåï¼Œâ€œ*â€ ä¼šè¢«è§£å¼€å˜æˆuser, product, amoutnï¼Œ å°±ä¼šè¢«è®¾å®šæˆè¿™æ ·ä¸€ä¸ªç±»å‹ RecordType(BIGINT user, VARCHAR(2147483647) product, INTEGER amount) @Override public RelDataType getValidatedNodeType(SqlNode node) { RelDataType type = getValidatedNodeTypeIfKnown(node); if (type == null) { if (node.getKind() == SqlKind.IDENTIFIER) { throw newValidationError(node, RESOURCE.unknownIdentifier(node.toString())); } throw Util.needToImplement(node); } else { return type; } } @Override public @Nullable RelDataType getValidatedNodeTypeIfKnown(SqlNode node) { final RelDataType type = nodeToTypeMap.get(node); if (type != null) { return type; } final SqlValidatorNamespace ns = getNamespace(node); if (ns != null) { return ns.getType(); } final SqlNode original = originalExprs.get(node); if (original != null \u0026\u0026 original != node) { return getValidatedNodeType(original); } if (node instanceof SqlIdentifier) { return getCatalogReader().getNamedType((SqlIdentifier) node); } return null; } è¿™é‡Œçš„ nodeToTypeMap æ˜¯åœ¨validateScopedExpression è¿™ä¸€æ­¥å°±ç¡®å®šäº†çš„ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯åœ¨ éªŒè¯å‘½åç©ºé—´çš„è¿‡ç¨‹æ±‡æ€»å°±å†™å…¥äº†ï¼Œå½“ç„¶ä¹Ÿæ˜¯é€’å½’çš„è¿‡ç¨‹ type ç±»å‹æ¨æ–­ æ˜¯é€šè¿‡ SqlValidatorScope å®ç°è¿™ä¸ªæ¥å£å®ç°çš„ æ¯ä¸ªSqlNode éƒ½å¯¹åº”ä¸€ä¸ª Scope åœ¨è¿™äº›Scopeä¸­å®šä¹‰è§„åˆ™ /** Derives the type of a node, never null. */ RelDataType deriveTypeImpl(SqlValidatorScope scope, SqlNode operand) { DeriveTypeVisitor v = new DeriveTypeVisitor(scope); final RelDataType type = operand.accept(v); return requireNonNull(scope.nullifyType(operand, type)); } äºæ˜¯ï¼Œåœ¨ SqlValidatorImplä¸­å¯ä»¥æ‰¾åˆ°äº‹å¦‚ä½•æ¨å¯¼å‡ºè¿™äº›ç±»å‹æ˜¯å¦‚ä½•ç”Ÿæˆçš„ private class DeriveTypeVisitor implements SqlVisitor\u003cRelDataType\u003e { private final SqlValidatorScope scope; DeriveTypeVisitor(SqlValidatorScope scope) { this.scope = scope; } @Override public RelDataType visit(SqlLiteral literal) { return literal.createSqlType(typeFactory); } @Override public RelDataType visit(SqlCall call) { final SqlOperator operator = call.getOperator(); return operator.deriveType(SqlValidatorImpl.this, scope, call); } @Override public RelDataType visit(SqlNodeList nodeList) { // Operand is of a type that we can't derive a type for. If the // operand is of a peculiar type, such as a SqlNodeList, then you // should override the operator's validateCall() method so that it // doesn't try to validate that operand as an expression. throw Util.needToImplement(nodeList); } @Override public RelDataType visit(SqlIdentifier id) { // First check for builtin functions which don't have parentheses, // like \"LOCALTIME\". final SqlCall call = makeNullaryCall(id); if (call != null) { return call.getOperator().validateOperands(SqlValidatorImpl.this, scope, call); } RelDataType type = null; if (!(scope instanceof EmptyScope)) { id = scope.fullyQualify(id).identifier; } // Resolve the longest prefix of id that we can int i; for (i = id.names.size() - 1; i \u003e 0; i--) { // REVIEW jvs 9-June-2005: The name resolution rules used // here are supposed to match SQL:2003 Part 2 Section 6.6 // (identifier chain), but we don't currently have enough // information to get everything right. In particular, // routine parameters are currently looked up via resolve; // we could do a better job if they were looked up via // resolveColumn. final SqlNameMatcher nameMatcher = catalogReader.nameMatcher(); final SqlValidatorScope.ResolvedImpl resolved = new SqlValidatorScope.ResolvedImpl(); scope.resolve(id.names.subList(0, i), nameMatcher, false, resolved); if (resolved.count() == 1) { // There's a namespace with the name we seek. final SqlValidatorScope.Resolve resolve = resolved.only(); type = resolve.rowType(); for (SqlValidatorScope.Step p : Util.skip(resolve.path.steps())) { type = type.getFieldList().get(p.i).getType(); } break; } } // Give precedence to namespace found, unless there // are no more identifier components. if (type == null || id.names.size() == 1) { // See if there's a column with the name we seek in // precisely one of the namespaces in this scope. RelDataType colType = scope.resolveColumn(id.names.get(0), id); if (colType !=","date":"2023-06-15","objectID":"/flink-validate-type/:1:0","tags":["flink","calcite","sql"],"title":"FlinkSQL - ç±»å‹éªŒè¯","uri":"/flink-validate-type/"},{"categories":["Code"],"content":" åè®® çº¿æ•° é€šä¿¡ç±»å‹ å¤šä¸» æ•°æ®ç‡ æ€»çº¿ä¸ŠæœŸé—´çš„æ•°é‡ çº¿ç¼†é•¿åº¦(ç±³) å·¥ä½œæ¨¡å¼ ä½¿ç”¨è·ç¦» $$UART$$ 2 å¼‚æ­¥ ä¸æ”¯æŒ 3Kbps åˆ° 4Mbps 2 1.5 å…¨åŒå·¥ è¿œè·ç¦» $$SPI$$ 3 åŒæ­¥ ä¸æ”¯æŒ 1Mbps \u003c 10 \u003c3 å…¨åŒå·¥ è¿‘è·ç¦»ä½é€Ÿ $$I^2C$$ 2 åŒæ­¥ æ”¯æŒ \u003c3.4Mbps \u003c 10 \u003c3 åŠåŒå·¥ è¿‘è·ç¦»ä½é€Ÿ ä¸¾ä¾‹è¯´æ˜ï¼š I2Cçš„ä½¿ç”¨åœºæ™¯ï¼šè¿æ¥ä¼ æ„Ÿå™¨ã€å­˜å‚¨å™¨ã€æ˜¾ç¤ºå™¨ç­‰è®¾å¤‡ã€‚ä¾‹å¦‚ï¼Œè¿æ¥æ¸©åº¦ä¼ æ„Ÿå™¨ã€EEPROMå­˜å‚¨å™¨ã€OLEDæ˜¾ç¤ºå™¨ç­‰ã€‚ UARTçš„ä½¿ç”¨åœºæ™¯ï¼šè¿æ¥ä¸²å£è®¾å¤‡ï¼Œå¦‚è°ƒè¯•å™¨ã€GPSæ¥æ”¶å™¨ç­‰ã€‚ä¾‹å¦‚ï¼Œè¿æ¥ä¸²å£è°ƒè¯•å™¨è¿›è¡Œç¨‹åºè°ƒè¯•ã€‚ SPIçš„ä½¿ç”¨åœºæ™¯ï¼šè¿æ¥å­˜å‚¨å™¨ã€æ˜¾ç¤ºå™¨ã€ä¼ æ„Ÿå™¨ç­‰è®¾å¤‡ã€‚ä¾‹å¦‚ï¼Œè¿æ¥Flashå­˜å‚¨å™¨ã€LCDæ˜¾ç¤ºå™¨ã€åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ç­‰ã€‚ é€‰æ‹©ä½¿ç”¨è¿™ä¸‰è€…çš„åœºæ™¯å–å†³äºå…·ä½“çš„åº”ç”¨éœ€æ±‚ã€‚ å¦‚æœéœ€è¦è¿æ¥å¤šä¸ªè®¾å¤‡ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨I2Cæˆ–SPIåè®®ï¼› å¦‚æœåªéœ€è¦è¿æ¥å•ä¸ªè®¾å¤‡ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨UARTåè®®ã€‚ å¦‚æœéœ€è¦é«˜é€Ÿä¼ è¾“æ•°æ®ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨SPIåè®®ã€‚ å¦‚æœéœ€è¦ä½åŠŸè€—å’Œç®€å•çš„é€šä¿¡æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨I2Cåè®®ã€‚ å¦‚æœéœ€è¦é•¿è·ç¦»ä¼ è¾“æ•°æ®ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨UARTåè®®ã€‚ ","date":"2023-06-13","objectID":"/transmitter/:0:0","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"UART UARTï¼ˆUniversal Asynchronous Receiver/Transmitterï¼‰ï¼šUARTæ˜¯ä¸€ç§å¼‚æ­¥ä¸²è¡Œé€šä¿¡åè®®ï¼Œç”¨äºåœ¨è®¡ç®—æœºå’Œå¤–éƒ¨è®¾å¤‡ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚å®ƒä½¿ç”¨ä¸¤æ ¹çº¿ï¼ˆTXå’ŒRXï¼‰è¿›è¡Œé€šä¿¡ï¼Œå…¶ä¸­TXæ˜¯å‘é€çº¿ï¼ŒRXæ˜¯æ¥æ”¶çº¿ã€‚UARTåè®®åªæ”¯æŒå•ä¸»æœºå’Œå•ä»æœºçš„é€šä¿¡ï¼Œä¸èƒ½è¿æ¥å¤šä¸ªè®¾å¤‡ã€‚UARTé€šå¸¸ç”¨äºè¿æ¥ä¸²å£è®¾å¤‡ï¼Œå¦‚è°ƒè¯•å™¨ã€GPSæ¥æ”¶å™¨ç­‰ã€‚ ","date":"2023-06-13","objectID":"/transmitter/:1:0","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"æµæ§åˆ¶ æµæ§åˆ¶çš„æ–¹å¼åˆ†åˆ«æœ‰è½¯ä»¶å’Œç¡¬ä»¶ä¸¤ç§ã€‚ è½¯ä»¶çš„æµæ§åˆ¶æ–¹å¼ï¼Œåœ¨UARTé€šä¿¡ä¸­ï¼Œåªéœ€RxDã€TxDã€GNDä¸‰æ ¹å³å¯ï¼Œæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œä¾é ä»£ç çš„åˆ¤æ–­å¤„ç†ï¼Œå¹¶é€šè¿‡æ”¶å‘åŒæ–¹è¿›è¡Œçš„æ•°æ®äº¤äº’å®Œæˆæ§åˆ¶ï¼Œåœ¨ç°æœ‰é€šä¿¡ç‰©ç†ä¿¡å·çº¿åŸºç¡€ä¸Šï¼Œä½¿ç”¨æ§åˆ¶å­—ç¬¦(ASCIIè¡¨ä¸­çš„0x00~0x0x1Fã€0x7F)å®Œæˆæ§åˆ¶æŒ‡ä»¤çš„äº¤äº’ã€‚ä¸€èˆ¬åœ¨ç§æœ‰åè®®ä¸‹ä¹Ÿä¼šå®šä¹‰ä¸€äº›ç‰¹æ®Šå­—ç¬¦è®¾ä¸ºæ§åˆ¶æŒ‡ä»¤ã€‚ ç¡¬ä»¶çš„æµæ§åˆ¶æ–¹å¼ï¼Œå³åœ¨åŸæœ‰çš„RxDã€TxDã€GNDä¸‰æ ¹ä¿¡å·çº¿çš„åŸºç¡€ä¸Šï¼Œå†å¢åŠ RTS/CTSå’ŒDTR/DSRè¿™ä¸¤ç»„ä¿¡å·çº¿ã€‚ç¬¬ä¸€ç»„çº¿æ˜¯RTSï¼ˆRequest toSendï¼‰å’ŒCTSï¼ˆClear toSendï¼‰ã€‚å½“æ¥æ”¶æ–¹å‡†å¤‡å¥½æ¥æ”¶æ•°æ®ï¼Œå®ƒç½®é«˜RTSçº¿è¡¨ç¤ºå®ƒå‡†å¤‡å¥½äº†ï¼Œå¦‚æœå‘é€æ–¹ä¹Ÿå°±ç»ªï¼Œå®ƒç½®é«˜CTSï¼Œè¡¨ç¤ºå®ƒå³å°†å‘é€æ•°æ®ã€‚ç¬¬äºŒç»„çº¿æ˜¯DTRï¼ˆDataTerminal Readyï¼‰å’ŒDSRï¼ˆData SetReadyï¼‰ã€‚è¿™äº›çº¿ä¸»è¦ç”¨äºModemé€šä¿¡ã€‚ä½¿å¾—ä¸²å£å’ŒModemé€šä¿¡ä»–ä»¬çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼šå½“Modemå·²ç»å‡†å¤‡å¥½æ¥æ”¶æ¥è‡ªPCçš„æ•°æ®ï¼Œå®ƒç½®é«˜DTRçº¿ï¼Œè¡¨ç¤ºå’Œç”µè¯çº¿çš„è¿æ¥å·²ç»å»ºç«‹ã€‚è¯»å–DSRçº¿ç½®é«˜ï¼ŒPCæœºå¼€å§‹å‘é€æ•°æ®ã€‚ä¸€ä¸ªç®€å•çš„è§„åˆ™æ˜¯DTR/DSRç”¨äºè¡¨ç¤ºç³»ç»Ÿé€šä¿¡å°±ç»ªï¼Œè€ŒRTS/CTSç”¨äºå•ä¸ªæ•°æ®åŒ…çš„ä¼ è¾“ã€‚ ","date":"2023-06-13","objectID":"/transmitter/:1:1","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"ä¼˜ç‚¹ åªä½¿ç”¨ä¸¤æ ¹ç”µçº¿ï¼Œä¸éœ€è¦æ—¶é’Ÿä¿¡å· æœ‰ä¸€ä¸ªå¥‡å¶æ ¡éªŒä½ï¼Œåªè¦åŒæ–¹è®¾ç½®åï¼Œå°±å¯ä»¥æ”¹å˜æ•°æ®åŒ…çš„ç»“æ„ ","date":"2023-06-13","objectID":"/transmitter/:1:2","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"ç¼ºç‚¹ æ•°æ®å¸§çš„å¤§å°é™åˆ¶ä¸ºæœ€å¤š9ä½ï¼Œä¸æ”¯æŒå¤šä¸ªä»å±æˆ–å¤šä¸ªä¸»ç³»ç»Ÿ æ¯ä¸ªUARTçš„æ³¢ç‰¹ç‡å¿…é¡»åœ¨10ï¼…ä¹‹å†… ","date":"2023-06-13","objectID":"/transmitter/:1:3","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"SPI SPIï¼ˆSerial Peripheral Interfaceï¼‰ï¼šSPIæ˜¯ä¸€ç§ä¸²è¡Œé€šä¿¡åè®®ï¼Œç”¨äºåœ¨èŠ¯ç‰‡ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚å®ƒä½¿ç”¨å››æ ¹çº¿ï¼ˆMOSIã€MISOã€SCKå’ŒSSï¼‰è¿›è¡Œé€šä¿¡ï¼Œå…¶ä¸­MOSIæ˜¯ä¸»è®¾å¤‡è¾“å‡ºä»è®¾å¤‡è¾“å…¥çš„æ•°æ®çº¿ï¼ŒMISOæ˜¯ä¸»è®¾å¤‡è¾“å…¥ä»è®¾å¤‡è¾“å‡ºçš„æ•°æ®çº¿ï¼ŒSCKæ˜¯æ—¶é’Ÿçº¿ï¼ŒSSæ˜¯ç‰‡é€‰çº¿ã€‚SPIåè®®æ”¯æŒå¤šä¸»æœºå’Œå¤šä»æœºçš„é€šä¿¡ï¼Œå¯ä»¥è¿æ¥å¤šä¸ªè®¾å¤‡ã€‚SPIé€šå¸¸ç”¨äºè¿æ¥å­˜å‚¨å™¨ã€æ˜¾ç¤ºå™¨ã€ä¼ æ„Ÿå™¨ç­‰è®¾å¤‡ã€‚ ","date":"2023-06-13","objectID":"/transmitter/:2:0","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"SPIä½¿ç”¨çš„å››æ ¹ä¿¡å·çº¿ SCLK: Serial Clock (output from master)ï¼šä¸²è¡Œæ—¶é’Ÿï¼Œç”¨æ¥åŒæ­¥æ•°æ®ä¼ è¾“ï¼Œç”±ä¸»æœºè¾“å‡ºï¼› MOSI \\ SIMO: Master Output, Slave Input(output from master)ï¼šä¸»æœºè¾“å‡ºä»æœºè¾“å…¥æ•°æ®çº¿ï¼Œé€šå¸¸å…ˆä¼ è¾“MSBï¼› MISO \\ SOMI: Master Input, Slave Output(output from slave)ï¼šä¸»æœºè¾“å…¥ä»æœºè¾“å‡ºæ•°æ®çº¿ï¼Œé€šå¸¸å…ˆä¼ è¾“LSBï¼› SS: Slave Select (active low, output from master)ï¼šç‰‡é€‰çº¿ï¼Œä½ç”µå¹³æœ‰æ•ˆï¼Œç”±ä¸»æœºè¾“å‡ºã€‚ SS\\CSï¼šæ§åˆ¶èŠ¯ç‰‡æ˜¯å¦è¢«é€‰ä¸­çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰ç‰‡é€‰ä¿¡å·ä¸ºé¢„å…ˆè§„å®šçš„ä½¿èƒ½ä¿¡å·æ—¶ï¼ˆä¸€èˆ¬é»˜è®¤ä¸ºä½ç”µä½ï¼‰ï¼Œå¯¹æ­¤èŠ¯ç‰‡çš„æ“ä½œæ‰æœ‰æ•ˆï¼Œè¿™å°±å…è®¸åœ¨åŒä¸€æ€»çº¿ä¸Šè¿æ¥å¤šä¸ªSPIè®¾å¤‡æˆä¸ºå¯èƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šå½“æœ‰å¤šä¸ªä»è®¾å¤‡çš„æ—¶å€™ï¼Œå› ä¸ºæ¯ä¸ªä»è®¾å¤‡ä¸Šéƒ½æœ‰ä¸€ä¸ªç‰‡é€‰å¼•è„šæ¥å…¥åˆ°ä¸»è®¾å¤‡æœºä¸­ï¼Œå½“æˆ‘ä»¬çš„ä¸»è®¾å¤‡å’ŒæŸä¸ªä»è®¾å¤‡é€šä¿¡æ—¶å°†éœ€è¦å°†ä»è®¾å¤‡å¯¹åº”çš„ç‰‡é€‰å¼•è„šç”µå¹³æ‹‰ä½ã€‚ ","date":"2023-06-13","objectID":"/transmitter/:2:1","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"SPIçš„å››ç§æ“ä½œæ¨¡å¼ SPIçš„å››ç§æ“ä½œæ¨¡å¼ï¼Œå®ƒä»¬çš„åŒºåˆ«æ˜¯å®šä¹‰äº†åœ¨æ—¶é’Ÿè„‰å†²çš„å“ªæ¡è¾¹æ²¿è½¬æ¢ï¼ˆtogglesï¼‰è¾“å‡ºä¿¡å·ï¼Œå“ªæ¡è¾¹æ²¿é‡‡æ ·è¾“å…¥ä¿¡å·ï¼Œè¿˜æœ‰æ—¶é’Ÿè„‰å†²çš„ç¨³å®šç”µå¹³å€¼ï¼ˆå°±æ˜¯æ—¶é’Ÿä¿¡å·æ— æ•ˆæ—¶æ˜¯é«˜è¿˜ä½ï¼‰ã€‚ å¯¹äºSTM32ç­‰MCUè‡ªå¸¦çš„ç¡¬ä»¶SPIå¤–è®¾æ¥è¯´ï¼Œå¯èƒ½æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œåªéœ€è¦é…ç½®ä¸€ä¸‹æ¨¡å¼å°±è¡Œäº†ï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨ä½¿ç”¨GPIOæ¨¡æ‹Ÿæˆ–è€…FPGAæ¥å®ç°SPIçš„æ—¶åºï¼Œè¿™ä¸€ç‚¹æ˜¯éå¸¸éå¸¸é‡è¦çš„ã€‚ Master è®¾å¤‡ä¼šæ ¹æ®å°†è¦äº¤æ¢çš„æ•°æ®æ¥äº§ç”Ÿç›¸åº”çš„æ—¶é’Ÿè„‰å†²(Clock Pulse)ï¼Œæ—¶é’Ÿè„‰å†²ç»„æˆäº†æ—¶é’Ÿä¿¡å·(Clock Signal) ï¼Œæ¯ç§æ¨¡å¼ç”±æ—¶é’Ÿä¿¡å·ä¸­çš„æ—¶é’Ÿææ€§ï¼ˆclock polarityï¼‰CPOLä¸æ—¶é’Ÿå‘¨æœŸï¼ˆclock phaseï¼‰CPHAæ¥å®šä¹‰ã€‚ ä¸åŒçš„ä»è®¾å¤‡å¯èƒ½åœ¨å‡ºå‚æ˜¯å°±æ˜¯é…ç½®ä¸ºæŸç§æ¨¡å¼ï¼Œè¿™æ˜¯ä¸èƒ½æ”¹å˜çš„ï¼Œä½†æˆ‘ä»¬çš„é€šä¿¡åŒæ–¹å¿…é¡»æ˜¯å·¥ä½œåœ¨åŒä¸€æ¨¡å¼ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¯¹æˆ‘ä»¬çš„ä¸»è®¾å¤‡çš„SPIæ¨¡å¼è¿›è¡Œé…ç½®ï¼Œä»è€Œå®ç°ä¸»ä»é€šè®¯ã€‚ æ—¶é’Ÿææ€§CPOLæ˜¯ç”¨æ¥é…ç½®SCLKçš„ç”µå¹³å‡ºäºå“ªç§çŠ¶æ€æ—¶æ˜¯ç©ºé—²æ€æˆ–è€…æœ‰æ•ˆæ€ï¼›æ—¶é’Ÿç›¸ä½CPHAæ˜¯ç”¨æ¥é…ç½®æ•°æ®é‡‡æ ·æ˜¯åœ¨ç¬¬å‡ ä¸ªè¾¹æ²¿ã€‚ CPOL=0ï¼Œè¡¨ç¤ºå½“SCLK=0æ—¶å¤„äºç©ºé—²æ€ï¼Œæ‰€ä»¥æœ‰æ•ˆçŠ¶æ€å°±æ˜¯SCLKå¤„äºé«˜ç”µå¹³æ—¶ï¼› CPOL=1ï¼Œè¡¨ç¤ºå½“SCLK=1æ—¶å¤„äºç©ºé—²æ€ï¼Œæ‰€ä»¥æœ‰æ•ˆçŠ¶æ€å°±æ˜¯SCLKå¤„äºä½ç”µå¹³æ—¶ï¼› CPHA=0ï¼Œè¡¨ç¤ºæ•°æ®é‡‡æ ·æ˜¯åœ¨ç¬¬1ä¸ªè¾¹æ²¿ï¼Œæ•°æ®å‘é€åœ¨ç¬¬2ä¸ªè¾¹æ²¿ï¼› CPHA=1ï¼Œè¡¨ç¤ºæ•°æ®é‡‡æ ·æ˜¯åœ¨ç¬¬2ä¸ªè¾¹æ²¿ï¼Œæ•°æ®å‘é€åœ¨ç¬¬1ä¸ªè¾¹æ²¿ã€‚ åœ¨é«˜ç”µå¹³æœ‰æ•ˆçŠ¶æ€æ—¶ï¼Œç¬¬ä¸€è¾¹æ²¿ä¸ºä¸Šå‡æ²¿ï¼Œç¬¬äºŒè¾¹æ²¿ä¸ºä¸‹é™æ²¿ï¼›åœ¨ä½ç”µå¹³æœ‰æ•ˆçŠ¶æ€æ—¶ï¼Œç¬¬ä¸€è¾¹æ²¿ä¸ºä¸‹é™æ²¿ï¼Œç¬¬äºŒè¾¹æ²¿ä¸ºä¸Šå‡æ²¿ å…·ä½“å››ç§æ¨¡å¼å¦‚ä¸‹ï¼š CPOL = 0ï¼ŒCPHA = 0ï¼šæ—¶é’Ÿé«˜ç”µå¹³æ—¶ä¸ºæœ‰æ•ˆçŠ¶æ€ï¼Œæ—¶é’Ÿä¸Šå‡æ²¿ï¼ˆç¬¬ä¸€ä¸ªè¾¹æ²¿ï¼‰é‡‡æ ·ã€‚ CPOL = 0ï¼ŒCPHA = 1ï¼šæ—¶é’Ÿé«˜ç”µå¹³æ—¶ä¸ºæœ‰æ•ˆçŠ¶æ€ï¼Œæ—¶é’Ÿä¸‹é™æ²¿ï¼ˆç¬¬äºŒä¸ªè¾¹æ²¿ï¼‰é‡‡æ ·ã€‚ CPOL = 1ï¼ŒCPHA = 0ï¼šæ—¶é’Ÿä½ç”µå¹³æ—¶ä¸ºæœ‰æ•ˆçŠ¶æ€ï¼Œæ—¶é’Ÿä¸‹é™æ²¿ï¼ˆç¬¬ä¸€ä¸ªè¾¹æ²¿ï¼‰é‡‡æ ·ã€‚ CPOL = 1ï¼ŒCPHA = 1ï¼šæ—¶é’Ÿä½ç”µå¹³æ—¶ä¸ºæœ‰æ•ˆçŠ¶æ€ï¼Œæ—¶é’Ÿä¸Šå‡æ²¿ï¼ˆç¬¬äºŒä¸ªè¾¹æ²¿ï¼‰é‡‡æ ·ã€‚ ","date":"2023-06-13","objectID":"/transmitter/:2:2","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"I2C I2Cï¼ˆInter-Integrated Circuitï¼‰ï¼šI2Cæ˜¯ä¸€ç§ä¸²è¡Œé€šä¿¡åè®®ï¼Œç”¨äºåœ¨èŠ¯ç‰‡ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚å®ƒä½¿ç”¨ä¸¤æ ¹çº¿ï¼ˆSDAå’ŒSCLï¼‰è¿›è¡Œé€šä¿¡ï¼Œå…¶ä¸­SDAæ˜¯æ•°æ®çº¿ï¼ŒSCLæ˜¯æ—¶é’Ÿçº¿ã€‚I2Cåè®®æ”¯æŒå¤šä¸»æœºå’Œå¤šä»æœºçš„é€šä¿¡ï¼Œå¯ä»¥è¿æ¥å¤šä¸ªè®¾å¤‡ã€‚I2Cé€šå¸¸ç”¨äºè¿æ¥ä¼ æ„Ÿå™¨ã€å­˜å‚¨å™¨ã€æ˜¾ç¤ºå™¨ç­‰è®¾å¤‡ã€‚ IIC æ˜¯å¤šä¸»è®¾å¤‡çš„æ€»çº¿ï¼ŒIICæ²¡æœ‰ç‰©ç†çš„èŠ¯ç‰‡é€‰æ‹©ä¿¡å·çº¿ï¼Œæ²¡æœ‰ä»²è£é€»è¾‘ç”µè·¯ï¼Œåªä½¿ç”¨serial data (SDA)æ•°æ®çº¿ å’Œ serial clock(SCL)æ—¶é’Ÿçº¿ä¸¤æ¡ä¿¡å·çº¿ï¼Œæ•°æ®çº¿ç”¨æ¥ä¼ è¾“æ•°æ®ï¼Œæ—¶é’Ÿçº¿ç”¨æ¥åŒæ­¥æ•°æ®æ”¶å‘ã€‚ä¸¤æ ¹ä¿¡å·çº¿éƒ½æ˜¯åŒå‘ä¼ è¾“çš„ï¼Œè¿™ä¸¤æ¡çº¿éƒ½æ˜¯æ¼æå¼€è·¯æˆ–è€…é›†ç”µæå¼€è·¯ç»“æ„ï¼Œä½¿ç”¨æ—¶éœ€è¦å¤–åŠ ä¸Šæ‹‰ç”µé˜»ï¼Œå¯ä»¥æŒ‚è½½å¤šä¸ªè®¾å¤‡ã€‚ ","date":"2023-06-13","objectID":"/transmitter/:3:0","tags":["uart","i2c","spi"],"title":"UART, I2C, SPI","uri":"/transmitter/"},{"categories":["Code"],"content":"å½“Sqlè¯­å¥è½¬æ¢ä¸ºSqlNode ä¹‹å å°±ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µï¼šå°†SqlNode è½¬æ¢æˆ Operations @Override public List\u003cOperation\u003e parse(String statement) { CalciteParser parser = calciteParserSupplier.get(); FlinkPlannerImpl planner = validatorSupplier.get(); Optional\u003cOperation\u003e command = EXTENDED_PARSER.parse(statement); if (command.isPresent()) { return Collections.singletonList(command.get()); } // parse the sql query // use parseSqlList here because we need to support statement end with ';' in sql client. SqlNodeList sqlNodeList = parser.parseSqlList(statement); List\u003cSqlNode\u003e parsed = sqlNodeList.getList(); Preconditions.checkArgument(parsed.size() == 1, \"only single statement supported\"); return Collections.singletonList( SqlNodeToOperationConversion.convert(planner, catalogManager, parsed.get(0)) .orElseThrow(() -\u003e new TableException(\"Unsupported query: \" + statement))); } å…¶ä¸­ SqlNodeToOperationConversion.convertæ–¹æ³•ï¼Œå°±ç®—æ˜¯å°† SqlNodeè½¬æ¢æˆ Operation SqlNodä¼šå…ˆè¿›è¡ŒéªŒè¯å·¥ä½œï¼Œç„¶åå†è¿›è¡Œè½¬æ¢ public static Optional\u003cOperation\u003e convert( FlinkPlannerImpl flinkPlanner, CatalogManager catalogManager, SqlNode sqlNode) { // validate the query final SqlNode validated = flinkPlanner.validate(sqlNode); return convertValidatedSqlNode(flinkPlanner, catalogManager, validated); } ","date":"2023-06-06","objectID":"/flink-sql-validate/:0:0","tags":["flink","sql"],"title":"FlinkSQL - éªŒè¯è¿‡ç¨‹","uri":"/flink-sql-validate/"},{"categories":["Code"],"content":"ä¸ºä»€ä¹ˆ SqlNode éœ€è¦éªŒè¯ ç›®çš„å½“ç„¶æ˜¯ä¸ºäº†ç¡®ä¿SQLè¯­å¥çš„æ­£ç¡®æ€§å’Œåˆæ³•æ€§ï¼Œé¿å…åœ¨åç»­çš„æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾æœ‰ä»¥ä¸‹çš„SQLè¯­å¥ï¼š SELECT name, age FROM student WHERE age \u003e 18 AND gender = 'male' åœ¨è¿›è¡Œè½¬æ¢æˆOperationçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å…ˆè¿›è¡Œvalidateï¼Œæ£€æŸ¥SQLè¯­å¥æ˜¯å¦ç¬¦åˆè¯­æ³•è§„åˆ™å’Œè¯­ä¹‰è§„åˆ™ã€‚å¦‚æœSQLè¯­å¥ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯æˆ–è€…è¯­ä¹‰é”™è¯¯ï¼Œé‚£ä¹ˆvalidateè¿‡ç¨‹ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæç¤ºç”¨æˆ·éœ€è¦ä¿®æ”¹SQLè¯­å¥ ä¾‹å¦‚ï¼Œå¦‚æœSQLè¯­å¥ä¸­å­˜åœ¨ä»¥ä¸‹é”™è¯¯ï¼š SELECT name, age FROM student WHERE age \u003e 'two' AND gender = 'male' å…¶ä¸­ï¼Œageçš„ç±»å‹æ˜¯æ•´æ•°ï¼Œä½†æ˜¯åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨äº†å­—ç¬¦ä¸²ç±»å‹çš„â€™twoâ€™è¿›è¡Œæ¯”è¾ƒï¼Œè¿™æ˜¯ä¸€ä¸ªè¯­ä¹‰é”™è¯¯ã€‚åœ¨è¿›è¡Œvalidateçš„è¿‡ç¨‹ä¸­ï¼Œä¼šæ£€æµ‹åˆ°è¿™ä¸ªé”™è¯¯å¹¶æŠ›å‡ºå¼‚å¸¸ï¼Œæç¤ºç”¨æˆ·éœ€è¦ä¿®æ”¹SQLè¯­å¥ä¸­çš„æ¯”è¾ƒæ¡ä»¶ å› æ­¤ï¼Œå…ˆè¿›è¡Œvalidateçš„è¿‡ç¨‹å¯ä»¥å¸®åŠ©ç”¨æˆ·åœ¨SQLè¯­å¥æ‰§è¡Œä¹‹å‰å°±å‘ç°é”™è¯¯ï¼Œé¿å…åœ¨åç»­çš„æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜ï¼Œæé«˜SQLè¯­å¥çš„æ‰§è¡Œæ•ˆç‡å’Œå‡†ç¡®æ€§ ","date":"2023-06-06","objectID":"/flink-sql-validate/:1:0","tags":["flink","sql"],"title":"FlinkSQL - éªŒè¯è¿‡ç¨‹","uri":"/flink-sql-validate/"},{"categories":["Code"],"content":"validate validateçš„è¿‡ç¨‹çš„è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯SqlNodeï¼Œé™¤äº†æ£€æŸ¥ç±»å‹ä¹‹å¤–è¿˜ä¼šæ›´æ”¹SqlNodeçš„èŠ‚ç‚¹ä¿¡æ¯ é€šè¿‡FlinkPlanner å¯¹SqlNodeè¿›è¡Œæ£€æŸ¥ def validate(sqlNode: SqlNode): SqlNode = { val validator = getOrCreateSqlValidator() validate(sqlNode, validator) } FlinkCalciteSqlValidator å®ç° äº†Calicte çš„SqlValidatorImpl ä½œä¸ºvalidatorï¼Œå°±æ˜¯ç”¨æ¥æ£€æŸ¥FlinkSqlçš„Sqlè¯­æ³•çš„ /** Extends Calcite's {@link SqlValidator} by Flink-specific behavior. */ @Internal public final class FlinkCalciteSqlValidator extends SqlValidatorImpl { // Enables CallContext#getOutputDataType() when validating SQL expressions. private SqlNode sqlNodeForExpectedOutputType; private RelDataType expectedOutputType; public FlinkCalciteSqlValidator( SqlOperatorTable opTab, SqlValidatorCatalogReader catalogReader, RelDataTypeFactory typeFactory, SqlValidator.Config config) { super(opTab, catalogReader, typeFactory, config); } ","date":"2023-06-06","objectID":"/flink-sql-validate/:2:0","tags":["flink","sql"],"title":"FlinkSQL - éªŒè¯è¿‡ç¨‹","uri":"/flink-sql-validate/"},{"categories":["Code"],"content":"åˆ›å»º validator ç¬¬ä¸€æ¬¡å†™å…¥Sqlæ—¶ï¼Œä¼šæ–°å»ºä¸€ä¸ªvalidatorï¼Œåé¢å†åˆ›å»ºå°±ä¼šä½¿ç”¨ä¸€ä¸ªå•ä¾‹æ¥å¤„ç† def getOrCreateSqlValidator(): FlinkCalciteSqlValidator = { if (validator == null) { val catalogReader = catalogReaderSupplier.apply(false) validator = createSqlValidator(catalogReader) } validator } å…¶ä¸­ï¼ŒcatalogReaderSupplieræ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç›®çš„æ˜¯è¯»å–å’Œè§£ææ•°æ®åº“ä¸­çš„å…ƒä¿¡æ¯ï¼Œæ¯”å¦‚æ•°æ®åº“ï¼Œè¡¨ï¼Œåˆ—ç­‰ä¿¡æ¯ å‡½æ•°çš„è¾“å…¥æ˜¯ä¸€ä¸ªboolå€¼ï¼Œç”¨æ¥ç¡®å®šå¤§å°å†™æ˜¯å¦æ•æ„Ÿï¼›è¾“å‡ºæ˜¯FlinkCalciteCatalogReader FlinkCalciteCatalogReaderç›¸æ¯”äºCalciteCatalogReaderï¼ŒåŒ…å«äº†Flinkç‰¹æœ‰çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šFlinkçš„UDFå‡½æ•°ä¿¡æ¯å’ŒFlinkçš„Tableä¿¡æ¯ FlinkCalciteSqlValidator é€šè¿‡æ•°æ®å…ƒä¿¡æ¯ï¼Œå°±å¯ä»¥åˆ›å»º SqlValidator private def createSqlValidator(catalogReader: CalciteCatalogReader) = { val validator = new FlinkCalciteSqlValidator( operatorTable, catalogReader, typeFactory, SqlValidator.Config.DEFAULT .withIdentifierExpansion(true) .withDefaultNullCollation(FlinkPlannerImpl.defaultNullCollation) .withTypeCoercionEnabled(false) ) // Disable implicit type coercion for now. validator } åˆ›å»ºSqlValidator éœ€è¦ä»¥ä¸‹ä¿¡æ¯ SqlOperatorTable, å®šä¹‰äº†Sqlæ“ä½œç¬¦å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æŸ¥æ‰¾è¿™äº›æ“ä½œç¬¦å’Œæ–¹æ³• è¿™ä¸ªSqlOperatorTableæ˜¯åœ¨åˆ›å»º StreamTableEnvironmentçš„æ—¶å€™å°±åˆ›å»ºäº†ï¼Œå…·ä½“æ˜¯åœ¨ // org.apache.flink.table.planner.delegation.PlannerContext public FrameworkConfig createFrameworkConfig() { return Frameworks.newConfigBuilder() .defaultSchema(rootSchema.plus()) .parserConfig(getSqlParserConfig()) .costFactory(new FlinkCostFactory()) .typeSystem(typeSystem) .convertletTable(FlinkConvertletTable.INSTANCE) .sqlToRelConverterConfig(getSqlToRelConverterConfig()) .operatorTable(getSqlOperatorTable(getCalciteConfig())) // è¿™é‡Œåˆ›å»º // set the executor to evaluate constant expressions .executor( new ExpressionReducer( context.getTableConfig(), context.getClassLoader(), false)) .context(context) .traitDefs(traitDefs) .build(); } ä¸€èˆ¬æ¥è¯´ opTab é‡ŒåŒ…å«çš„éƒ½æ˜¯ Calciteè‡ªå¸¦çš„æ“ä½œç¬¦ æ¯”å¦‚ not like, is not null è¿™ç±» SqlValidatorCatalogReader, å°±æ˜¯ä¸Šé¢æ‰€è¯´çš„FlinkCalciteCatalogReaderï¼Œä¿å­˜çš„SQLçš„å…ƒæ•°æ® RelDataTypeFactory, FlinkSQLçš„ç±»å‹ï¼Œè¿æ¥ Flink çš„ LogicalType å’Œ Calcite çš„ RelDataTypeã€‚ RelDataType æ˜¯ RelNodeå…³ç³»ä»£æ•°ä¸­çš„æ•°æ®ç±»å‹ï¼Œä½¿ç”¨Calciteè§£æSQLçš„æ—¶å€™å†…éƒ¨ä¼šè½¬æ¢æˆè¿™ç§ç±»å‹ /** * Flink specific type factory that represents the interface between Flink's [[LogicalType]] and * Calcite's [[RelDataType]]. */ class FlinkTypeFactory( classLoader: ClassLoader, typeSystem: RelDataTypeSystem = FlinkTypeSystem.INSTANCE) extends JavaTypeFactoryImpl(typeSystem) with ExtendedRelTypeFactory { private val seenTypes = mutable.HashMap[LogicalType, RelDataType]() /** * Create a calcite field type in table schema from [[LogicalType]]. It use PEEK_FIELDS_NO_EXPAND * when type is a nested struct type (Flink [[RowType]]). * * @param t * flink logical type. * @return * calcite [[RelDataType]]. */ def createFieldTypeFromLogicalType(t: LogicalType): RelDataType = { def newRelDataType(): RelDataType = t.getTypeRoot match { case LogicalTypeRoot.NULL =\u003e createSqlType(NULL) case LogicalTypeRoot.BOOLEAN =\u003e createSqlType(BOOLEAN) case LogicalTypeRoot.TINYINT =\u003e createSqlType(TINYINT) case LogicalTypeRoot.SMALLINT =\u003e createSqlType(SMALLINT) case LogicalTypeRoot.INTEGER =\u003e createSqlType(INTEGER) case LogicalTypeRoot.BIGINT =\u003e createSqlType(BIGINT) case LogicalTypeRoot.FLOAT =\u003e createSqlType(FLOAT) case LogicalTypeRoot.DOUBLE =\u003e createSqlType(DOUBLE) case LogicalTypeRoot.VARCHAR =\u003e createSqlType(VARCHAR, t.asInstanceOf[VarCharType].getLength) case LogicalTypeRoot.CHAR =\u003e createSqlType(CHAR, t.asInstanceOf[CharType].getLength) // temporal types case LogicalTypeRoot.DATE =\u003e createSqlType(DATE) case LogicalTypeRoot.TIME_WITHOUT_TIME_ZONE =\u003e createSqlType(TIME) // interval types case LogicalTypeRoot.INTERVAL_YEAR_MONTH =\u003e createSqlIntervalType( new SqlIntervalQualifier(TimeUnit.YEAR, TimeUnit.MONTH, SqlParserPos.ZERO)) case LogicalTypeRoot.INTERVAL_DAY_TIME =\u003e createSqlIntervalType( new SqlIntervalQualifier(TimeUnit.DAY, TimeUnit.SECOND, SqlParserPos.ZERO)) case LogicalTypeRoot.BINARY =\u003e createSqlType(BINARY, t.asInstanceOf[BinaryType].getLength) case LogicalTypeRoot.VARBINARY =\u003e createSqlType(VARBINARY, t.asInstanceOf[VarBinaryType].getLength) case LogicalTypeRoot.DECIMAL =\u003e t match { case decimalType: DecimalType =\u003e createSqlType(DECIMAL, de","date":"2023-06-06","objectID":"/flink-sql-validate/:2:1","tags":["flink","sql"],"title":"FlinkSQL - éªŒè¯è¿‡ç¨‹","uri":"/flink-sql-validate/"},{"categories":["Code"],"content":"å¼€å§‹éªŒè¯ åˆ›å»ºvalidator å æ ¹æ®validate æ¥éªŒè¯ sqlNode é‡å†™ ä¸ºä»€ä¹ˆè¦é‡å†™ï¼Ÿ é‡å†™ç›¸å½“äºæ˜¯åœ¨SqlNodeè¿›è¡Œä¸€äº›é¢„å¤„ç†ä¸»è¦ä½œç”¨æ˜¯æ£€æŸ¥æŸ¥è¯¢è¯­å¥æ˜¯å¦ç¬¦åˆFlink Tableçš„è¯­æ³•è§„èŒƒï¼Œå¹¶å¯¹æŸ¥è¯¢è¯­å¥è¿›è¡Œä¸€äº›å¿…è¦çš„è½¬æ¢å’Œä¼˜åŒ–ï¼Œä»¥ä¾¿æ›´å¥½åœ°æ”¯æŒFlinkçš„æ‰§è¡Œå¼•æ“ Flinkä¸­é‡å†™æ˜¯ä¾é PreValidateReWriteræ¥å®ç°çš„ sqlNode.accept(new PreValidateReWriter(validator, typeFactory)) å¦‚æœæ˜¯ç®€å•çš„SQLå…¶å®ä¸éœ€è¦é‡å†™ override def visit(call: SqlCall): Unit = { call match { case e: SqlRichExplain =\u003e e.getStatement match { case r: RichSqlInsert =\u003e rewriteInsert(r) case _ =\u003e // do nothing } case r: RichSqlInsert =\u003e rewriteInsert(r) case _ =\u003e // do nothing } } validatoréªŒè¯SqlNode å¦‚æœä¸æ˜¯ç‰¹æ®Šçš„SQLï¼Œåº”è¯¥éƒ½ä¼šä½¿ç”¨ validatoræ¥éªŒè¯SqlNode case _ =\u003e validator.validate(sqlNode) // org.apache.calcite.sql.validate.SqlValidatorImpl; @Override public SqlNode validate(SqlNode topNode) { SqlValidatorScope scope = new EmptyScope(this); scope = new CatalogScope(scope, ImmutableList.of(\"CATALOG\")); final SqlNode topNode2 = validateScopedExpression(topNode, scope); final RelDataType type = getValidatedNodeType(topNode2); Util.discard(type); return topNode2; } SqlValidatorScope SqlValidatorScopeæ˜¯Calciteä¸­çš„ä¸€ä¸ªæ¥å£ï¼Œç”¨äºè¡¨ç¤ºSQLè¯­å¥ä¸­çš„ä½œç”¨åŸŸã€‚å®ƒåŒ…å«äº†å½“å‰ä½œç”¨åŸŸä¸­å¯è§çš„æ‰€æœ‰è¡¨ã€åˆ—ã€å‡½æ•°ç­‰ä¿¡æ¯ã€‚ å…·ä½“æ¥è¯´ï¼ŒSqlValidatorScopeä¸­åŒ…å«äº†ä»¥ä¸‹ä¿¡æ¯ï¼š å½“å‰ä½œç”¨åŸŸä¸­å¯è§çš„æ‰€æœ‰è¡¨ï¼ŒåŒ…æ‹¬åˆ«åå’Œè¡¨çš„å…ƒæ•°æ®ä¿¡æ¯ã€‚ å½“å‰ä½œç”¨åŸŸä¸­å¯è§çš„æ‰€æœ‰åˆ—ï¼ŒåŒ…æ‹¬åˆ«åå’Œåˆ—çš„å…ƒæ•°æ®ä¿¡æ¯ã€‚ å½“å‰ä½œç”¨åŸŸä¸­å¯è§çš„æ‰€æœ‰å‡½æ•°ï¼ŒåŒ…æ‹¬å‡½æ•°çš„å…ƒæ•°æ®ä¿¡æ¯å’Œå‚æ•°ä¿¡æ¯ã€‚ å½“å‰ä½œç”¨åŸŸä¸­å¯è§çš„æ‰€æœ‰å˜é‡ï¼ŒåŒ…æ‹¬å˜é‡çš„ç±»å‹å’Œå€¼ã€‚ ä¸¾ä¾‹è¯´æ˜ï¼Œå‡è®¾æœ‰ä»¥ä¸‹SQLè¯­å¥ï¼š SELECT a.name, b.salary FROM employee a JOIN salary b ON a.id = b.id WHERE b.salary \u003e 5000; åœ¨è¿™ä¸ªSQLè¯­å¥ä¸­ï¼Œä½œç”¨åŸŸå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š SELECTå­å¥ä¸­çš„ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬a.nameå’Œb.salaryä¸¤ä¸ªåˆ—ã€‚ FROMå­å¥ä¸­çš„ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬employeeå’Œsalaryä¸¤ä¸ªè¡¨ã€‚ JOINå­å¥ä¸­çš„ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬aå’Œbä¸¤ä¸ªè¡¨çš„åˆ«åã€‚ WHEREå­å¥ä¸­çš„ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬b.salaryåˆ—å’Œ5000å¸¸é‡ã€‚ åœ¨æ¯ä¸ªä½œç”¨åŸŸä¸­ï¼ŒSqlValidatorScopeéƒ½ä¼šåŒ…å«ç›¸åº”çš„è¡¨ã€åˆ—ã€å‡½æ•°ç­‰ä¿¡æ¯ï¼Œä»¥ä¾¿è¿›è¡Œè¯­æ³•å’Œè¯­ä¹‰çš„éªŒè¯ã€‚ SqlValidatorScope æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹æ˜¯ä¸€ä¸ªç©ºscope validateScopedExpression éªŒè¯è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯é‡å†™SqlNodeï¼Œå°†SqlNodeä¸­çš„ä¸ç¡®å®šçš„åœ°æ–¹éƒ½è¿›è¡Œæ›´æ–° ç„¶åå¦‚æœæ˜¯Selectè¿™ç§ç®€å•çš„SQLï¼Œä¼šå°†æŸ¥è¯¢è¿›è¡Œæ³¨å†Œ private SqlNode validateScopedExpression(SqlNode topNode, SqlValidatorScope scope) { SqlNode outermostNode = performUnconditionalRewrites(topNode, false); cursorSet.add(outermostNode); top = outermostNode; TRACER.trace(\"After unconditional rewrite: {}\", outermostNode); if (outermostNode.isA(SqlKind.TOP_LEVEL)) { registerQuery(scope, null, outermostNode, outermostNode, null, false); } outermostNode.validate(this, scope); if (!outermostNode.isA(SqlKind.TOP_LEVEL)) { // force type derivation so that we can provide it to the // caller later without needing the scope deriveType(scope, outermostNode); } TRACER.trace(\"After validation: {}\", outermostNode); return outermostNode; } performUnconditionalRewrites è¿™é‡Œå¤§éƒ¨åˆ†éƒ½æ˜¯é€’å½’è°ƒç”¨ï¼Œèƒ½å¤Ÿå®é™…é‡å†™çš„å¤§éƒ¨åˆ†éƒ½æ˜¯å‡½æ•°è°ƒç”¨ if (call.getOperator() instanceof SqlUnresolvedFunction) { assert call instanceof SqlBasicCall; final SqlUnresolvedFunction function = (SqlUnresolvedFunction) call.getOperator(); // This function hasn't been resolved yet. Perform // a half-hearted resolution now in case it's a // builtin function requiring special casing. If it's // not, we'll handle it later during overload resolution. final List\u003cSqlOperator\u003e overloads = new ArrayList\u003c\u003e(); opTab.lookupOperatorOverloads( function.getNameAsId(), function.getFunctionType(), SqlSyntax.FUNCTION, overloads, catalogReader.nameMatcher()); if (overloads.size() == 1) { ((SqlBasicCall) call).setOperator(overloads.get(0)); } } SqlNodeçš„lookupOperatorOverloadsæ–¹æ³•ä¸»è¦æ˜¯ç”¨äºæŸ¥æ‰¾å¯ç”¨çš„æ“ä½œç¬¦é‡è½½ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¼šæ ¹æ®ä¼ å…¥çš„æ“ä½œç¬¦åç§°å’Œå‚æ•°ç±»å‹ï¼ŒæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ“ä½œç¬¦é‡è½½æ–¹æ³•ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æœ‰ä»¥ä¸‹çš„SqlNodeï¼š SELECT * FROM table WHERE column1 + column2 = 10 åœ¨è¿™ä¸ªSqlNodeä¸­ï¼Œæœ‰ä¸€ä¸ªåŠ æ³•æ“ä½œç¬¦â€œ+â€ï¼Œå®ƒçš„å·¦å³ä¸¤è¾¹åˆ†åˆ«æ˜¯column1å’Œcolumn2è¿™ä¸¤ä¸ªåˆ—ã€‚å› æ­¤ï¼ŒlookupOperatorOverloadsæ–¹æ³•ä¼šé¦–å…ˆæ ¹æ®â€œ+â€æ“ä½œç¬¦åç§°æŸ¥æ‰¾å¯ç”¨çš„æ“ä½œç¬¦é‡è½½æ–¹æ³•ã€‚å¦‚æœæ‰¾åˆ°äº†å¤šä¸ªé‡è½½æ–¹æ³•ï¼Œå®ƒä¼šæ ¹æ®å‚æ•°ç±»å‹è¿›ä¸€æ­¥ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„é‡è½½æ–¹æ³•ã€‚ å‡è®¾æˆ‘ä»¬å®šä¹‰äº†ä»¥ä¸‹çš„æ“ä½œç¬¦é‡è½½æ–¹æ³•ï¼š public static int operator +(int a, int b) {...} public static double operator +(double a, double b) {...} public static string operator +(string a, string b) {...} åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒlookupOperatorOverloadsæ–¹æ³•ä¼šæ ¹æ®column1å’Œcolumn2çš„æ•°æ®ç±»å‹æ¥é€‰æ‹©åˆé€‚çš„é‡è½½æ–¹æ³•ã€‚ å¦‚æœcolumn1å’Œcolumn2éƒ½æ˜¯intç±»å‹ï¼Œé‚£ä¹ˆä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªé‡è½½æ–¹æ³•ï¼› å¦‚æœcolumn1å’Œcolumn2éƒ½æ˜¯doubleç±»å‹ï¼Œé‚£ä¹ˆä¼šé€‰æ‹©ç¬¬äºŒä¸ªé‡è½½æ–¹æ³•ï¼› å¦‚æœcolumn1å’Œcolumn2éƒ½æ˜¯stringç±»å‹ï¼Œé‚£ä¹ˆä¼šé€‰æ‹©ç¬¬ä¸‰ä¸ªé‡è½½æ–¹æ³•ã€‚ å¦‚æœæ‰¾ä¸åˆ°ç¬¦åˆæ¡ä»¶çš„æ“ä½œç¬¦é‡è½½æ–¹æ³•ï¼ŒlookupOperatorOverloadsæ–¹æ³•ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ registerQuery private void registerQuery( SqlValidatorScope parentScope, @Nullable SqlValidatorScope usingScope, SqlNode node, SqlNode enclosingNode, @Nullable String alias, boolean forceNullabl","date":"2023-06-06","objectID":"/flink-sql-validate/:2:2","tags":["flink","sql"],"title":"FlinkSQL - éªŒè¯è¿‡ç¨‹","uri":"/flink-sql-validate/"},{"categories":["Code"],"content":"ä¸¾ä¾‹ ä»¥ select * from tableA where amount \u003e 2 ä¸ºä¾‹ï¼Œ ","date":"2023-06-06","objectID":"/flink-sql-validate/:3:0","tags":["flink","sql"],"title":"FlinkSQL - éªŒè¯è¿‡ç¨‹","uri":"/flink-sql-validate/"},{"categories":["Code"],"content":"parseSqlList Sqlè¯­å¥ä»ParseImplä¸­è°ƒç”¨CalciteParserçš„æ–¹æ³•parseSqlListï¼Œå°†SQLè¯­å¥è½¬æ¢æˆSqlNode // org.apache.flink.table.planner.parse.CalciteParser public SqlNodeList parseSqlList(String sql) { try { SqlParser parser = SqlParser.create(sql, config); return parser.parseStmtList(); } catch (SqlParseException e) { if (e.getMessage().contains(\"Encountered \\\"\u003cEOF\u003e\\\"\")) { throw new SqlParserEOFException(e.getMessage(), e); } throw new SqlParserException(\"SQL parse failed. \" + e.getMessage(), e); } } å…¶ä¸­ parser çš„åˆ›å»º ä½¿ç”¨åˆ°äº† calcite çš„ SqlParserå®ä¾‹ ç”Ÿæˆ SqlParser éœ€è¦ä¸¤ä¸ªå‚æ•° sql String ç±»å‹ï¼Œå°±æ˜¯ä¼ å…¥çš„Sqlå­—ç¬¦ä¸² config SqlParser.Configç±»å‹ ","date":"2023-05-27","objectID":"/flink-parse-sql/:1:0","tags":["flink","calcite","sql","javacc"],"title":"FlinkSQL - SQLè¯­å¥åˆ°SqlNode","uri":"/flink-parse-sql/"},{"categories":["Code"],"content":"SqlParser.Config Flink åœ¨è§£æsqlQuery æˆ–è€… createTemporaryView è¿™ç±»æ“ä½œSQLçš„å¤„ç†ä¸­ï¼Œå°±ä¼šåˆ›å»ºCalciteParser,åœ¨åˆ›å»ºCalciteParserçš„æ—¶å€™ä¼šè°ƒç”¨ getSqlParserConfig() çš„æ–¹æ³•è·å–SqlParser.Config // org.apache.flink.table.planner.delegation.PlannerContext /** * Returns the SQL parser config for this environment including a custom Calcite configuration. */ private SqlParser.Config getSqlParserConfig() { return JavaScalaConversionUtil.\u003cSqlParser.Config\u003etoJava( getCalciteConfig().getSqlParserConfig()) .orElseGet( // we use Java lex because back ticks are easier than double quotes in // programming and cases are preserved () -\u003e { SqlConformance conformance = getSqlConformance(); return SqlParser.config() .withParserFactory(FlinkSqlParserFactories.create(conformance)) .withConformance(conformance) .withLex(Lex.JAVA) .withIdentifierMaxLength(256); }); } å¦‚æœè®¾ç½®äº†Calicteçš„ä¸€äº›é…ç½®ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨è¿™é‡Œè¢«è¯»å–å‡ºæ¥è‡ªå®šä¹‰çš„CalicteParserï¼Œ å¦åˆ™ï¼Œèµ°orElseGetä¿¡æ¯ SqlParseråœ¨è¿™é‡Œè®¾ç½®äº†è§£æSQLçš„è¯­æ³•ã€è¯æ³•ã€æ–¹è¨€ä»¥åŠé™å®šè¯çš„æœ€å¤§é•¿åº¦ SqlConformance SqlConformance æ˜¯ç”¨æ¥è®¾ç½® SQLçš„æ–¹è¨€(æˆ–æ ‡å‡†)çš„ åœ¨FlinkSQLä¸­ä¸€å…±æœ‰ä¸¤ç§æ–¹è¨€ï¼Œ Calcite é»˜è®¤æ–¹è¨€ Hive æ–¹è¨€ FlinkSqlParserFactories /** A util method to create SqlParserImplFactory according to SqlConformance. */ public class FlinkSqlParserFactories { private FlinkSqlParserFactories() {} public static SqlParserImplFactory create(SqlConformance conformance) { if (conformance == FlinkSqlConformance.DEFAULT) { return FlinkSqlParserImpl.FACTORY; } else { throw new TableException(\"Unsupported SqlConformance: \" + conformance); } } } è¿™é‡Œå°±å¾ˆæœ‰æ„æ€ï¼ŒFlinkSqlParseråªæ¥å—Calciteé»˜è®¤æ–¹è¨€ ç„¶åå†çœ‹FlinkSqlParserImpl // package org.apache.flink.sql.parser.impl; /** * SQL parser, generated from Parser.jj by JavaCC. * * \u003cp\u003eThe public wrapper for this parser is {@link SqlParser}. */ public class FlinkSqlParserImpl extends SqlAbstractParserImpl implements FlinkSqlParserImplConstants { private static final Logger LOGGER = CalciteTrace.getParserTracer(); å¯ä»¥çœ‹å‡ºï¼ŒFlinkSqlParserImpl æ˜¯é€šè¿‡JavaCCç”Ÿæˆçš„ ç”Ÿæˆæ­¤ç±»çš„ JavaCC æ–‡ä»¶ åœ¨ flink-table/flink-sql-parser/target/generated-sources/javacc/Parser.jj è€Œè¿™ä¸ªåº”è¯¥æ˜¯æ ¹æ® FreeMarkerçš„æ¨¡æ¿fmppæ¥ç”Ÿæˆçš„,æ‰“å¼€ flink-sql-parser ä¸‹é¢ codegené‡Œé¢çš„config.fmppï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€ä¸‹ä¸€æ®µè¯ï¼Œç­”é¢˜æ„æ€å°±æ˜¯è¯´FMPPç»§æ‰¿äº†CalciteParserï¼Œç„¶åè§£ææŒ‡å®šçš„Sql # This file is an FMPP (http://fmpp.sourceforge.net/) configuration file to # allow clients to extend Calcite's SQL parser to support application specific # SQL statements, literals or data types. # # Calcite's parser grammar file (Parser.jj) is written in javacc # (https://javacc.org/) with Freemarker (http://freemarker.org/) variables # to allow clients to: # 1. have custom parser implementation class and package name. # 2. insert new parser method implementations written in javacc to parse # custom: # a) SQL statements. # b) literals. # c) data types. # 3. add new keywords to support custom SQL constructs added as part of (2). # 4. add import statements needed by inserted custom parser implementations. # # Parser template file (Parser.jj) along with this file are packaged as # part of the calcite-core-\u003cversion\u003e.jar under \"codegen\" directory. ç®€å•çœ‹ä¸€ä¸‹è¿™ä¸ªjjæ–‡ä»¶ï¼Œå¯ä»¥å‘ç°ï¼Œå°±æ˜¯åœ¨å®šä¹‰SQLå¦‚ä½•å£°æ˜ï¼Œä»¥åŠå¦‚ä½•å¤„ç†SQLè¯­å¥çš„ SqlLiteral AllOrDistinct() : { } { \u003cDISTINCT\u003e { return SqlSelectKeyword.DISTINCT.symbol(getPos()); } | \u003cALL\u003e { return SqlSelectKeyword.ALL.symbol(getPos()); } } åœ¨ flink-sql-parser ä¸­è¿˜å¯ä»¥çœ‹åˆ°ç”Ÿæˆè¿™äº›FlinkSQLçš„é€»è¾‘ï¼Œæ¯”å¦‚è¿™ç§ Flinkçš„å»ºè¡¨è¯­å¥å¦‚ä½•åˆ¤æ–­çš„é€»è¾‘ï¼Œéƒ½åœ¨è¿™é‡Œå¯ä»¥æ‰¾åˆ° // org.apache.flink.sql.parser.ddl public class SqlCreateTable extends SqlCreate implements ExtendedSqlNode { public static final SqlSpecialOperator OPERATOR = new SqlSpecialOperator(\"CREATE TABLE\", SqlKind.CREATE_TABLE); ... writer.keyword(\"CREATE\"); if (isTemporary()) { writer.keyword(\"TEMPORARY\"); } writer.keyword(\"TABLE\"); if (isIfNotExists()) { writer.keyword(\"IF NOT EXISTS\"); } tableName.unparse(writer, leftPrec, rightPrec); if (columnList.size() \u003e 0 || tableConstraints.size() \u003e 0 || watermark != null) { SqlUnparseUtils.unparseTableSchema( writer, leftPrec, rightPrec, columnList, tableConstraints, watermark); } if (comment != null) { writer.newlineAndIndent(); writer.keyword(\"COMMENT\"); comment.unparse(writer, leftPrec, rightPrec); } ... è¿”å›jjæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€æ¡SQLè¯­å¥æ˜¯å¦‚ä½•","date":"2023-05-27","objectID":"/flink-parse-sql/:1:1","tags":["flink","calcite","sql","javacc"],"title":"FlinkSQL - SQLè¯­å¥åˆ°SqlNode","uri":"/flink-parse-sql/"},{"categories":["Code"],"content":"SqlParser äº†è§£äº† SqlParser.Configçš„æ„æˆï¼ŒSqlParserå°±æ›´ç®€å•äº†åˆ›å»ºè¿‡ç¨‹å°±æ˜¯å°†Configä¸­çš„çš„æ•°æ®æ‹¿å‡ºæ¥ //~ Constructors ----------------------------------------------------------- private SqlParser(SqlAbstractParserImpl parser, Config config) { this.parser = parser; parser.setTabSize(1); parser.setQuotedCasing(config.quotedCasing()); parser.setUnquotedCasing(config.unquotedCasing()); parser.setIdentifierMaxLength(config.identifierMaxLength()); parser.setConformance(config.conformance()); parser.switchTo(SqlAbstractParserImpl.LexicalState.forConfig(config)); } å…¶ä¸­parser.switchTo ç”¨äºåˆ‡æ¢è§£æå™¨çš„çŠ¶æ€ å…·ä½“æ¥è¯´ï¼ŒswitchToæ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¦åˆ‡æ¢åˆ°çš„çŠ¶æ€ã€‚åœ¨è§£æSQLè¯­å¥çš„è¿‡ç¨‹ä¸­ï¼Œä¸åŒçš„çŠ¶æ€å¯¹åº”ç€ä¸åŒçš„è¯­æ³•è§„åˆ™å’Œè§£ææ–¹å¼ã€‚é€šè¿‡åˆ‡æ¢çŠ¶æ€ï¼Œè§£æå™¨å¯ä»¥æ ¹æ®å½“å‰çš„è¯­æ³•è§„åˆ™å’Œä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæ­£ç¡®åœ°è§£æSQLè¯­å¥ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªSQLè¯­å¥ï¼š SELECT name, age FROM users WHERE age \u003e 18; åœ¨è§£æè¿™ä¸ªSQLè¯­å¥æ—¶ï¼Œè§£æå™¨éœ€è¦æ ¹æ®ä¸åŒçš„å…³é”®å­—å’Œç¬¦å·ï¼Œåˆ¤æ–­å½“å‰çš„è¯­æ³•çŠ¶æ€ã€‚æ¯”å¦‚ï¼Œåœ¨è§£æSELECTå…³é”®å­—æ—¶ï¼Œè§£æå™¨éœ€è¦åˆ‡æ¢åˆ°SELECTçŠ¶æ€ï¼›åœ¨è§£æFROMå…³é”®å­—æ—¶ï¼Œè§£æå™¨éœ€è¦åˆ‡æ¢åˆ°FROMçŠ¶æ€ï¼›åœ¨è§£æWHEREå…³é”®å­—æ—¶ï¼Œè§£æå™¨éœ€è¦åˆ‡æ¢åˆ°WHEREçŠ¶æ€ã€‚ å…·ä½“çš„å®ç°å¯ä»¥å‚è€ƒSqlAbstractParserImplç±»çš„æºä»£ç ã€‚ æ‰€ä»¥ä¸€æ¡å­—ç¬¦ä¸²ç±»å‹çš„Sqlè¯­å¥ è½¬æ¢æˆ SqlNode çš„æµç¨‹åº”è¯¥å°±æ˜¯ ","date":"2023-05-27","objectID":"/flink-parse-sql/:1:2","tags":["flink","calcite","sql","javacc"],"title":"FlinkSQL - SQLè¯­å¥åˆ°SqlNode","uri":"/flink-parse-sql/"},{"categories":["ç”Ÿæ´»"],"content":"è®°å½• æ—¶é—´ åœ°å€ äººæ•° æ’é˜Ÿç­‰å¾… èŠ±é”€ 2023å¹´05æœˆ21æ—¥12:45:00 åŒ—äº¬å¸‚è¥¿åŸåŒºè¥¿å››åŒ—å¤§è¡—24å· 2 5åˆ†é’Ÿ 170 ","date":"2023-05-21","objectID":"/xingyuancanting/:1:0","tags":["å°åƒ","é¢æ¡"],"title":"æå›­é¤å…","uri":"/xingyuancanting/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸€å¥è¯ ç‚¹å¤šäº†ï¼Œä¸‹æ¬¡å°å°è¿‡æ²¹è‚‰ ","date":"2023-05-21","objectID":"/xingyuancanting/:2:0","tags":["å°åƒ","é¢æ¡"],"title":"æå›­é¤å…","uri":"/xingyuancanting/"},{"categories":["ç”Ÿæ´»"],"content":"ç‚¹é¤ ","date":"2023-05-21","objectID":"/xingyuancanting/:3:0","tags":["å°åƒ","é¢æ¡"],"title":"æå›­é¤å…","uri":"/xingyuancanting/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸»é£Ÿ ç‚–è‚‰é¢ï¼šå¸æºœâ€¦å¸æºœâ€¦ è‚¥è‚‰ä¹ŸæŒºé¦™çš„è‚¥è€Œä¸è…» åŒæ‹¼æé¢ï¼šä¸€åŠè¿‡æ²¹è‚‰ï¼Œä¸€åŠè™¾ä» ","date":"2023-05-21","objectID":"/xingyuancanting/:3:1","tags":["å°åƒ","é¢æ¡"],"title":"æå›­é¤å…","uri":"/xingyuancanting/"},{"categories":["ç”Ÿæ´»"],"content":"çƒ­èœ ç³–é†‹é‡Œè„Šï¼šé…¸ç”œå£ï¼Œé…¸é…¸ç”œç”œ ","date":"2023-05-21","objectID":"/xingyuancanting/:3:2","tags":["å°åƒ","é¢æ¡"],"title":"æå›­é¤å…","uri":"/xingyuancanting/"},{"categories":["ç”Ÿæ´»"],"content":"å°åƒ å¹²ç‚¸ä¸¸å­ï¼šæœ¬äººè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢åƒä¸¸å­çš„ï¼Œå„ç§ä¸¸å­éƒ½å¾ˆå¥½åƒ è±†çš®ï¼šè±†çš®é…é¢æ¡ï¼Œä¸€æ ·çš„çˆ½å£ ","date":"2023-05-21","objectID":"/xingyuancanting/:3:3","tags":["å°åƒ","é¢æ¡"],"title":"æå›­é¤å…","uri":"/xingyuancanting/"},{"categories":["ç”Ÿæ´»"],"content":"æ€»ç»“ ä¸€å®¶å®¶å¸¸å°åº—ï¼Œå¾ˆå®æƒ çš„ï¼Œæ®è¯´è¿˜æ˜¯ä¸€å®¶å›½è¥åº—ï¼Œäººä¸€ç›´å¾ˆå¤šï¼Œæˆ‘æƒ³å“ªä¸€å¤©å¦‚æœè·¯è¿‡äº†ï¼Œè¿˜æ˜¯ä¼šå†è¿›å»çš„ ","date":"2023-05-21","objectID":"/xingyuancanting/:4:0","tags":["å°åƒ","é¢æ¡"],"title":"æå›­é¤å…","uri":"/xingyuancanting/"},{"categories":["ç”Ÿæ´»"],"content":"é™„å½• åŒ—äº¬åƒå–ç¯‡ ","date":"2023-05-21","objectID":"/xingyuancanting/:5:0","tags":["å°åƒ","é¢æ¡"],"title":"æå›­é¤å…","uri":"/xingyuancanting/"},{"categories":["ç”Ÿæ´»"],"content":"è®°å½• æ—¶é—´ åœ°å€ äººæ•° æ’é˜Ÿç­‰å¾… èŠ±é”€ 2023å¹´05æœˆ19æ—¥13:30:00 åŒ—äº¬å¸‚ä¸œåŸåŒºä¸œç›´é—¨å†…å¤§è¡—233å· 3 ä¸ç”¨æ’é˜Ÿ 574 ","date":"2023-05-19","objectID":"/hudafanguan/:1:0","tags":["å°åƒ","å°é¾™è™¾"],"title":"èƒ¡å¤§é¥­é¦†","uri":"/hudafanguan/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸€å¥è¯ çœ‹ç€åˆ«äººåƒè¿˜çœŸæŒºé¦™çš„~~ ","date":"2023-05-19","objectID":"/hudafanguan/:2:0","tags":["å°åƒ","å°é¾™è™¾"],"title":"èƒ¡å¤§é¥­é¦†","uri":"/hudafanguan/"},{"categories":["ç”Ÿæ´»"],"content":"ç‚¹é¤ ","date":"2023-05-19","objectID":"/hudafanguan/:3:0","tags":["å°åƒ","å°é¾™è™¾"],"title":"èƒ¡å¤§é¥­é¦†","uri":"/hudafanguan/"},{"categories":["ç”Ÿæ´»"],"content":"çƒ­èœ é¦‹å˜´è›™ä»”ï¼šå¾ˆå«©ï¼Œè¾£å‘³åè¶³ï¼Œç‚¹äº†å¤§ä»½ï¼Œé‡è¿˜æ˜¯è›®å¤§çš„ï¼Œå”¯ä¸€ä¸è¶³çš„å°±æ˜¯å¤ªå’¸äº† é¦™è¾£ç¾å®¹è¹„ï¼šçŒªè¹„è½¯çƒ‚ï¼Œè¾£å‘³å’¸å‘³åˆšåˆšå¥½ï¼Œç‚¹çš„èœé‡Œå”¯ä¸€ä¸€é“æ²¡æœ‰é‚£ä¹ˆè¾£ è¾£ç‚’èŠ±è›¤ï¼šèŠ±è›¤å¾ˆå¹²å‡€ï¼Œæœ‰ç‚¹è¾£è¿˜æœ‰ä¸€ç‚¹ç±»ä¼¼é¦™æ²¹çš„é‚£ç§æ·¡æ·¡çš„é¦™å‘³ï¼Œè¿˜æ˜¯å¾ˆä¸é”™çš„ ","date":"2023-05-19","objectID":"/hudafanguan/:3:1","tags":["å°åƒ","å°é¾™è™¾"],"title":"èƒ¡å¤§é¥­é¦†","uri":"/hudafanguan/"},{"categories":["ç”Ÿæ´»"],"content":"çƒ§çƒ¤ çƒ¤ç¾Šè‚‰ä¸²ï¼šçƒ¤ç¾Šè‚‰ä¸²è¿˜ä¸é”™ï¼Œåæ¥åˆç‚¹äº†ä¸€ä»½ çƒ¤ç”Ÿèšï¼šè‚‰å¾ˆåšï¼Œè’œé¦™å‘³æ²¡æœ‰æµ¸å…¥åˆ°é‡Œé¢ ","date":"2023-05-19","objectID":"/hudafanguan/:3:2","tags":["å°åƒ","å°é¾™è™¾"],"title":"èƒ¡å¤§é¥­é¦†","uri":"/hudafanguan/"},{"categories":["ç”Ÿæ´»"],"content":"å°é¾™è™¾ éº»è¾£å°é¾™è™¾ï¼šéº»è¾£å‘³å¾ˆè¶³ï¼Œè‚‰æ¯”è¾ƒç´§å®ï¼Œè™¾é¢å¾€é‡Œé¢æ‹Œä¸€ä¸‹ï¼Œåƒç€è›®çˆ½çš„ ","date":"2023-05-19","objectID":"/hudafanguan/:3:3","tags":["å°åƒ","å°é¾™è™¾"],"title":"èƒ¡å¤§é¥­é¦†","uri":"/hudafanguan/"},{"categories":["ç”Ÿæ´»"],"content":"æ€»ç»“ è¿™å®¶åº—åæ°”å¾ˆå¤§ï¼Œæ¥äº†å°±æ˜¯åƒå°é¾™è™¾çš„ ","date":"2023-05-19","objectID":"/hudafanguan/:4:0","tags":["å°åƒ","å°é¾™è™¾"],"title":"èƒ¡å¤§é¥­é¦†","uri":"/hudafanguan/"},{"categories":["ç”Ÿæ´»"],"content":"é™„å½• åŒ—äº¬åƒå–ç¯‡ ","date":"2023-05-19","objectID":"/hudafanguan/:5:0","tags":["å°åƒ","å°é¾™è™¾"],"title":"èƒ¡å¤§é¥­é¦†","uri":"/hudafanguan/"},{"categories":["ç”Ÿæ´»"],"content":"è®°å½• æ—¶é—´ åœ°å€ äººæ•° æ’é˜Ÿç­‰å¾… èŠ±é”€ 2023å¹´05æœˆ14æ—¥12:30:00 æµ·æ·€åŒºæ¸…æ²³ä¸­è¡—66å·é™¢1å·æ¥¼6å±‚L650B 2 30åˆ†é’Ÿ 340 ","date":"2023-05-14","objectID":"/putiancanting/:1:0","tags":["é—½èœ"],"title":"è†ç”°é¤å…","uri":"/putiancanting/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸€å¥è¯ ä¸‹æ¬¡ä¸€ä¸ªäººè·‘å»å°å°è‚‰ç‡• ","date":"2023-05-14","objectID":"/putiancanting/:2:0","tags":["é—½èœ"],"title":"è†ç”°é¤å…","uri":"/putiancanting/"},{"categories":["ç”Ÿæ´»"],"content":"ç‚¹é¤ ","date":"2023-05-14","objectID":"/putiancanting/:3:0","tags":["é—½èœ"],"title":"è†ç”°é¤å…","uri":"/putiancanting/"},{"categories":["ç”Ÿæ´»"],"content":"å‡‰èœ åœŸç¬‹å†»ï¼šåƒèµ·æ¥å˜å±å˜å±çš„ï¼ŒQQå¼¹å¼¹çš„ï¼Œå•¥éƒ½åˆ«æƒ³æ”¾å˜´é‡Œå°±è¡Œå•¦ æ°´æ™¶çŒªè¹„å†»ï¼šæµ“ç¨ ï¼ŒçŒªè¹„å†»çš„é…±æ±æ²¡åƒè¿‡ï¼Œå¾ˆæ–°å¥‡ ","date":"2023-05-14","objectID":"/putiancanting/:3:1","tags":["é—½èœ"],"title":"è†ç”°é¤å…","uri":"/putiancanting/"},{"categories":["ç”Ÿæ´»"],"content":"çƒ­èœ é“æ¿ç›ç„—è›ï¼šè‚‰å¾ˆè‚¥ç¾ï¼Œè›å­åˆšå–å‡ºæ¥çš„æ—¶å€™è¿˜æœ‰æ±æ°´ å®¶ä¹¡ç„–ç¬‹å¹²ï¼šç¬‹å¹²å°±æ˜¯ç¬‹å¹²çš„å‘³é“ï¼Œè®©æˆ‘æƒ³èµ·äº†æˆ‘ä¸æ›¾å»è¿‡çš„é±¼ç±³æ°´ä¹¡ï¼Ÿ ä¹å±‚å¡”æµ·è›ç…²ï¼šè›å­è£¹å¾—é¢å¤ªåšäº†ï¼Œé²œå‘³è¢«æ²¹ç‚¸å’Œé¢å›¢ç›–ä½äº†ï¼Œå°ä¸å‡ºè‚‰è´¨æ„Ÿ è†ç”°è”æè‚‰ï¼šè”æå¾ˆå¥½åƒ é©¬æ¥é£å…‰ï¼šå’¸ï¼Œæ²¹å¾ˆå¤§ï¼Œèœä¸Šé¢çš„é…æ–™è¿˜æŒºé²œçš„ ","date":"2023-05-14","objectID":"/putiancanting/:3:2","tags":["é—½èœ"],"title":"è†ç”°é¤å…","uri":"/putiancanting/"},{"categories":["ç”Ÿæ´»"],"content":"ç”œå“ å»ºè²é›ªè€³æ±¤ï¼šç”œï¼Œæœ‰ç‚¹ç”œ ","date":"2023-05-14","objectID":"/putiancanting/:3:3","tags":["é—½èœ"],"title":"è†ç”°é¤å…","uri":"/putiancanting/"},{"categories":["ç”Ÿæ´»"],"content":"æ€»ç»“ ä½œä¸ºä¸€ä¸ªåŒ—æ–¹äººï¼Œå¯¹ç¦å»ºèœæœ‰ä¸€ç§å¥½å¥‡ï¼Œåƒåˆ°çš„ä¸œè¥¿éƒ½ä¼šè§‰å¾—å¾ˆæ–°å¥‡ï¼Œæœ‰æ„æ€ï¼Œå¯ä»¥å†å»å°å°åˆ«çš„èœ ","date":"2023-05-14","objectID":"/putiancanting/:4:0","tags":["é—½èœ"],"title":"è†ç”°é¤å…","uri":"/putiancanting/"},{"categories":["ç”Ÿæ´»"],"content":"é™„å½• åŒ—äº¬åƒå–ç¯‡ ","date":"2023-05-14","objectID":"/putiancanting/:5:0","tags":["é—½èœ"],"title":"è†ç”°é¤å…","uri":"/putiancanting/"},{"categories":["Code"],"content":"ç®€ä»‹ Apache Calciteæ˜¯ä¸€ä¸ªåŠ¨æ€æ•°æ®ç®¡ç†æ¡†æ¶ã€‚ å®ƒåŒ…å«æ„æˆå…¸å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è®¸å¤šéƒ¨åˆ†ï¼Œä½†çœç•¥äº†ä¸€äº›å…³é”®åŠŸèƒ½:æ•°æ®å­˜å‚¨ã€å¤„ç†æ•°æ®çš„ç®—æ³•å’Œå­˜å‚¨å…ƒæ•°æ®çš„å­˜å‚¨åº“ã€‚ æˆ‘ä»¬ä¸»è¦ç”¨ Calcite æ¥è§£æSQLã€‚å¾ˆå¤šé¡¹ç›®ä¹Ÿæ˜¯ç›´æ¥ä½¿ç”¨äº†Calciteæ¥è§£æSQLï¼Œä¼˜åŒ–SQLç­‰ï¼Œæ¯”å¦‚ FlinkSQL calicteçš„åŸºæœ¬æ¶æ„å¦‚ä¸‹ ","date":"2023-05-11","objectID":"/calcite-prefix/:1:0","tags":["calcite","sql"],"title":"Calcite ç®€ä»‹","uri":"/calcite-prefix/"},{"categories":["Code"],"content":"å…³ç³»ä»£æ•° å…³ç³»æ¨¡å‹æºäºæ•°å­¦ã€‚å…³ç³»æ˜¯ç”±å…ƒç»„æ„æˆçš„é›†åˆï¼Œå¯ä»¥é€šè¿‡å…³ç³»çš„è¿ç®—æ¥è¡¨è¾¾æŸ¥è¯¢è¦æ±‚ï¼Œè€Œå…³ç³»ä»£æ•°æ°æ°æ˜¯å…³ç³»æ“ä½œè¯­è¨€çš„ä¸€ç§ä¼ ç»Ÿçš„è¡¨ç¤ºæ–¹å¼ï¼Œå®ƒæ˜¯ä¸€ç§æŠ½è±¡çš„æŸ¥è¯¢è¯­è¨€ã€‚ å…³ç³»ä»£æ•°çš„è¿ç®—å¯¹è±¡æ˜¯å…³ç³»ï¼Œè¿ç®—ç»“æœä¹Ÿæ˜¯å…³ç³»ã€‚ä¸ä¸€èˆ¬çš„è¿ç®—ä¸€æ ·ï¼Œè¿ç®—å¯¹è±¡ã€è¿ç®—ç¬¦å’Œè¿ç®—ç»“æœæ˜¯å…³ç³»ä»£æ•°çš„ä¸‰å¤§è¦ç´ ã€‚ å…³ç³»ä»£æ•°çš„è¿ç®—å¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼š ä¼ ç»Ÿçš„é›†åˆè¿ç®—ã€‚è¿™ç±»è¿ç®—å®Œå…¨æŠŠå…³ç³»çœ‹æˆå…ƒç»„çš„é›†åˆã€‚ä¼ ç»Ÿçš„é›†åˆè¿ç®—åŒ…æ‹¬é›†åˆçš„å¹¿ä¹‰ç¬›å¡å„¿ç§¯è¿ç®—ã€å¹¶è¿ç®—ã€äº¤è¿ç®—å’Œå·®è¿ç®—ã€‚ ä¸“é—¨çš„å…³ç³»è¿ç®—ã€‚è¿™ç±»è¿ç®—é™¤äº†æŠŠå…³ç³»çœ‹æˆå…ƒç»„çš„é›†åˆå¤–ï¼Œè¿˜é€šè¿‡è¿ç®—è¡¨è¾¾äº†æŸ¥è¯¢çš„è¦æ±‚ã€‚ä¸“é—¨çš„å…³ç³»è¿ç®—åŒ…æ‹¬é€‰æ‹©ã€æŠ•å½±ã€è¿æ¥å’Œé™¤è¿ç®—ã€‚ å…³ç³»ä»£æ•°ä¸­çš„è¿ç®—ç¬¦å¯ä»¥åˆ†ä¸ºå››ç±»ï¼šä¼ ç»Ÿçš„é›†åˆè¿ç®—ç¬¦ã€ä¸“é—¨çš„å…³ç³»è¿ç®—ç¬¦ã€æ¯”è¾ƒè¿ç®—ç¬¦å’Œé€»è¾‘è¿ç®—ç¬¦ã€‚ å…³ç³»è¿ç®— å’Œ SQLçš„å…³ç³»å¦‚ä¸‹ è¿ç®—ç¬¦ SQLå…³é”®å­— å«ä¹‰ åˆ†ç±» $$\\cap$$ äº¤ é›†åˆè¿ç®— $$\\cup$$ å¹¶ é›†åˆè¿ç®— $$-$$ å·® é›†åˆè¿ç®— $$\\times$$ from A,B å¹¿ä¹‰ç¬›å¡å°”ç§¯ é›†åˆè¿ç®— $$\\sigma$$ where é€‰æ‹© å…³ç³»è¿ç®— $$\\Pi$$ select distinct æŠ•å½± å…³ç³»è¿ç®— $$\\bowtie$$ join è¿æ¥ å…³ç³»è¿ç®— $$\\div$$ é™¤ å…³ç³»è¿ç®— $$\u003e$$ å¤§äº æ¯”è¾ƒè¿ç®— $$\u003c$$ å°äº æ¯”è¾ƒè¿ç®— $$=$$ ç­‰äº æ¯”è¾ƒè¿ç®— $$\\neq$$ ä¸ç­‰ æ¯”è¾ƒè¿ç®— $$\\leqslant$$ å°äºç­‰äº æ¯”è¾ƒè¿ç®— $$\\geqslant$$ å¤§äºç­‰äº æ¯”è¾ƒè¿ç®— $$\\neg$$ é é€»è¾‘è¿ç®— $$\\land$$ ä¸ é€»è¾‘è¿ç®— $$\\lor$$ æˆ– é€»è¾‘è¿ç®— SQLè¯­å¥ä¼šå…ˆç¿»è¯‘æˆä¸ºå…³ç³»ä»£æ•°åå†è¢«æ‰§è¡Œçš„ åœ¨æ‰§è¡Œexplain ä¸€æ¡SQLçš„æ—¶å€™ å°±å¯ä»¥çœ‹åˆ°ç¿»è¯‘åå…³ç³»ä»£æ•°çš„å‘½å == Abstract Syntax Tree == LogicalProject(user=[$0], product=[$1], amount=[$2]) +- LogicalFilter(condition=[\u003e($2, 2)]) +- LogicalTableScan(table=[[*anonymous_datastream_source$1*]]) ","date":"2023-05-11","objectID":"/calcite-prefix/:2:0","tags":["calcite","sql"],"title":"Calcite ç®€ä»‹","uri":"/calcite-prefix/"},{"categories":["Code"],"content":"Calcite è§£ææµç¨‹ Parser å°†SQLè¯­å¥(å­—ç¬¦ä¸²) è§£ææˆ AST(æŠ½è±¡è¯­æ³•æ ‘) è¯­æ³•æ ‘çš„èŠ‚ç‚¹åœ¨ä»£ç ä¸­ä¸ºSqlNode Validate æ ¡éªŒSqlNodeèŠ‚ç‚¹ï¼Œæ›¿æ¢èŠ‚ç‚¹ä¸­çš„éƒ¨åˆ†å±æ€§ï¼Œè®¾ç½®å•è°ƒæ€§ç­‰ä¿¡æ¯ Convert å°†SqlNode æŠ½è±¡è¯­æ³•æ ‘ è½¬æ¢æˆRelNodeï¼Œæ‰§è¡Œé€»è¾‘æ‰§è¡Œè®¡åˆ’ Optimize æˆæœ¬ä¼˜åŒ– Execute ç”ŸæˆåŠ¨æ€ä»£ç ï¼Œå¹¶æ‰§è¡Œç‰©ç†æ‰§è¡Œè®¡åˆ’ å…¶ä¸­ï¼Œ SqlNode æ˜¯è¯­æ³•æ ‘ä¸Šçš„èŠ‚ç‚¹ï¼Œå…¶æœ¬è´¨æ˜¯æŠŠSQLè¯­å¥è¿›è¡Œæ‹†è§£ RelNode æ˜¯å…³ç³»èŠ‚ç‚¹ï¼Œä»£è¡¨çš„äº‹å…³ç³»ä»£æ•°ä¸­çš„å…³ç³»æ“ä½œï¼ŒRelNode æ›´å€¾å‘æ•°å­¦çš„æ¦‚å¿µï¼Œå°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥çš„ä¼˜åŒ–äº† RexNode è™½ç„¶RexNodeä¹Ÿå±äºå…³ç³»èŠ‚ç‚¹ï¼Œä½†æ˜¯è¿™é‡Œçš„RexNodeæ›´åå‘äºå»è¡¨ç¤ºè¡¨è¾¾å¼ï¼Œæ¯”å¦‚ä¸€ä¸ªå¸¸æ•°ï¼Œæˆ–è€…æ˜¯ ç®€å•çš„a+bçš„è¿ç®—ï¼Œäº¦æˆ–æ˜¯count(*) è¿™æ ·çš„èšåˆï¼›æ‰€ä»¥ä¸€ä¸ªRelNodeä¸­ä¼šæœ‰å¾ˆå¤šRexNodeèŠ‚ç‚¹ ","date":"2023-05-11","objectID":"/calcite-prefix/:3:0","tags":["calcite","sql"],"title":"Calcite ç®€ä»‹","uri":"/calcite-prefix/"},{"categories":["Code"],"content":"SqlNode SqlNode æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ²¡æœ‰è¿‡å¤šçš„ä¿¡æ¯ï¼Œå°±åŒ…æ‹¬ä¸€ä¸ªä½ç½®ä¿¡æ¯çš„å¯¹è±¡SqlParserPos SqlParserPos æ˜¯ç”¨æ¥è¡¨ç¤ºSQLè¯­å¥ä¸­çš„ä½ç½®ä¿¡æ¯çš„ç±»ã€‚å®ƒåŒ…å«äº†è¡Œå·ã€åˆ—å·å’Œå­—ç¬¦åç§»é‡ç­‰ä¿¡æ¯ï¼Œå¯ä»¥ç”¨äºå®šä½SQLè¯­å¥ä¸­çš„é”™è¯¯æˆ–è€…ç”Ÿæˆæ›´åŠ è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ public abstract class SqlNode implements Cloneable { //~ Static fields/initializers --------------------------------------------- public static final @Nullable SqlNode[] EMPTY_ARRAY = new SqlNode[0]; //~ Instance fields -------------------------------------------------------- protected final SqlParserPos pos; } public class SqlParserPos implements Serializable { //~ Static fields/initializers --------------------------------------------- /** * SqlParserPos representing line one, character one. Use this if the node * doesn't correspond to a position in piece of SQL text. */ public static final SqlParserPos ZERO = new SqlParserPos(0, 0); /** Same as {@link #ZERO} but always quoted. **/ public static final SqlParserPos QUOTED_ZERO = new QuotedParserPos(0, 0, 0, 0); private static final long serialVersionUID = 1L; //~ Instance fields -------------------------------------------------------- private final int lineNumber; private final int columnNumber; private final int endLineNumber; private final int endColumnNumber; } ä»SqlSelectçš„è¿™ä¸ªç±»ä¸­å°±å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªç®€å•çš„SQLè¯­å¥åœ¨SqlSelectä¸­éƒ½èƒ½æ‰¾åˆ° public class SqlSelect extends SqlCall { //~ Static fields/initializers --------------------------------------------- // constants representing operand positions public static final int FROM_OPERAND = 2; public static final int WHERE_OPERAND = 3; public static final int HAVING_OPERAND = 5; SqlNodeList keywordList; SqlNodeList selectList; @Nullable SqlNode from; @Nullable SqlNode where; @Nullable SqlNodeList groupBy; @Nullable SqlNode having; SqlNodeList windowDecls; @Nullable SqlNodeList orderBy; @Nullable SqlNode offset; @Nullable SqlNode fetch; @Nullable SqlNodeList hints; } è¿™é‡Œçš„keywordListæ˜¯ä¿ç•™å­—ï¼Œå¦‚æœæœ‰ distinct è¿™ç§å°±ä¼šæ”¾åœ¨è¿™ä¸ªkeywordListä¸­ ä¸è¿‡ä»debugçš„è¿‡ç¨‹æ¥çœ‹ è¿™ä¸ªkeywordListæ˜¯ä¸ªç©ºçš„æ•°æ® ","date":"2023-05-11","objectID":"/calcite-prefix/:3:1","tags":["calcite","sql"],"title":"Calcite ç®€ä»‹","uri":"/calcite-prefix/"},{"categories":["Code"],"content":"RelNode RelNode æ˜¯ä¸ªæ¥å£ ç»§æ‰¿äº† RelOptNode RelOptNode ç›®å‰æ²¡æœ‰çœ‹åˆ°é™¤äº†RelNodeä»¥å¤–æœ‰å…¶ä»–åœ°æ–¹ä½¿ç”¨å’Œå®ç° RelNode æ¥å£å®šä¹‰äº†æ ‘ç»“æ„çš„çˆ¶ç±»ä»¥åŠèŠ‚ç‚¹æ•°æ®å’Œç±»å‹çš„æ–¹æ³• çœŸæ­£å¤„ç†çš„æ–¹æ³•éƒ½æ”¾åœ¨äº† RelShuttle å’Œ RexShuttleä¸­ public interface RelNode extends RelOptNode, Cloneable { /** * Accepts a visit from a shuttle. * * @param shuttle Shuttle * @return A copy of this node incorporating changes made by the shuttle to * this node's children */ RelNode accept(RelShuttle shuttle); /** * Accepts a visit from a shuttle. If the shuttle updates expression, then * a copy of the relation should be created. This new relation might have * a different row-type. * * @param shuttle Shuttle * @return A copy of this node incorporating changes made by the shuttle to * this node's children */ RelNode accept(RexShuttle shuttle); } å¯ä»¥å…·ä½“ä¸€ç‚¹ï¼Œçœ‹ä¸€ä¸‹æ¯”è¾ƒå¸¸ç”¨çš„RelNode çš„å®ç°æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼šLogicalProject /** * Sub-class of Project not targeted at any particular engine or calling convention. */ public final class LogicalProject extends Project { //~ Constructors ----------------------------------------------------------- /** * Creates a LogicalProject. * * \u003cp\u003eUse {@link #create} unless you know what you're doing. * * @param cluster Cluster this relational expression belongs to * @param traitSet Traits of this relational expression * @param hints Hints of this relational expression * @param input Input relational expression * @param projects List of expressions for the input columns * @param rowType Output row type */ public LogicalProject( RelOptCluster cluster, RelTraitSet traitSet, List\u003cRelHint\u003e hints, RelNode input, List\u003c? extends RexNode\u003e projects, RelDataType rowType) { super(cluster, traitSet, hints, input, projects, rowType); assert traitSet.containsIfApplicable(Convention.NONE); } /** * Creates a LogicalProject by parsing serialized output. */ public LogicalProject(RelInput input) { super(input); } //~ Methods ---------------------------------------------------------------- /** Creates a LogicalProject. */ public static LogicalProject create(final RelNode input, List\u003cRelHint\u003e hints, final List\u003c? extends RexNode\u003e projects, @Nullable List\u003c? extends @Nullable String\u003e fieldNames) { final RelOptCluster cluster = input.getCluster(); final RelDataType rowType = RexUtil.createStructType(cluster.getTypeFactory(), projects, fieldNames, SqlValidatorUtil.F_SUGGESTER); return create(input, hints, projects, rowType); } /** Creates a LogicalProject, specifying row type rather than field names. */ public static LogicalProject create(final RelNode input, List\u003cRelHint\u003e hints, final List\u003c? extends RexNode\u003e projects, RelDataType rowType) { final RelOptCluster cluster = input.getCluster(); final RelMetadataQuery mq = cluster.getMetadataQuery(); final RelTraitSet traitSet = cluster.traitSet().replace(Convention.NONE) .replaceIfs(RelCollationTraitDef.INSTANCE, () -\u003e RelMdCollation.project(mq, input, projects)); return new LogicalProject(cluster, traitSet, hints, input, projects, rowType); } } LocalProject çš„å˜é‡å®šä¹‰éƒ½æ•£è½åœ¨ä»–çš„çˆ¶ç±»ä¸­ /** * Relational expression that computes a set of 'select expressions' from its input relational expression. * See Also: * org.apache.calcite.rel.logical.LogicalProject */ public abstract class Project extends SingleRel implements Hintable { //~ Instance fields -------------------------------------------------------- protected final ImmutableList\u003cRexNode\u003e exps; protected final ImmutableList\u003cRelHint\u003e hints; } /** * Abstract base class for relational expressions with a single input. * * \u003cp\u003eIt is not required that single-input relational expressions use this * class as a base class. However, default implementations of methods make life * easier. */ public abstract class SingleRel extends AbstractRelNode { //~ Instance fields -------------------------------------------------------- protected RelNode input; } ","date":"2023-05-11","objectID":"/calcite-prefix/:3:2","tags":["calcite","sql"],"title":"Calcite ç®€ä»‹","uri":"/calcite-prefix/"},{"categories":["Code"],"content":"RexNode RexNode æ˜¯ è¡Œè¡¨è¾¾å¼(Row Expression) æ˜¯é€šè¿‡SqlNode è½¬æ¢è¿‡æ¥ å°¤å…¶æ˜¯ select çš„é¡¹ where çš„æ¡ä»¶ ç­‰ç­‰ ä¸SqlNodeä¸åŒçš„æ˜¯,RexNodeçš„ç±»å‹éƒ½æ˜¯ç¡®å®šçš„ï¼ŒSqlNodeçš„ç±»å‹æ˜¯åœ¨ä¼˜åŒ–å‰å°±å·²ç»å®šå¥½äº†ï¼Œæ‰€ä»¥è¿™ä¸ªç±»å‹å¯èƒ½ä¸èƒ½ç”¨ RexNode æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¹Ÿæ˜¯å®ç°äº†è®¿é—®è€…æ¨¡å¼ /** * Row expression. * * \u003cp\u003eEvery row-expression has a type. * (Compare with {@link org.apache.calcite.sql.SqlNode}, which is created before * validation, and therefore types may not be available.) * * \u003cp\u003eSome common row-expressions are: {@link RexLiteral} (constant value), * {@link RexVariable} (variable), {@link RexCall} (call to operator with * operands). Expressions are generally created using a {@link RexBuilder} * factory.\u003c/p\u003e * * \u003cp\u003eAll sub-classes of RexNode are immutable.\u003c/p\u003e */ public abstract class RexNode { //~ Instance fields -------------------------------------------------------- // Effectively final. Set in each sub-class constructor, and never re-set. protected @MonotonicNonNull String digest; //~ Methods ---------------------------------------------------------------- public abstract RelDataType getType(); /** * Returns whether this expression always returns true. (Such as if this * expression is equal to the literal \u003ccode\u003eTRUE\u003c/code\u003e.) */ public boolean isAlwaysTrue() { return false; } /** * Returns whether this expression always returns false. (Such as if this * expression is equal to the literal \u003ccode\u003eFALSE\u003c/code\u003e.) */ public boolean isAlwaysFalse() { return false; } public boolean isA(SqlKind kind) { return getKind() == kind; } public boolean isA(Collection\u003cSqlKind\u003e kinds) { return getKind().belongsTo(kinds); } /** * Returns the kind of node this is. * * @return Node kind, never null */ public SqlKind getKind() { return SqlKind.OTHER; } @Override public String toString() { return requireNonNull(digest, \"digest\"); } /** Returns the number of nodes in this expression. * * \u003cp\u003eLeaf nodes, such as {@link RexInputRef} or {@link RexLiteral}, have * a count of 1. Calls have a count of 1 plus the sum of their operands. * * \u003cp\u003eNode count is a measure of expression complexity that is used by some * planner rules to prevent deeply nested expressions. */ public int nodeCount() { return 1; } /** * Accepts a visitor, dispatching to the right overloaded * {@link RexVisitor#visitInputRef visitXxx} method. * * \u003cp\u003eAlso see {@link RexUtil#apply(RexVisitor, java.util.List, RexNode)}, * which applies a visitor to several expressions simultaneously. */ public abstract \u003cR\u003e R accept(RexVisitor\u003cR\u003e visitor); /** * Accepts a visitor with a payload, dispatching to the right overloaded * {@link RexBiVisitor#visitInputRef(RexInputRef, Object)} visitXxx} method. */ public abstract \u003cR, P\u003e R accept(RexBiVisitor\u003cR, P\u003e visitor, P arg); /** {@inheritDoc} * * \u003cp\u003eEvery node must implement {@link #equals} based on its content */ @Override public abstract boolean equals(@Nullable Object obj); /** {@inheritDoc} * * \u003cp\u003eEvery node must implement {@link #hashCode} consistent with * {@link #equals} */ @Override public abstract int hashCode(); } è¿˜æ˜¯å…·ä½“ä¸€ç‚¹çœ‹ä¸€ä¸‹ RexCallçš„å®šä¹‰ RexCallæ˜¯æœ‰æ“ä½œç¬¦çš„è¡¨è¾¾å¼ï¼Œæ“ä½œç¬¦å¯ä»¥æ˜¯ ä¸€å…ƒäºŒå…ƒï¼Œä¹Ÿå¯æ˜¯å‡½æ•°ï¼Œæˆ–è€…æ˜¯å›ºå®šè¯­æ³• /** * An expression formed by a call to an operator with zero or more expressions * as operands. * * \u003cp\u003eOperators may be binary, unary, functions, special syntactic constructs * like \u003ccode\u003eCASE ... WHEN ... END\u003c/code\u003e, or even internally generated * constructs like implicit type conversions. The syntax of the operator is * really irrelevant, because row-expressions (unlike * {@link org.apache.calcite.sql.SqlNode SQL expressions}) * do not directly represent a piece of source code. * * \u003cp\u003eIt's not often necessary to sub-class this class. The smarts should be in * the operator, rather than the call. Any extra information about the call can * often be encoded as extra arguments. (These don't need to be hidden, because * no one is going to be generating source code from this tree.)\u003c/p\u003e */ public class RexCall extends RexNode { //~ Instance fields -------------------------------------------------------- public final SqlOperator op; public final ImmutableList\u003cRexNode\u003e operands; public","date":"2023-05-11","objectID":"/calcite-prefix/:3:3","tags":["calcite","sql"],"title":"Calcite ç®€ä»‹","uri":"/calcite-prefix/"},{"categories":["Code"],"content":"æ¡ˆä¾‹ é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­ -- table(user,product,amount) select * from tableA where amount \u003e 2 è¯¥Sqlè¯­å¥ç»è¿‡åç”Ÿæˆ LogicalProject(user=[$0], product=[$1], amount=[$2]) +- LogicalFilter(condition=[\u003e($2, 2)]) +- LogicalTableScan(table=[[default_catalog, default_database, tableA]]) å°±å¯ä»¥çœ‹å‡ºï¼š select * å¯¹åº”çš„æ˜¯ LocalProject where amount \u003e 2 å¯¹åº”çš„æ˜¯ LogicalFilter from tableA å¯¹åº”çš„æ˜¯ LogicalTableScan LogicalProject æœ‰ä»¥ä¸‹å˜é‡ å˜é‡ ç±»å‹ è¯´æ˜ æ¡ˆä¾‹ä¸­çš„å–å€¼ exprs ImmutableList\u003cRexNode\u003e è¡¨è¾¾å¼ï¼Œä¸€èˆ¬å°±æ˜¯select åé¢è·Ÿçš„è¡¨è¾¾å¼ï¼Œè¿™é‡Œçš„è¡¨è¾¾å¼å·²ç»è½¬æ¢è¿‡äº†ï¼Œç»™ä¸åŒçš„è¡¨è¾¾å¼è¿›è¡Œäº†å‘½å,user=[$0], product=[$1], amount=[$2] è¿™é‡Œéƒ½æ˜¯RexInputRef [$0, $1, $2] hints ImmutableList\u003cRelHint\u003e è¿™é‡Œæ˜¯hint çš„è¡¨è¾¾å¼ï¼Œæ˜¯åµŒåœ¨ä»£ç é‡Œçš„ä¸€ä¸²å¢å¼ºè¯´æ˜ [] input LogicalFilter å…³è”å…¶ä»–RelNodeï¼Œæ˜¯è¯¥å¯¹è±¡çš„è¾“å…¥èŠ‚ç‚¹ LogicalFilter(condition=[\u003e($2, 2)]) rowType RelRecordType æ•°æ®ç±»å‹ RecordType(BIGINT user, VARCHAR(2147483647) product, INTEGER amount) digest AbstractRelNode.InnerRelDigest å…³ç³»ä¿¡æ¯çš„æ‘˜è¦ï¼Œæ ¹æ®æ­¤åˆ¤æ–­ä¸¤ä¸ªå…³ç³»æ˜¯å¦ç›¸åŒ - cluster RelOptCluster é»˜è®¤çš„Clusterï¼Œæä¾›å…ƒæ•°æ®ï¼Œç»Ÿè®¡ä¿¡æ¯ï¼Œç®¡ç†æŸ¥è¯¢è®¡åˆ’çš„å„ç§å…³ç³»è¿ç®—ç¬¦ï¼Œæä¾›ä¼˜åŒ–æŸ¥è¯¢è®¡åˆ’çš„æ–¹æ³•ç­‰ - id int - - traitSet List\u003cRelTraitSet\u003e å…³ç³»çš„ä¸€äº›ç‰¹å¾ã€ç‰¹è´¨ï¼Œæ¯”å¦‚å¤„ç†å¼•æ“çš„è§„èŒƒï¼ŒFlinkåˆ†å¸ƒï¼Œmini-batchï¼Œä¸‹ModifyKindï¼Œ UpdateKind è¿™äº› [Convention, FlinkRelDistribution, MiniBatchIntervalTrait, ModifyKindSetTrait, UpdateKindTrait] å¯ä»¥çœ‹å‡ºRelNode å…¶å®æ›´åƒæ˜¯ä¸€ä¸ªå…³ç³»ä»£æ•°ï¼Œè¿™ä¸ªå…³ç³»ä»£æ•°ä¹Ÿæ˜¯æœ‰æ ‘å‹å…³ç³»åœ¨é‡Œé¢çš„ ","date":"2023-05-11","objectID":"/calcite-prefix/:3:4","tags":["calcite","sql"],"title":"Calcite ç®€ä»‹","uri":"/calcite-prefix/"},{"categories":["Code"],"content":"sqlQuery sql è¿›å…¥sqlQueryåï¼Œé¦–å…ˆå°±æ˜¯è·å–Parser è§£æsqlè¯­å¥ // TableEnvironmentImpl.java @Override public Table sqlQuery(String query) { List\u003cOperation\u003e operations = getParser().parse(query); if (operations.size() != 1) { throw new ValidationException( \"Unsupported SQL query! sqlQuery() only accepts a single SQL query.\"); } Operation operation = operations.get(0); if (operation instanceof QueryOperation \u0026\u0026 !(operation instanceof ModifyOperation)) { return createTable((QueryOperation) operation); } else { throw new ValidationException( \"Unsupported SQL query! sqlQuery() only accepts a single SQL query of type \" + \"SELECT, UNION, INTERSECT, EXCEPT, VALUES, and ORDER_BY.\"); } } è¿™é‡Œä¼šè·å–StreamPlannerçš„Parser @Override public Parser getParser() { return getPlanner().getParser(); } @VisibleForTesting public Planner getPlanner() { return planner; } StreamTableEnvironment åœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­ä¼šåˆ›å»º Planner final Planner planner = PlannerFactoryUtil.createPlanner( executor, tableConfig, userClassLoader, moduleManager, catalogManager, functionCatalog); å…¶ä¸­ï¼Œ executor ç”¨äºæ‰§è¡ŒPlannerçš„å¯¹è±¡ tableConfig tableå’ŒSQLçš„é…ç½®é¡¹ï¼Œæ¯”å¦‚ checkpointï¼Œwatermarkç­‰ userClassLoader ç”¨æˆ·åŠ¨æ€ç±»åŠ è½½å™¨ é»˜è®¤çš„ä½¿ç”¨org.apache.flink.util.FlinkUserCodeClassLoadersæ¥åˆ›å»ºçš„ moduleManager æ¨¡å—ç®¡ç†å™¨ï¼Œä¼šå°†CoreModuleçš„æ¨¡å—åŠ å…¥åˆ°ç®¡ç†å™¨ä¸­ module å°±æ˜¯ å®šä¹‰çš„ä¸€ç³»åˆ—å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬å‡½æ•°ã€è§„åˆ™ã€æ“ä½œç¬¦ç­‰ Modules define a set of metadata, including functions, user defined types, operators, rules, etc. Metadata from modules are regarded as built-in or system metadata that users can take advantages of. catalogManager ç”¨äºå¤„ç† catalogï¼Œå°è£…catalogå’Œä¸€äº›ä¸´æ—¶è¡¨å¯¹è±¡ catalog æä¾›äº†å…ƒæ•°æ®ä¿¡æ¯ï¼Œç”¨æ¥ç®¡ç†å…ƒæ•°æ®ä¿¡æ¯(å¦‚tableã€viewã€function å’Œ typeç­‰)ï¼Œæä¾›äº†ä¸€å¥—apiï¼Œå¯ä»¥ä½¿ç”¨Table APIå’ŒSQLæ¥è®¿é—® This interface is responsible for reading and writing metadata such as database/table/views/UDFs from a registered catalog. It connects a registered catalog and Flinkâ€™s Table API. This interface only processes permanent metadata objects. In order to process temporary objects, a catalog can also implement the TemporaryOperationListener interface. functionCatalog å‡½æ•°catalogï¼Œä¿å­˜å‡½æ•°çš„å®šä¹‰ æ³¨å†Œçš„å‡½æ•°å°±ä¼šæ”¾åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼ŒåƒUDF ç­‰æ³¨å†Œçš„catalogä¹Ÿä¼šæ”¾åœ¨è¿™é‡Œ FLIP-65 Simple function catalog to store FunctionDefinitions in catalogs. Note: This class can be cleaned up a lot once we drop the methods deprecated as part of FLIP-65. In the long-term, the class should be a part of catalog manager similar to DataTypeFactory. PlannerFactoryUtil.createPlanner æ–¹æ³•ä¼šå…ˆæ‰¾åˆ° PlannerFactoryï¼ˆé»˜è®¤æ˜¯ DefaultPlannerFactoryï¼‰ç„¶åæ ¹æ® TableConfig ä¸­çš„execution.runtime-mode ç¡®è®¤å¯åŠ¨çš„ä»»åŠ¡æ˜¯æµä»»åŠ¡è¿˜æ˜¯æ‰¹ä»»åŠ¡ï¼Œè¿›è€Œåˆ›å»ºPlanner(SteamPlanner) @Override public Planner create(Context context) { final RuntimeExecutionMode runtimeExecutionMode = context.getTableConfig().get(ExecutionOptions.RUNTIME_MODE); switch (runtimeExecutionMode) { case STREAMING: return new StreamPlanner( context.getExecutor(), context.getTableConfig(), context.getModuleManager(), context.getFunctionCatalog(), context.getCatalogManager(), context.getClassLoader()); case BATCH: return new BatchPlanner( context.getExecutor(), context.getTableConfig(), context.getModuleManager(), context.getFunctionCatalog(), context.getCatalogManager(), context.getClassLoader()); default: throw new TableException( String.format( \"Unsupported mode '%s' for '%s'. Only an explicit BATCH or \" + \"STREAMING mode is supported in Table API.\", runtimeExecutionMode, RUNTIME_MODE.key())); } } Plannerçš„Parser, å°±æ˜¯ç”¨æ¥è§£æSQLè¯­å¥çš„, Parser ç›®å‰åˆ†ä¸ºä¸¤ç§SQLæ–¹è¨€ flink é»˜è®¤çš„SQL å’Œ Hive @PublicEvolving public enum SqlDialect { /** Flink's default SQL behavior. */ DEFAULT, /** * SQL dialect that allows some Apache Hive specific grammar. * * \u003cp\u003eNote: We might never support all of the Hive grammar. See the documentation for supported * features. */ HIVE } é»˜è®¤æƒ…å†µä¸‹ æˆ‘ä»¬åˆ›å»ºå‡ºæ¥çš„çš„Parser(ParserImpl) æ˜¯ä½¿ç”¨Calciteè¿›è¡Œè§£æçš„ /** * è¿™é‡Œçš„ context å°±æ˜¯æ ¹æ®planner çš„ä¿¡æ¯åˆ›å»ºçš„ * parser = parserFactory.create(new DefaultCalciteContext(catalogManager, plannerContext)) * */ @Override public Parser create(Context context) { DefaultCalciteContext defaultCalciteContext = (DefaultCalciteContext) context; return new ParserImpl( defaultCalciteContext.getCatalogManager(), defaultCalciteContext.getPlannerCon","date":"2023-05-04","objectID":"/flink-sql-query/:1:0","tags":["flink","sql"],"title":"FlinkSQL - SQLè§£æè¿‡ç¨‹","uri":"/flink-sql-query/"},{"categories":["Code"],"content":"ParserImpl é»˜è®¤çš„ParserImplçš„ç±»å®šä¹‰ public ParserImpl( CatalogManager catalogManager, Supplier\u003cFlinkPlannerImpl\u003e validatorSupplier, Supplier\u003cCalciteParser\u003e calciteParserSupplier, RexFactory rexFactory) { this.catalogManager = catalogManager; this.validatorSupplier = validatorSupplier; this.calciteParserSupplier = calciteParserSupplier; this.rexFactory = rexFactory; } parse çš„è¿‡ç¨‹å°±æ˜¯è°ƒç”¨ CalciteParser å°† Sql è¯­å¥è½¬æ¢æˆSqlNodeçš„è¿‡ç¨‹ï¼ŒCalciteä¼šè°ƒç”¨JavaCCæ¥è§£æSQLè¯­å¥ ç„¶åç»è¿‡è½¬æ¢ æŠŠ sqlNodeè½¬æ¢æˆOperation åœ¨è¿™é‡Œå¦‚æœæœ‰ä¸€äº›ç‰¹æ®Šçš„SQLè§£æ ä¼šæ”¾åˆ°EXTENDED_PARSER é‡Œé¢è¿›è¡Œè§£æ @Override public List\u003cOperation\u003e parse(String statement) { CalciteParser parser = calciteParserSupplier.get(); FlinkPlannerImpl planner = validatorSupplier.get(); Optional\u003cOperation\u003e command = EXTENDED_PARSER.parse(statement); if (command.isPresent()) { return Collections.singletonList(command.get()); } // parse the sql query // use parseSqlList here because we need to support statement end with ';' in sql client. SqlNodeList sqlNodeList = parser.parseSqlList(statement); List\u003cSqlNode\u003e parsed = sqlNodeList.getList(); Preconditions.checkArgument(parsed.size() == 1, \"only single statement supported\"); return Collections.singletonList( SqlNodeToOperationConversion.convert(planner, catalogManager, parsed.get(0)) .orElseThrow(() -\u003e new TableException(\"Unsupported query: \" + statement))); } ä¾‹å¦‚ï¼Œ SQLè¯­å¥ select * from tableA where amount \u003e 2 ç»è¿‡ CalciteParser å°±ä¼š ç”Ÿæˆä¸€ä¸ª SqlNode æœ€åç»è¿‡SqlNodeToOperationConversion.convert ä¼šè½¬æ¢æˆ åŒ…å«é€»è¾‘è®¡åˆ’çš„operation ç›®å‰æµç¨‹ä¸º ","date":"2023-05-04","objectID":"/flink-sql-query/:2:0","tags":["flink","sql"],"title":"FlinkSQL - SQLè§£æè¿‡ç¨‹","uri":"/flink-sql-query/"},{"categories":["Code"],"content":"flink å‚æ•° å‚æ•° è¯´æ˜ flink ç‰ˆæœ¬ 1.17 java ç‰ˆæœ¬ 1.8 ","date":"2023-04-30","objectID":"/flink-prefix/:1:0","tags":["flink","sql"],"title":"FlinkSQL - å¼€å§‹","uri":"/flink-prefix/"},{"categories":["Code"],"content":"æµ‹è¯•SQL select * from tableA where amount \u003e 2 ","date":"2023-04-30","objectID":"/flink-prefix/:2:0","tags":["flink","sql"],"title":"FlinkSQL - å¼€å§‹","uri":"/flink-prefix/"},{"categories":["Code"],"content":"è¿è¡Œç¯å¢ƒ final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment(); final StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env); final DataStream\u003cOrder\u003e orderA = env.fromCollection( Arrays.asList( new Order(1L, \"beer\", 3), new Order(1L, \"diaper\", 4), new Order(3L, \"rubber\", 2))); final Table tableA = tableEnv.fromDataStream(orderA); final Table result = tableEnv.sqlQuery( \"select * from \" + tableA + \" where amount \u003e 2\" ); tableEnv.toDataStream(result, Row.class).print(); env.execute(); è¿è¡Œç»“æœä¸º (true,+I[1, beer, 3, 2, pen, 3]) (true,+I[1, beer, 3, 2, rubber, 3]) ","date":"2023-04-30","objectID":"/flink-prefix/:3:0","tags":["flink","sql"],"title":"FlinkSQL - å¼€å§‹","uri":"/flink-prefix/"},{"categories":["Code"],"content":"SQLæµç¨‹ ä¸€æ¡SQLè¯­å¥ é€šè¿‡Calcite è½¬æ¢æˆ ç‰©ç†è®¡åˆ’ï¼Œç‰©ç†è®¡åˆ’é€šè¿‡ä»£ç ç”Ÿæˆè®¡åˆ’è½¬æ¢æˆFlink Transformation ä»è€Œæœ€ç»ˆè½¬æ¢æˆ Flink çš„æ‰§è¡Œå›¾ ä»ä»£ç æ¥çœ‹ tableEnv.sqlQuery() å°†sql è¯­å¥è½¬æ¢æˆäº† é€»è¾‘è®¡åˆ’ -\u003e ç‰©ç†è®¡åˆ’ env.execute() ç”ŸæˆStreamGraph æœ€ç»ˆæ‰§è¡Œè¯­å¥ ","date":"2023-04-30","objectID":"/flink-prefix/:4:0","tags":["flink","sql"],"title":"FlinkSQL - å¼€å§‹","uri":"/flink-prefix/"},{"categories":["Code"],"content":"sqlQuery sqlQuery ä¼šæŠŠ è¾“å…¥çš„ SQL è¯­å¥è½¬æ¢æˆOperation Operation å°±æ˜¯å¯¹äºè¡¨çš„æ‰€æœ‰æ“ä½œ(DML, DDL, DQL, DCL) Covers all sort of Table operations such as queries(DQL), modifications(DML), definitions(DDL), or control actions(DCL). This is the output of Planner.getParser() and Parser.parse(String). åœ¨è¿™é‡Œï¼ŒOperationå°±æ˜¯ä¸€ä¸ªPlannerQueryOperationï¼Œé‡Œé¢åŒ…å«äº†RelNodeçš„ä¿¡æ¯ã€‚Operation ä¼šåŒ…è£…æˆTable å¯¹è±¡è¿”å› public Table sqlQuery(String query) { /** * è¿™é‡Œä¼šè§£æSqlè¯­å¥è½¬æ¢æˆå…³ç³»ä»£æ•° */ List\u003cOperation\u003e operations = getParser().parse(query); if (operations.size() != 1) { throw new ValidationException( \"Unsupported SQL query! sqlQuery() only accepts a single SQL query.\"); } Operation operation = operations.get(0); if (operation instanceof QueryOperation \u0026\u0026 !(operation instanceof ModifyOperation)) { /** * è¿™é‡Œå°†è½¬æ¢çš„Operationè½¬æ¢æˆFlink Table APIå¯ä»¥è¯†åˆ«çš„Tableå¯¹è±¡ */ return createTable((QueryOperation) operation); } else { throw new ValidationException( \"Unsupported SQL query! sqlQuery() only accepts a single SQL query of type \" + \"SELECT, UNION, INTERSECT, EXCEPT, VALUES, and ORDER_BY.\"); } } ","date":"2023-04-30","objectID":"/flink-prefix/:4:1","tags":["flink","sql"],"title":"FlinkSQL - å¼€å§‹","uri":"/flink-prefix/"},{"categories":["Code"],"content":"LSM æ ‘(Log-Structured-Merge-Tree) ä¸ç®—æ˜¯æ ‘ï¼Œå…¶å®æ˜¯ä¸€ç§å­˜å‚¨ç»“æ„ åˆ©ç”¨é¡ºåºè¿½åŠ å†™æ¥æé«˜å†™æ€§èƒ½ å†…å­˜-æ–‡ä»¶è¯»å–æ–¹å¼ä¼šé™ä½è¯»æ€§èƒ½ ","date":"2023-04-28","objectID":"/lsm/:1:0","tags":["lsm"],"title":"LSMæ ‘","uri":"/lsm/"},{"categories":["Code"],"content":"MemTable æ”¾ç½®åœ¨å†…å­˜é‡Œ æœ€æ–°çš„æ•°æ® æŒ‰ç…§Key ç»„ç»‡æ•°æ®æœ‰åº(HBaseï¼šä½¿ç”¨è·³è¡¨) WALä¿è¯å¯é æ€§ ","date":"2023-04-28","objectID":"/lsm/:1:1","tags":["lsm"],"title":"LSMæ ‘","uri":"/lsm/"},{"categories":["Code"],"content":"Immutable MemTable MemTable è¾¾åˆ°ä¸€å®šå¤§å°åè½¬åŒ–æˆImmutable MemTable å†™æ“ä½œç”±æ–°çš„MemTable å¤„ç†ï¼Œ åœ¨è½¬å­˜è¿‡ç¨‹ä¸­ä¸é˜»å¡æ•°æ®æ›´æ–°æ“ä½œ ","date":"2023-04-28","objectID":"/lsm/:1:2","tags":["lsm"],"title":"LSMæ ‘","uri":"/lsm/"},{"categories":["Code"],"content":"SSTable(Sorted String Table) æœ‰åºé”®å€¼å¯¹é›†åˆ åœ¨ç£ç›˜çš„æ•°æ®ç»“æ„ ä¸ºäº†åŠ å¿«è¯»å–SSTableçš„è¯»å–ï¼Œå¯ä»¥é€šè¿‡å»ºç«‹keyç´¢å¼•ä»¥åŠå¸ƒéš†è¿‡æ»¤å™¨æ¥åŠ å¿«keyçš„æŸ¥æ‰¾ LSMæ ‘ä¼šå°†æ‰€æœ‰çš„æ•°æ®æ’å…¥ã€ä¿®æ”¹ã€åˆ é™¤ç­‰æ“ä½œè®°å½•ä¿å­˜åœ¨å†…å­˜ä¸­ï¼›å½“æ­¤ç±»æ“ä½œè¾¾åˆ°ä¸€å®šçš„æ•°æ®é‡åï¼Œå†æ‰¹é‡åœ°é¡ºåºå†™å…¥åˆ°ç£ç›˜å½“ä¸­ LSMæ ‘çš„æ•°æ®æ›´æ–°æ˜¯æ—¥å¿—å¼çš„ï¼Œå½“ä¸€æ¡æ•°æ®æ›´æ–°ä¼šç›´æ¥appendä¸€æ¡æ›´æ–°è®°å½•å®Œæˆçš„ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†é¡ºåºå†™ï¼Œå°†Immutable MemTable flushåˆ°æŒä¹…åŒ–å­˜å‚¨ï¼Œè€Œä¸ç”¨ä¿®æ”¹ä¹‹å‰çš„SSTableä¸­çš„key ä¸åŒçš„SSTableä¸­ï¼Œå¯èƒ½å­˜åœ¨ç›¸åŒKeyçš„è®°å½•ï¼Œæœ€æ–°çš„è®°å½•æ˜¯å‡†ç¡®çš„ï¼ˆç´¢å¼•/Bloomæ¥ä¼˜åŒ–æŸ¥æ‰¾é€Ÿåº¦ï¼‰ ä¸ºäº†å»é™¤å†—ä½™çš„keyéœ€è¦è¿›è¡Œcompactcaoæ“ä½œ ","date":"2023-04-28","objectID":"/lsm/:1:3","tags":["lsm"],"title":"LSMæ ‘","uri":"/lsm/"},{"categories":["Code"],"content":"Compactç­–ç•¥ ","date":"2023-04-28","objectID":"/lsm/:2:0","tags":["lsm"],"title":"LSMæ ‘","uri":"/lsm/"},{"categories":["Code"],"content":"é¡ºåºå†—ä½™å­˜å‚¨å¯èƒ½å¸¦æ¥çš„é—®é¢˜ è¯»æ”¾å¤§ è¯»å–æ•°æ®æ—¶å®é™…è¯»å–çš„æ•°æ®é‡å¤§äºçœŸæ­£çš„æ•°æ®é‡ Eg: å…ˆåœ¨ MemTable æŸ¥çœ‹å½“å‰Key æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨ç»§ç»­ä»SSTableä¸­æŸ¥æ‰¾ å†™æ”¾å¤§ å†™å…¥æ•°æ®æ—¶å®é™…å†™å…¥çš„æ•°æ®é‡å¤§äºçœŸæ­£çš„æ•°æ®é‡ Eg: å†™å…¥æ—¶å¯èƒ½è§¦å‘Compactæ“ä½œï¼Œå¯¼è‡´å®é™…å†™å…¥çš„æ•°æ®é‡è¿œå¤§äºè¯¥keyçš„æ•°æ®é‡ ç©ºé—´æ”¾å¤§ æ•°æ®å®é™…å ç”¨çš„ç£ç›˜ç©ºé—´æ¯”æ•°æ®çš„çœŸæ­£å¤§å°æ›´å¤š Eg: å¯¹äºä¸€ä¸ªkeyæ¥è¯´ï¼Œåªæœ‰æœ€æ–°çš„é‚£æ¡è®°å½•æ˜¯æœ‰æ•ˆçš„ï¼Œè€Œä¹‹å‰çš„è®°å½•éƒ½æ˜¯å¯ä»¥è¢«æ¸…ç†å›æ”¶çš„ã€‚ ","date":"2023-04-28","objectID":"/lsm/:2:1","tags":["lsm"],"title":"LSMæ ‘","uri":"/lsm/"},{"categories":["Code"],"content":"Compactç­–ç•¥ size-tiered ç­–ç•¥ ä¿è¯æ¯å±‚å†…éƒ¨çš„SSTableçš„å¤§å°ç›¸è¿‘ åŒæ—¶é™åˆ¶æ¯ä¸€å±‚SSTableçš„æ•°é‡ æ¯å±‚é™åˆ¶SSTableä¸ºNï¼Œå½“æ¯å±‚SSTableè¾¾åˆ°Nåï¼Œåˆ™è§¦å‘Compactæ“ä½œåˆå¹¶è¿™äº›SSTableï¼Œå¹¶å°†åˆå¹¶åçš„ç»“æœå†™å…¥åˆ°ä¸‹ä¸€å±‚æˆä¸ºä¸€ä¸ªæ›´å¤§çš„sstableã€‚ å½“å±‚æ•°è¾¾åˆ°ä¸€å®šæ•°é‡æ—¶ï¼Œæœ€åº•å±‚çš„å•ä¸ªSSTableçš„å¤§å°ä¼šå˜å¾—éå¸¸å¤§ã€‚å¹¶ä¸”size-tieredç­–ç•¥ä¼šå¯¼è‡´ç©ºé—´æ”¾å¤§æ¯”è¾ƒä¸¥é‡ã€‚å³ä½¿å¯¹äºåŒä¸€å±‚çš„SSTableï¼Œæ¯ä¸ªkeyçš„è®°å½•æ˜¯å¯èƒ½å­˜åœ¨å¤šä»½çš„ï¼Œåªæœ‰å½“è¯¥å±‚çš„SSTableæ‰§è¡Œcompactæ“ä½œæ‰ä¼šæ¶ˆé™¤è¿™äº›keyçš„å†—ä½™è®°å½•ã€‚ leveledç­–ç•¥ leveledç­–ç•¥ä¹Ÿæ˜¯é‡‡ç”¨åˆ†å±‚çš„æ€æƒ³ï¼Œæ¯ä¸€å±‚é™åˆ¶æ€»æ–‡ä»¶çš„å¤§å° å°†æ¯ä¸€å±‚åˆ‡åˆ†æˆå¤šä¸ªå¤§å°ç›¸è¿‘çš„SSTable è¿™ä¸€å±‚çš„SSTableæ˜¯å…¨å±€æœ‰åºçš„ï¼Œæ„å‘³ç€ä¸€ä¸ªkeyåœ¨æ¯ä¸€å±‚è‡³å¤šåªæœ‰1æ¡è®°å½•ï¼Œä¸å­˜åœ¨å†—ä½™è®°å½• åˆå¹¶è¿‡ç¨‹ L1çš„æ€»å¤§å°è¶…è¿‡L1æœ¬èº«å¤§å°é™åˆ¶ï¼š æ­¤æ—¶ä¼šä»L1ä¸­é€‰æ‹©è‡³å°‘ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åæŠŠå®ƒè·ŸL2æœ‰äº¤é›†çš„éƒ¨åˆ†(éå¸¸å…³é”®)è¿›è¡Œåˆå¹¶ã€‚ç”Ÿæˆçš„æ–‡ä»¶ä¼šæ”¾åœ¨L2: æ­¤æ—¶L1ç¬¬äºŒSSTableçš„keyçš„èŒƒå›´è¦†ç›–äº†L2ä¸­å‰ä¸‰ä¸ªSSTableï¼Œé‚£ä¹ˆå°±éœ€è¦å°†L1ä¸­ç¬¬äºŒä¸ªSSTableä¸L2ä¸­å‰ä¸‰ä¸ªSSTableæ‰§è¡ŒCompactæ“ä½œã€‚ å¦‚æœL2åˆå¹¶åçš„ç»“æœä»æ—§è¶…å‡ºL5çš„é˜ˆå€¼å¤§å°ï¼Œéœ€è¦é‡å¤ä¹‹å‰çš„æ“ä½œ â€”â€” é€‰è‡³å°‘ä¸€ä¸ªæ–‡ä»¶ç„¶åæŠŠå®ƒåˆå¹¶åˆ°ä¸‹ä¸€å±‚ Ps: å¤šä¸ªä¸ç›¸å¹²çš„åˆå¹¶æ˜¯å¯ä»¥å¹¶å‘è¿›è¡Œçš„ï¼š leveledç­–ç•¥ç›¸è¾ƒäºsize-tieredç­–ç•¥æ¥è¯´ï¼Œæ¯å±‚å†…keyæ˜¯ä¸ä¼šé‡å¤çš„ï¼Œå³ä½¿æ˜¯æœ€åçš„æƒ…å†µï¼Œé™¤å¼€æœ€åº•å±‚å¤–ï¼Œå…¶ä½™å±‚éƒ½æ˜¯é‡å¤keyï¼ŒæŒ‰ç…§ç›¸é‚»å±‚å¤§å°æ¯”ä¾‹ä¸º10æ¥ç®—ï¼Œå†—ä½™å æ¯”ä¹Ÿå¾ˆå°ã€‚å› æ­¤ç©ºé—´æ”¾å¤§é—®é¢˜å¾—åˆ°ç¼“è§£ã€‚ä½†æ˜¯å†™æ”¾å¤§é—®é¢˜ä¼šæ›´åŠ çªå‡ºã€‚ä¸¾ä¸€ä¸ªæœ€ååœºæ™¯ï¼Œå¦‚æœLevelNå±‚æŸä¸ªSSTableçš„keyçš„èŒƒå›´è·¨åº¦éå¸¸å¤§ï¼Œè¦†ç›–äº†LevelN+1å±‚æ‰€æœ‰keyçš„èŒƒå›´ï¼Œé‚£ä¹ˆè¿›è¡ŒCompactæ—¶å°†æ¶‰åŠLevelN+1å±‚çš„å…¨éƒ¨æ•°æ® ","date":"2023-04-28","objectID":"/lsm/:2:2","tags":["lsm"],"title":"LSMæ ‘","uri":"/lsm/"},{"categories":["Code"],"content":"ä»‹ç» AggHandlerCodeGenerator çš„ä»£ç åœ¨ flink planner ä¸‹ï¼Œç”¨æ¥ç”Ÿæˆèšåˆå‡½æ•°çš„ä»£ç ,æ˜¯scala ä»£ç  ","date":"2022-09-26","objectID":"/flink-agg-handler-code-generator/:0:0","tags":["flink"],"title":"FlinkSQL - AggHandlerCodeGenerator","uri":"/flink-agg-handler-code-generator/"},{"categories":["Code"],"content":"ç±»å®šä¹‰ package org.apache.flink.table.planner.codegen.agg class AggsHandlerCodeGenerator( ctx: CodeGeneratorContext, // ä¸Šä¸‹æ–‡ relBuilder: RelBuilder, // ç”¨æ¥ç”Ÿæˆå…³ç³»è¡¨è¾¾å¼ inputFieldTypes: Seq[LogicalType], copyInputField: Boolean // éœ€è¦ç¼“å­˜æ—¶å°†æ­¤å­—æ®µè®¾ç½®ä¸ºtrue) { private val inputType = RowType.of(inputFieldTypes: _*) /** å¸¸é‡è¡¨è¾¾å¼ */ private var constants: Seq[RexLiteral] = Seq() private var constantExprs: Seq[GeneratedExpression] = Seq() /** çª—å£ç›¸å…³å‚æ•°ï¼Œçª—å£èšåˆæ‰ä¼šç”¨åˆ° */ private var namespaceClassName: String = _ private var windowProperties: Seq[PlannerWindowProperty] = Seq() private var hasNamespace: Boolean = false /** èšåˆä¿¡æ¯ */ private var accTypeInfo: RowType = _ private var aggBufferSize: Int = _ private var mergedAccExternalTypes: Array[DataType] = _ private var mergedAccOffset: Int = 0 private var mergedAccOnHeap: Boolean = false private var ignoreAggValues: Array[Int] = Array() private var isAccumulateNeeded = false private var isRetractNeeded = false private var isMergeNeeded = false var valueType: RowType = _ /** * ç”Ÿæˆ [[AggsHandleFunction]] æˆ–è€… [[NamespaceAggsHandleFunction]] ä¼šåˆ›å»º [[aggBufferCodeGens]] and [[aggActionCodeGens]] ä¸¤è€…åŒ…å«ç›¸åŒçš„AggCodeGensï¼ŒaggBufferCodeGens ä»¥åˆ—è¡¨çš„æ‰å¹³å½¢å¼ï¼Œ aggActionCodeGensæ˜¯æ ‘å½¢ç»“æ„ åœ¨æ²¡æœ‰distinct çš„çš„æƒ…å†µä¸‹ï¼Œä¸¤è€…ç›¸åŒ */ /** aggBufferCodeGens ç”¨äºç”Ÿæˆç›¸å…³ç´¯åŠ å™¨(Accumulator)çš„ æ–¹æ³• */ private var aggBufferCodeGens: Array[AggCodeGen] = _ /** aggActionCodeGens æ ‘å½¢ç»“æ„ï¼Œèšåˆdistinctæ•°æ®çš„æ—¶å€™ï¼Œä¼šå°†ç›¸åŒéœ€è¦distinctçš„å­—æ®µç»„æˆæ ‘ç»“æ„ */ private var aggActionCodeGens: Array[AggCodeGen] = _ object aggshandlercodegenerator { /** static terms **/ val acc_term = \"acc\" val merged_acc_term = \"otheracc\" val accumulate_input_term = \"accinput\" val retract_input_term = \"retractinput\" val distinct_key_term = \"distinctkey\" val namespace_term = \"namespace\" val store_term = \"store\" val collector: string = classname[collector[_]] val collector_term = \"out\" val member_collector_term = \"convertcollector\" val convert_collector_type_term = \"convertcollector\" val key_term = \"groupkey\" val input_not_null = false } å¦‚æœä¸€ä¸ªSQLçš„ç»“æ„å¦‚ä¸‹ count(*), count(distinct a), count(distinct a) filter d \u003e 5, sum(a), sum(distinct a) +----------+-----------+-----------+---------+---------+----------------+ | count(*) | count(a') | count(a') | sum(a) | sum(a') | distinct(a) a' | +----------+-----------+-----------+---------+---------+----------------+ é‚£ä¹ˆ aggBufferCodeGens ä¼šè¿™æ ·ä¿å­˜ â”Œ â”‚ â”” â”€ c â”€ â”€ o â”€ â”€ u â”€ â”€ n â”€ â”€ t â”€ â”€ ( â”€ â”€ * â”€ â”€ ) â”€ â”¬ â”‚ â”´ â”€ â”€ â”€ c â”€ â”€ o â”€ â”€ u â”€ â”€ n â”€ â”€ t â”€ â”€ ( â”€ â”€ a â”€ â”€ ' â”€ â”€ ) â”€ â”¬ â”‚ â”´ â”€ â”€ â”€ c â”€ â”€ o â”€ â”€ u â”€ â”€ n â”€ â”€ t â”€ â”€ ( â”€ â”€ a â”€ â”€ ' â”€ â”€ ) â”€ â”¬ â”‚ â”´ â”€ â”€ â”€ s â”€ â”€ u â”€ â”€ m â”€ â”€ ( â”€ â”€ a â”€ â”€ ) â”€ â”¬ â”‚ â”´ â”€ â”€ â”€ s â”€ â”€ u â”€ â”€ m â”€ â”€ ( â”€ â”€ a â”€ â”€ ' â”€ â”€ ) â”€ â”¬ â”‚ â”´ â”€ â”€ â”€ d â”€ â”€ i â”€ â”€ s â”€ â”€ t â”€ â”€ i â”€ â”€ n â”€ â”€ c â”€ â”€ t â”€ â”€ ( â”€ â”€ a â”€ â”€ ) â”€ â” â”‚ â”˜ aggActionCodeGens ä¼šè¿™æ ·ä¿å­˜ â”Œ â”‚ â”‚ â”‚ â”‚ â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ c â”€ â”€ o â”€ â”€ u â”€ â”€ n â”€ â”€ t â”€ â”€ ( â”€ â”€ * â”€ â”€ ) â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”¬ â”‚ â”‚ â”‚ â”‚ â”´ â”€ â”€ â”€ s â”€ â”€ u â”€ â”€ m â”€ â”€ ( â”€ â”€ a â”€ â”€ ) â”€ â”¬ â”‚ â”‚ â”‚ â”‚ â”´ â”€ â”€ â”€ â”€ â”€ d â”€ â”€ i â”€ â”€ s â”œ â”œ â”” â”€ â”€ t â”€ â”€ â”€ â”€ â”€ i c c s â”€ â”€ n o o u â”€ â”€ c u u m â”€ â”€ t n n ( â”€ â”€ ( t t a â”€ â”€ a ( ( ' â”€ â”€ ) a a ) â”€ â”€ ' ' â”€ â”€ a ) ) â”€ â”€ ' â”€ â”€ ( â”€ â”€ f â”€ â”€ i â”€ â”€ l â”€ â”€ t â”€ â”€ e â”€ â”€ r â”€ â”€ â”€ â”€ d â”€ â”€ â”€ â”€ \u003e â”€ â”€ â”€ â”€ 5 â”€ â”€ ) â”€ â”€ â”€ â”€ â”€ â” â”‚ â”‚ â”‚ â”‚ â”˜ ","date":"2022-09-26","objectID":"/flink-agg-handler-code-generator/:1:0","tags":["flink"],"title":"FlinkSQL - AggHandlerCodeGenerator","uri":"/flink-agg-handler-code-generator/"},{"categories":["Code"],"content":"CodeGeneratorContext package org.apache.flink.table.planner.codegen /** ç”Ÿæˆä»£ç çš„ä¸Šä¸‹æ–‡ï¼Œç»´æŠ¤ä»£ç æ®µçš„çŠ¶æ€ */ class CodeGeneratorContext(val tableConfig: TableConfig) { // ä¿å­˜ç”¨äºä¼ é€’ç”Ÿæˆç±»çš„å¯¹è±¡åˆ—è¡¨ val references: mutable.ArrayBuffer[AnyRef] = new mutable.ArrayBuffer[AnyRef]() // æ’å…¥æœ‰åºï¼Œåªä¼šè¢«æ·»åŠ ä¸€æ¬¡ï¼Œ æˆå‘˜çŠ¶æ€ private val reusableMemberStatements: mutable.LinkedHashSet[String] = mutable.LinkedHashSet[String]() // æ’å…¥æœ‰åºï¼Œåªä¼šè¢«æ·»åŠ ä¸€æ¬¡ï¼Œ æ„é€ çŠ¶æ€ private val reusableInitStatements: mutable.LinkedHashSet[String] = mutable.LinkedHashSet[String]() // æ’å…¥æœ‰åºï¼Œåªä¼šè¢«æ·»åŠ ä¸€æ¬¡ï¼Œ RichFunction ä¸­openæ–¹æ³•çš„çŠ¶æ€ private val reusableOpenStatements: mutable.LinkedHashSet[String] = mutable.LinkedHashSet[String]() // æ’å…¥æœ‰åºï¼Œåªä¼šè¢«æ·»åŠ ä¸€æ¬¡ï¼Œ RichFunction ä¸­closeæ–¹æ³•çš„çŠ¶æ€ private val reusableCloseStatements: mutable.LinkedHashSet[String] = mutable.LinkedHashSet[String]() // æ’å…¥æœ‰åºï¼Œåªä¼šè¢«æ·»åŠ ä¸€æ¬¡ï¼Œ æ¸…ç† dataview çš„çŠ¶æ€ private val reusableCleanupStatements = mutable.LinkedHashSet[String]() // å•ä¸ªè®°å½•çš„çŠ¶æ€ï¼Œ æ’å…¥æœ‰åºï¼Œå› ä¸ºæœ¬åœ°å˜é‡éœ€è¦è¢«åˆ†å‰²ï¼Œæ‰€ä»¥æœ¬åœ°å˜é‡æ— æ³•è®¿é—®ï¼Œåªèƒ½æ›´æ–°æˆå‘˜å˜é‡ private val reusablePerRecordStatements: mutable.LinkedHashSet[String] = mutable.LinkedHashSet[String]() // (inputTerm, index) -\u003e expr // åªä¼šè¢«æ·»åŠ ä¸€æ¬¡ï¼Œ åˆå§‹åŒ–æ‹†ç®±è¡¨è¾¾å¼Map val reusableInputUnboxingExprs: mutable.Map[(String, Int), GeneratedExpression] = mutable.Map[(String, Int), GeneratedExpression]() // æ’å…¥æœ‰åºï¼Œåªä¼šè¢«æ·»åŠ ä¸€æ¬¡ï¼Œæ„é€ å‡½æ•°çš„çŠ¶æ€ private val reusableConstructorStatements: mutable.LinkedHashSet[(String, String)] = mutable.LinkedHashSet[(String, String)]() // æ’å…¥æœ‰åºï¼Œåªä¼šè¢«æ·»åŠ ä¸€æ¬¡ï¼Œç±»å£°æ˜çŠ¶æ€ private val reusableInnerClassDefinitionStatements: mutable.Map[String, String] = mutable.Map[String, String]() // string_constant -\u003e reused_term // å¸¸é‡ private val reusableStringConstants: mutable.Map[String, String] = mutable.Map[String, String]() // LogicalType -\u003e reused_term // ç±»å‹åºåˆ—åŒ– private val reusableTypeSerializers: mutable.Map[LogicalType, String] = mutable.Map[LogicalType, String]() /** * Flag map that indicates whether the generated code for method is split into several methods. */ private val isCodeSplitMap = mutable.Map[String, Boolean]() // method_name -\u003e local_variable_statements private val reusableLocalVariableStatements = mutable.Map[String, mutable.LinkedHashSet[String]]( (currentMethodNameForLocalVariables, mutable.LinkedHashSet[String]())) ","date":"2022-09-26","objectID":"/flink-agg-handler-code-generator/:1:1","tags":["flink"],"title":"FlinkSQL - AggHandlerCodeGenerator","uri":"/flink-agg-handler-code-generator/"},{"categories":null,"content":"Toxi Alisa ","date":"2022-09-02","objectID":"/about/:0:0","tags":null,"title":"About","uri":"/about/"}]